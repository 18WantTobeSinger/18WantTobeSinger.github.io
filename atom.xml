<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Halo</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://18wanttobesinger.github.io/"/>
  <updated>2020-07-06T09:42:59.156Z</updated>
  <id>https://18wanttobesinger.github.io/</id>
  
  <author>
    <name>Halo</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>NIOä¹‹ç¼“å†²åŒºçš„ä½¿ç”¨</title>
    <link href="https://18wanttobesinger.github.io/2020/07/06/NIO%E4%B9%8B%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>https://18wanttobesinger.github.io/2020/07/06/NIO%E4%B9%8B%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2020-07-06T08:17:56.000Z</published>
    <updated>2020-07-06T09:42:59.156Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>å¥³äººé”™è¿‡äº†å¥¹æœ€æƒ³å«çš„é‚£ä¸ªç”·äººï¼Œå°±ä¼šå˜å¾—æŒ‘å‰”ï¼›ç”·äººé”™è¿‡äº†é‚£ä¸ªä»–æœ€æƒ³å¨¶çš„å¥³äººï¼Œå°±ä¼šå˜å¾—éšæ„ é‚£æ—¶å€™é™ªä¼´æˆ‘çš„é‚£ä¸ªï¼Œè¿™é‡Œçš„æ•…äº‹ä½ æ˜¯å¦è¿˜è®°å¾— </p><p>â€‹                                                                                                       â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„</p></blockquote><h2 id="NIOä¹‹ç¼“å†²åŒºçš„ä½¿ç”¨"><a href="#NIOä¹‹ç¼“å†²åŒºçš„ä½¿ç”¨" class="headerlink" title="NIOä¹‹ç¼“å†²åŒºçš„ä½¿ç”¨"></a>NIOä¹‹ç¼“å†²åŒºçš„ä½¿ç”¨</h2><p>ä»Šå¹´å¯’å‡å‰ï¼Œåœ¨å­¦æ ¡å›¾ä¹¦é¦†é‡Œå€Ÿäº†ä¸€æœ¬å…³äºNIOçš„ä¹¦ï¼ŒèŠ±äº†å‡ å¤©æ—¶é—´çœ‹å®Œäº†ï¼Œä½†æ˜¯ç”±äºä¹‹å‰æ²¡æœ‰åˆ›å»ºä¸ªäººåšå®¢ï¼Œæ‰€ä»¥ä»Šå¤©é‡æ¸©ä¸€ä¸‹åšä¸ªç¬”è®°ğŸ˜ã€‚</p><hr><h3 id="é¦–å…ˆäº†è§£ä»€ä¹ˆæ˜¯NIOï¼Ÿ"><a href="#é¦–å…ˆäº†è§£ä»€ä¹ˆæ˜¯NIOï¼Ÿ" class="headerlink" title="é¦–å…ˆäº†è§£ä»€ä¹ˆæ˜¯NIOï¼Ÿ"></a>é¦–å…ˆäº†è§£ä»€ä¹ˆæ˜¯NIOï¼Ÿ</h3><p>â€‹        å¸¸è§„çš„ I/O ï¼ˆå¦‚InputStream å’Œ OutputStreamï¼‰å­˜åœ¨å¾ˆå¤§ç¼ºç‚¹ï¼Œå°±æ˜¯å®ƒä»¬æ˜¯é˜»å¡çš„ï¼Œè€Œ<code>NIO</code>è§£å†³çš„å°±æ˜¯å¸¸è§„ I/Oæ‰§è¡Œæ•ˆç‡ä½çš„é—®é¢˜ã€‚å³é‡‡ç”¨éé˜»å¡é«˜æ€§èƒ½è¿è¡Œçš„æ–¹å¼æ¥é¿å…å‡ºç°ä»¥å‰ â€œç¬¨æ‹™â€ çš„åŒæ­¥ I/Oå¸¦æ¥çš„ä½æ•ˆç‡é—®é¢˜ã€‚ <code>NIO</code>å¯¹å¸¸è§„çš„ I/O ä½¿ç”¨çš„ byte[] æˆ– char[] è¿›è¡Œå°è£…ï¼Œé‡‡ç”¨ ByteBuffer ç±»æ¥æ“ä½œæ•°æ®ï¼Œå†ç»“åˆé’ˆå¯¹ File æˆ– Socket æŠ€æœ¯çš„ Channel ï¼Œé‡‡ç”¨åŒæ­¥éé˜»å¡æŠ€æœ¯å®ç°é«˜æ€§èƒ½å¤„ç†ã€‚</p><p>â€‹        Buffer ç±»çš„ä¿¡æ¯å¦‚ä¸‹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1594024381559.png" alt="1594024381559"></p><p>â€‹        å¯ä»¥å‘ç° Buffer æ˜¯ä¸ªæŠ½è±¡ç±»ï¼Œé‚£ä¹ˆå®ƒå¿…å®šæœ‰å­ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1594024436930.png" alt="1594024436930"></p><p>â€‹        NIO ä¸­Bufferæ˜¯ä¸€ä¸ªç”¨äºå­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹å€¼çš„å®¹å™¨ï¼Œå®ƒä»¥ç±»ä¼¼äºæ•°ç»„æœ‰åºçš„æ–¹å¼æ¥å­˜å‚¨å’Œç»„ç»‡æ•°æ®ã€‚æ¯ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆé™¤å» booleanï¼‰éƒ½æœ‰ä¸€ä¸ªå­ç±»ä¸ä¹‹å¯¹åº”ã€‚</p><h3 id="Buffer-ç±»çš„ä½¿ç”¨"><a href="#Buffer-ç±»çš„ä½¿ç”¨" class="headerlink" title="Buffer ç±»çš„ä½¿ç”¨"></a>Buffer ç±»çš„ä½¿ç”¨</h3><p>â€‹        è§‚å¯Ÿä¸Šå›¾ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒBuffer æ˜¯ä¸ªæŠ½è±¡ç±»ï¼Œå¹¶ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–ï¼Œä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°ï¼Œå³ä½¿å®ƒçš„å­ç±»ä¹Ÿéƒ½æ˜¯æŠ½è±¡ç±»ï¼ŒåŒæ ·ä¸å¯ä»¥ç›´æ¥å®ä¾‹åŒ–ã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•åˆ›å»ºè¿™äº›ç±»çš„å¯¹è±¡å‘¢ï¼Ÿä½¿ç”¨æ–¹å¼æ˜¯å°†ä¸Šé¢ 7 ç§æ•°æ®ç±»å‹çš„æ•°ç»„åŒ…è£…ï¼ˆwrapï¼‰è¿›ç¼“å†²åŒºï¼Œæ­¤æ—¶éœ€è¦å€ŸåŠ©é™æ€æ–¹æ³• <code>wrap()</code>è¿›è¡Œå®ç°ã€‚<code>wrap()</code>æ–¹æ³•çš„ä½œç”¨æ˜¯å°†æ•°ç»„æ”¾å…¥ç¼“å†²åŒºï¼Œæ¥æ„å»ºå­˜å‚¨ä¸åŒçš„æ•°æ®ç±»å‹ç¼“å†²åŒºã€‚ä»¥ä¸‹ä»¥ CharBuffer ä¸ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> CharBuffer <span class="title">wrap</span><span class="params">(<span class="keyword">char</span>[] array)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> wrap(array, <span class="number">0</span>, array.length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>ç¼“å†²åŒºä¸ºéçº¿ç¨‹å®‰å…¨çš„ã€‚</em></p><h3 id="NIOæŠ€æœ¯çš„ç¼“å†²åŒºçš„-4-ä¸ªæ ¸å¿ƒæŠ€æœ¯ç‚¹"><a href="#NIOæŠ€æœ¯çš„ç¼“å†²åŒºçš„-4-ä¸ªæ ¸å¿ƒæŠ€æœ¯ç‚¹" class="headerlink" title="NIOæŠ€æœ¯çš„ç¼“å†²åŒºçš„ 4 ä¸ªæ ¸å¿ƒæŠ€æœ¯ç‚¹"></a>NIOæŠ€æœ¯çš„ç¼“å†²åŒºçš„ 4 ä¸ªæ ¸å¿ƒæŠ€æœ¯ç‚¹</h3><h4 id="åŒ…è£…æ•°æ®ä¸è·å¾—å®¹é‡"><a href="#åŒ…è£…æ•°æ®ä¸è·å¾—å®¹é‡" class="headerlink" title="åŒ…è£…æ•°æ®ä¸è·å¾—å®¹é‡"></a>åŒ…è£…æ•°æ®ä¸è·å¾—å®¹é‡</h4><h5 id="capacityï¼ˆå®¹é‡ï¼‰"><a href="#capacityï¼ˆå®¹é‡ï¼‰" class="headerlink" title="capacityï¼ˆå®¹é‡ï¼‰"></a>capacityï¼ˆå®¹é‡ï¼‰</h5><p>â€‹        å®ƒä»£è¡¨åŒ…å«å…ƒç´ çš„æ•°é‡ã€‚ä¸å¯æ˜¯è´Ÿå€¼ï¼Œä¸å¯è¢«ä¿®æ”¹ã€‚</p><p><strong>ç›¸å…³æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">capacity</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[] &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>&#125;;</span><br><span class="line">CharBuffer charbuffer = CharBuffer.wrap(chars);</span><br><span class="line"><span class="keyword">int</span> cap = charbuffer.capacity();</span><br><span class="line">System.out.println(cap);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æœï¼š 3</span></span><br></pre></td></tr></table></figure><h4 id="é™åˆ¶è·å–ä¸è®¾ç½®"><a href="#é™åˆ¶è·å–ä¸è®¾ç½®" class="headerlink" title="é™åˆ¶è·å–ä¸è®¾ç½®"></a>é™åˆ¶è·å–ä¸è®¾ç½®</h4><h5 id="limitï¼ˆé™åˆ¶ï¼‰"><a href="#limitï¼ˆé™åˆ¶ï¼‰" class="headerlink" title="limitï¼ˆé™åˆ¶ï¼‰"></a>limitï¼ˆé™åˆ¶ï¼‰</h5><p>â€‹        è¿”å›æ­¤ç¼“å†²åŒºçš„é™åˆ¶ã€‚ä»€ä¹ˆæ˜¯ç¼“å†²åŒºçš„é™åˆ¶å‘¢ï¼Ÿå®ƒä»£è¡¨ç¬¬ä¸€ä¸ªä¸åº”è¯¥è¯»å–æˆ–å†™å…¥å…ƒç´ çš„ indexï¼ˆç´¢å¼•ï¼‰ã€‚ä¸å¯ä»¥æ˜¯è´Ÿå€¼ï¼Œå¹¶ä¸”å…¶å€¼ä¸èƒ½å¤§äº<code>capacity</code>ã€‚å¦‚æœ<code>position</code> å¤§äºæ–°çš„ <code>limit</code>ï¼Œåˆ™å¥–<code>position</code>è®¾ç½®ä¸ºæ–°çš„<code>limit</code>ã€‚å¦‚æœ<code>mark</code>å·²å®šä¹‰ä¸”å¤§äºæ–°çš„<code>limit</code>ï¼Œåˆ™ä¸¢å¼ƒè¯¥<code>mark</code>ã€‚<code>limit</code>çš„åº”ç”¨ç¤ºä¾‹å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1594026005008.jpg" alt="1594026005008"></p><p><strong>ç›¸å…³æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">limit</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Buffer <span class="title">limit</span><span class="params">(<span class="keyword">int</span> newLimit)</span></span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[] &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>&#125;;</span><br><span class="line">CharBuffer charbuffer = CharBuffer.wrap(chars);</span><br><span class="line"><span class="keyword">int</span> limit = charbuffer.limit();</span><br><span class="line">System.out.println(<span class="string">"ä¿®æ”¹å‰"</span> + limit);</span><br><span class="line"></span><br><span class="line">charbuffer.limit(<span class="number">3</span>);</span><br><span class="line">limit = charbuffer.limit();</span><br><span class="line">System.out.println(<span class="string">"ä¿®æ”¹å"</span> + limit);</span><br><span class="line"></span><br><span class="line"><span class="comment">// put(ç´¢å¼•ï¼Œæ•°æ®)</span></span><br><span class="line">charbuffer.put(<span class="number">3</span>, <span class="string">'q'</span>);<span class="comment">// æ­¤ä½ç½®æ˜¯ç¬¬ä¸€ä¸ªä¸å¯è¯»ä¸å¯å†™çš„ç´¢å¼•,ä¼šæŠ›å‡ºIndexOutOfBoundException</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æœï¼š </span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">Exception in thread <span class="string">"main"</span> java.lang.IndexOutOfBoundException</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><h4 id="ä½ç½®è·å–ä¸è®¾ç½®"><a href="#ä½ç½®è·å–ä¸è®¾ç½®" class="headerlink" title="ä½ç½®è·å–ä¸è®¾ç½®"></a>ä½ç½®è·å–ä¸è®¾ç½®</h4><h5 id="positionï¼ˆä½ç½®ï¼‰"><a href="#positionï¼ˆä½ç½®ï¼‰" class="headerlink" title="positionï¼ˆä½ç½®ï¼‰"></a>positionï¼ˆä½ç½®ï¼‰</h5><p>â€‹        ä»£è¡¨ â€œä¸‹ä¸€ä¸ªâ€ è¦è¯»å–æˆ–å†™å…¥å…ƒç´ çš„ç´¢å¼•ï¼Œ<code>position</code>ä¸èƒ½ä¸ºè´Ÿå€¼ï¼Œå¹¶ä¸”<code>position</code>ä¸èƒ½å¤§äºå…¶<code>limit</code>ã€‚å¦‚æœ<code>mark</code>å·²å®šä¹‰ä¸”å¤§äºæ–°çš„<code>position</code>ï¼Œåˆ™ä¸¢å¼ƒè¯¥<code>mark</code>ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1594026689661.jpg" alt="1594026689661"></p><p><strong>ç›¸å…³æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">position</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Buffer <span class="title">position</span><span class="params">(<span class="keyword">int</span> newPosition)</span></span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[] &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>&#125;;</span><br><span class="line">CharBuffer charbuffer = CharBuffer.wrap(chars);</span><br><span class="line"></span><br><span class="line"><span class="comment">// position é»˜è®¤åˆšå¼€å§‹ä¸º 0</span></span><br><span class="line"><span class="keyword">int</span> position = charbuffer.position();</span><br><span class="line">System.out.println(<span class="string">"ä¿®æ”¹å‰: "</span> + position);</span><br><span class="line"></span><br><span class="line">charbuffer.position(<span class="number">3</span>);</span><br><span class="line">position = charbuffer.position();</span><br><span class="line">System.out.println(<span class="string">"ä¿®æ”¹å: "</span> + position);</span><br><span class="line"></span><br><span class="line">charbuffer.put(<span class="string">'q'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; chars.length; i ++) </span><br><span class="line">    System.out.print(chars[i] + <span class="string">" "</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æœï¼š </span></span><br><span class="line">ä¿®æ”¹å‰: <span class="number">0</span></span><br><span class="line">ä¿®æ”¹å: <span class="number">3</span></span><br><span class="line">a b c q e</span><br></pre></td></tr></table></figure><h4 id="å‰©ä½™ç©ºé—´å¤§å°è·å–"><a href="#å‰©ä½™ç©ºé—´å¤§å°è·å–" class="headerlink" title="å‰©ä½™ç©ºé—´å¤§å°è·å–"></a>å‰©ä½™ç©ºé—´å¤§å°è·å–</h4><h5 id="remainingï¼ˆå‰©ä½™ç©ºé—´ï¼‰"><a href="#remainingï¼ˆå‰©ä½™ç©ºé—´ï¼‰" class="headerlink" title="remainingï¼ˆå‰©ä½™ç©ºé—´ï¼‰"></a>remainingï¼ˆå‰©ä½™ç©ºé—´ï¼‰</h5><p><strong>ç›¸å…³æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">remaining</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    return limit - position</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1594027234062.jpg" alt="1594027234062"></p><p>ä¸Šå›¾ï¼šlimit - position ä¼šè¿”å› 2ã€‚</p><h4 id="è®¾ç½®æ ‡è®°ï¼š"><a href="#è®¾ç½®æ ‡è®°ï¼š" class="headerlink" title="è®¾ç½®æ ‡è®°ï¼š"></a><strong>è®¾ç½®æ ‡è®°ï¼š</strong></h4><h5 id="markï¼ˆæ ‡è®°ï¼‰"><a href="#markï¼ˆæ ‡è®°ï¼‰" class="headerlink" title="markï¼ˆæ ‡è®°ï¼‰"></a>markï¼ˆæ ‡è®°ï¼‰</h5><p>â€‹        åœ¨æ­¤ç¼“å†²åŒºçš„ä½ç½®è®¾ç½®æ ‡è®°ã€‚</p><p>â€‹        æ ‡è®°æ˜¯ä¸€ä¸ªç´¢å¼•ï¼Œå½“æˆ‘ä»¬è°ƒç”¨<code>reset()</code>æ–¹æ³•æ—¶ï¼Œä¼šå°†ç¼“å†²åŒºçš„<code>position</code>ä½ç½®é‡ç½®ä¸ºè¯¥ç´¢å¼•ã€‚æ ‡è®°å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼ŒåŒæ ·ä¸èƒ½æ˜¯è´Ÿæ•°ï¼Œå¹¶ä¸”ä¸èƒ½è®©å®ƒå¤§äº<code>position</code>ã€‚å¦‚æœå®šä¹‰<code>mark</code>ï¼Œåˆ™å†å°†<code>position</code>æˆ–<code>limit</code>è°ƒæ•´ä¸ºå°äºè¯¥<code>mark</code>çš„å€¼æ—¶ï¼Œè¯¥<code>mark</code>è¢«ä¸¢å¼ƒï¼Œä¸¢å¼ƒåå…¶å€¼ä¸º -1ã€‚å¦‚æœæœªå®šä¹‰<code>mark</code>ï¼Œé‚£ä¹ˆè°ƒç”¨<code>reset()</code>æ–¹æ³•å°†å¯¼è‡´æŠ›å‡º<code>InvalidMarkException</code>å¼‚å¸¸ã€‚</p><p><strong>ç›¸å…³æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Buffer <span class="title">mark</span><span class="params">()</span></span>&#123;</span><br><span class="line">    mark = position;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Buffer <span class="title">reset</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = mark;</span><br><span class="line">    <span class="keyword">if</span> (m &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> InvalidMarkException();</span><br><span class="line">    position = m;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="çŸ¥è¯†ç‚¹æ€»ç»“"></a>çŸ¥è¯†ç‚¹æ€»ç»“</h3><ol><li>ç¼“å†²åŒºçš„<code>capacity</code>ã€<code>limit</code>ã€<code>position</code>éƒ½ä¸èƒ½æ˜¯è´Ÿæ•°ã€‚</li><li><code>position</code>ä¸èƒ½å¤§äº<code>limit</code>ã€‚</li><li><code>limit</code>ä¸èƒ½å¤§äºcapacityã€‚</li><li>å¦‚æœå®šä¹‰<code>mark</code>ï¼Œåœ¨å°†<code>position</code>æˆ–<code>limit</code>è°ƒæ•´ä¸ºå°äºè¯¥<code>mark</code>çš„å€¼æ—¶ï¼Œè¯¥<code>mark</code>è¢«ä¸¢å¼ƒã€‚</li><li>æœªå®šä¹‰<code>mark</code>ï¼Œè°ƒç”¨<code>reset()</code>æ–¹æ³•å°†å¯¼è‡´æŠ›å‡º<code>InvalidMarkException</code>å¼‚å¸¸ã€‚</li><li>å½“<code>limit</code>å’Œ<code>position</code>å€¼ä¸€æ ·æ—¶ï¼Œåœ¨æŒ‡å®šçš„<code>position</code>ä½ç½®å†™å…¥æ•°æ®ä¼šå‡ºç°å¼‚å¸¸ã€‚</li></ol><p>å–œæ¬¢æœ¬æ–‡çš„è¯ï¼Œ<strong>åœ¨è¯„è®ºåŒºç•™ä¸ªè¨€å§ğŸ˜˜</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="NIO" scheme="https://18wanttobesinger.github.io/tags/NIO/"/>
    
  </entry>
  
  <entry>
    <title>é€šé…ç¬¦åŒ¹é…</title>
    <link href="https://18wanttobesinger.github.io/2020/07/05/%E9%80%9A%E9%85%8D%E7%AC%A6%E5%8C%B9%E9%85%8D/"/>
    <id>https://18wanttobesinger.github.io/2020/07/05/%E9%80%9A%E9%85%8D%E7%AC%A6%E5%8C%B9%E9%85%8D/</id>
    <published>2020-07-05T06:15:53.000Z</published>
    <updated>2020-07-05T08:29:13.290Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>åˆ°äº†äºŒåå¤šå²çš„å¹´çºªï¼Œæˆ‘ç»ˆäºæ‰¿è®¤æˆ‘çœŸçš„å¾ˆå¹³åº¸ï¼Œæˆ‘ä¼šæ›´åŠ åŠªåŠ›ï¼åŠ æ²¹ï¼ï¼ï¼</p><p>â€‹                                                                                                                               â€”â€“ Halo</p></blockquote><a id="more"></a><h2 id="44-é€šé…ç¬¦åŒ¹é…"><a href="#44-é€šé…ç¬¦åŒ¹é…" class="headerlink" title="44. é€šé…ç¬¦åŒ¹é…"></a><a href="https://leetcode-cn.com/problems/wildcard-matching/" target="_blank" rel="noopener">44. é€šé…ç¬¦åŒ¹é…</a></h2><p>ä»Šå¤©æ˜¯2020å¹´7æœˆ5æ—¥ï¼Œæˆ‘ä»åœ¨åŠªåŠ›â€¦</p><p>è¿™é“é¢˜æ˜¯leetcodeæ¯æ—¥ä¸€é¢˜ï¼Œå…¸å‹çš„åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚è™½è¯´éš¾åº¦ä¸º<span style="color: red;">å›°éš¾</span>ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å¾ˆéš¾ã€‚</p><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² (<code>s</code>) å’Œä¸€ä¸ªå­—ç¬¦æ¨¡å¼ (<code>p</code>) ï¼Œå®ç°ä¸€ä¸ªæ”¯æŒ <code>&#39;?&#39;</code> å’Œ <code>&#39;*&#39;</code> çš„é€šé…ç¬¦åŒ¹é…ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#39;?&#39; å¯ä»¥åŒ¹é…ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚</span><br><span class="line">&#39;*&#39; å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç©ºå­—ç¬¦ä¸²ï¼‰ã€‚</span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ªå­—ç¬¦ä¸²<strong>å®Œå…¨åŒ¹é…</strong>æ‰ç®—åŒ¹é…æˆåŠŸã€‚</p><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜:"></a><strong>è¯´æ˜:</strong></h3><ul><li><code>s</code> å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» <code>a-z</code> çš„å°å†™å­—æ¯ã€‚</li><li><code>p</code> å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» <code>a-z</code> çš„å°å†™å­—æ¯ï¼Œä»¥åŠå­—ç¬¦ <code>?</code> å’Œ <code>*</code>ã€‚</li></ul><h4 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1:"></a><strong>ç¤ºä¾‹ 1:</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s &#x3D; &quot;aa&quot;</span><br><span class="line">p &#x3D; &quot;a&quot;</span><br><span class="line">è¾“å‡º: false</span><br><span class="line">è§£é‡Š: &quot;a&quot; æ— æ³•åŒ¹é… &quot;aa&quot; æ•´ä¸ªå­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2:"></a><strong>ç¤ºä¾‹ 2:</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s &#x3D; &quot;aa&quot;</span><br><span class="line">p &#x3D; &quot;*&quot;</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: &#39;*&#39; å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3:"></a><strong>ç¤ºä¾‹ 3:</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s &#x3D; &quot;cb&quot;</span><br><span class="line">p &#x3D; &quot;?a&quot;</span><br><span class="line">è¾“å‡º: false</span><br><span class="line">è§£é‡Š: &#39;?&#39; å¯ä»¥åŒ¹é… &#39;c&#39;, ä½†ç¬¬äºŒä¸ª &#39;a&#39; æ— æ³•åŒ¹é… &#39;b&#39;ã€‚</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-4"><a href="#ç¤ºä¾‹-4" class="headerlink" title="ç¤ºä¾‹ 4:"></a><strong>ç¤ºä¾‹ 4:</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s &#x3D; &quot;adceb&quot;</span><br><span class="line">p &#x3D; &quot;*a*b&quot;</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: ç¬¬ä¸€ä¸ª &#39;*&#39; å¯ä»¥åŒ¹é…ç©ºå­—ç¬¦ä¸², ç¬¬äºŒä¸ª &#39;*&#39; å¯ä»¥åŒ¹é…å­—ç¬¦ä¸² &quot;dce&quot;.</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-5"><a href="#ç¤ºä¾‹-5" class="headerlink" title="ç¤ºä¾‹ 5:"></a><strong>ç¤ºä¾‹ 5:</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s &#x3D; &quot;acdcb&quot;</span><br><span class="line">p &#x3D; &quot;a*c?b&quot;</span><br><span class="line">è¾“å‡º: false</span><br></pre></td></tr></table></figure><h3 id="æˆ‘çš„æ€è·¯ï¼š"><a href="#æˆ‘çš„æ€è·¯ï¼š" class="headerlink" title="æˆ‘çš„æ€è·¯ï¼š"></a>æˆ‘çš„æ€è·¯ï¼š</h3><p>è¿™é“é¢˜æˆ‘æœ¬æ¥æƒ³ç€å…ˆç”¨é€’å½’æ¥è§£ï¼Œé€šè¿‡åŒæŒ‡é’ˆæ³•ï¼Œä¸æ–­é€’å½’ï¼Œå¯æƒœè¶…æ—¶ã€‚ã€‚ã€‚æ€è·¯å¦‚ä¸‹ï¼š</p><p>å½“ <code>s[i] == p[j]  || p[j] == &#39;?&#39;</code>ï¼Œè¿›è¡Œ<code>helper(s, i + 1, p, j + 1);</code> </p><p>å½“ <code>p[j] == &#39;*&#39;</code>, è¿›è¡Œ <code>helper(s, i + 1, p, j) || helper(s, i + 1, p, j + 1) || helper(s, i, p, j + 1)</code>;</p><p>è‡³äºä¸ºä»€ä¹ˆè¿™æ ·åšï¼Œæ¥ä¸‹æ¥åŠ¨æ€è§„åˆ’çš„æ€è·¯ä¼šè®²è§£ã€‚è¿™é‡Œåªæä¾›å¤§æ¦‚å¾—æ€è·¯ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯å¾ˆé«˜çš„ï¼Œä¸å»ºè®®ä½¿ç”¨æ­¤æ–¹æ³•ã€‚</p><h4 id="åŠ¨æ€è§„åˆ’ï¼š"><a href="#åŠ¨æ€è§„åˆ’ï¼š" class="headerlink" title="åŠ¨æ€è§„åˆ’ï¼š"></a>åŠ¨æ€è§„åˆ’ï¼š</h4><ul><li>é¦–å…ˆå®šä¹‰<strong>dp</strong>æ•°ç»„çš„å«ä¹‰ï¼š<code>dp[i][j]</code> è¡¨ç¤ºå­—ç¬¦ä¸² <strong>s</strong> çš„å‰ i ä¸ªå­—ç¬¦å’Œå­—ç¬¦ä¸² <strong>p</strong> çš„å‰ j ä¸ªå­—ç¬¦æ˜¯å¦åŒ¹é…</li><li>æ¥ä¸‹æ¥å°±æŒ‰ç…§æƒ…å†µåˆ’åˆ†ï¼š<ul><li>1ã€p[j] å’Œs[i] ç›¸ç­‰ï¼›</li><li>2ã€p[j] = â€˜?â€™ï¼›</li><li>3ã€p[j] = â€˜*â€™ï¼›</li></ul></li><li><strong>1å’Œ2</strong>ï¼šå¯åˆä¸ºä¸€ç§ <ul><li>åªè¦<code>dp[i - 1][j - 1]</code>åŒ¹é…ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¾—å‡ºåªè¦<code>p[j]</code> å’Œ<code>s[i]</code> ç›¸ç­‰æˆ–è€…<code>[j] = &#39;?&#39;</code>ï¼›é‚£ä¹ˆ æˆ‘ä»¬å°±èƒ½ <code>dp[i][j] = dp[i - 1][j - 1]</code>; </li></ul></li><li><strong>3</strong>ï¼šå½“p[j] = â€˜*â€™ï¼Œåˆ†ä¸ºä¸‰ç§æƒ…å†µï¼Œåªè¦è¿™ä¸‰ç§æƒ…å†µä»»æ„ä¸€ä¸ªä¸ºtrueï¼Œé‚£ä¹ˆ<code>dp[i][j]</code>å°±ä¸ºtrueï¼š<ul><li>è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼š<code>dp[i][j] = dp[i - 1][j - 1]</code>;</li><li>è¡¨ç¤ºç©ºï¼š<code>dp[i][j] = dp[i][j - 1]</code>;</li><li>è¡¨ç¤ºå¤šä¸ªå­—ç¬¦ï¼š<code>dp[i][j] = dp[i - 1][j]</code>;</li></ul></li></ul><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå°æŠ€å·§ï¼Œåœ¨<strong>s å’Œ p</strong>æœ€å‰é¢æ‹¼æ¥ä¸€ä¸ªâ€œ â€å­—ç¬¦ä¸²ï¼Œæ—¢å¯ä»¥é˜²æ­¢ä¸ºç©ºï¼Œä¹Ÿå¯ä»¥ä¸ºæ¥ä¸‹æ¥çš„ä»£ç åšå‡†å¤‡ï¼š</p><h4 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">    s = <span class="string">" "</span> + s;</span><br><span class="line">    p = <span class="string">" "</span> + p;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">int</span> sLen = s.length(), pLen = p.length();</span><br><span class="line">    <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[sLen + <span class="number">1</span>][pLen + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// base case</span></span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= sLen; i ++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= pLen; j ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i - <span class="number">1</span>) == p.charAt(j - <span class="number">1</span>) || p.charAt(j - <span class="number">1</span>) == <span class="string">'?'</span>) &#123;</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>) &#123;</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] || dp[i - <span class="number">1</span>][j] || dp[i][j - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[sLen][pLen];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å†çœ‹çœ‹é€’å½’çš„åšæ³•ï¼Œæ˜¯ä¸æ˜¯æç„¶å¤§æ‚Ÿäº†å‘¢ï¼ŸğŸ˜±</strong></p>]]></content>
    
    <summary type="html">
    
      é€šé…ç¬¦åŒ¹é…
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="https://18wanttobesinger.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="åŠ¨æ€è§„åˆ’" scheme="https://18wanttobesinger.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>Objectè§£è¯»</title>
    <link href="https://18wanttobesinger.github.io/2020/07/03/Object%E8%A7%A3%E8%AF%BB/"/>
    <id>https://18wanttobesinger.github.io/2020/07/03/Object%E8%A7%A3%E8%AF%BB/</id>
    <published>2020-07-03T09:48:04.000Z</published>
    <updated>2020-07-05T08:34:44.827Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>åŠ æ²¹å§ï¼</p><p>â€‹                                                                                                                                                   â€”â€“ me   </p></blockquote><a id="more"></a><h2 id="Objectæ¦‚è¿°"><a href="#Objectæ¦‚è¿°" class="headerlink" title="Objectæ¦‚è¿°"></a>Objectæ¦‚è¿°</h2><p>Objectç±»ä½äºjava.langåŒ…ï¼Œ Javaä¸­çš„æ¯ä¸ªç±»éƒ½æ˜¯ç”±è¿™ä¸ªç±»æ‰©å±•è€Œæ¥ï¼Œæ‰€æœ‰ç±»éƒ½<strong>ç›´æ¥</strong>æˆ–è€…<strong>é—´æ¥</strong>çš„<strong>ç»§æ‰¿</strong>è‡ªObjectã€‚ æ‰€ä»¥ï¼Œæ‰€æœ‰ç±»éƒ½ç»§æ‰¿äº†Objectä¸­çš„æ–¹æ³•ã€‚é¦–å…ˆæ¥çœ‹çœ‹Objectä¸­éƒ½æœ‰é‚£äº›æ–¹æ³•å§ï¼</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1593774455032.jpg" alt="1593774455032.jpg"></p><p>éšä¾¿æŒ‘é€‰ä¸€ä¸ªç±»ï¼Œå°±ä¼šå‘ç°ä»–ä¹Ÿæœ‰è¿™äº›ä¸ªæ–¹æ³•ï¼š</p><p>è¿™æ˜¯è‡ªå·±å†™çš„ç±»</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1593770525068.jpg" alt="1593770525068"></p><p>ä»¥ä¸‹æ˜¯å®ƒçš„æ–¹æ³•ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1593770564796.jpg" alt="1593770564796"></p><h3 id="Objectä¸­çš„æ„é€ æ–¹æ³•"><a href="#Objectä¸­çš„æ„é€ æ–¹æ³•" class="headerlink" title="Objectä¸­çš„æ„é€ æ–¹æ³•"></a>Objectä¸­çš„æ„é€ æ–¹æ³•</h3><p>â€‹        æœ‰è¿‡javaåŸºç¡€çš„åŒå­¦éƒ½çŸ¥é“ï¼Œjavaä¸­å¦‚æœæ²¡æœ‰æœ‰å‚çš„æ„é€ æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥ç±»ä¼šé»˜è®¤æœ‰ä¸€ä¸ªæ— å‚çš„æ„é€ æ–¹æ³•ã€‚</p><p> æ‰€ä»¥Objectç±»ä¸­å…·æœ‰é»˜è®¤çš„æ— å‚æ„é€ <code>Object()</code> ã€‚ </p><h3 id="hashCode-æ–¹æ³•"><a href="#hashCode-æ–¹æ³•" class="headerlink" title="hashCode()æ–¹æ³•"></a>hashCode()æ–¹æ³•</h3><h4 id="æºç ï¼š"><a href="#æºç ï¼š" class="headerlink" title="æºç ï¼š"></a><strong>æºç ï¼š</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns a hash code value for the object. This method is</span></span><br><span class="line"><span class="comment"> * supported for the benefit of hash tables such as those provided by</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> java.util.HashMap&#125;.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>æ–¹æ³•æè¿°ç¬¬ä¸€è¡Œï¼š<strong>è¿”å›è¿™ä¸ªå¯¹è±¡çš„hashcodeï¼Œ æ”¯æŒæ­¤æ–¹æ³•æ˜¯ä¸ºäº†æé«˜å“ˆå¸Œè¡¨ï¼ˆä¾‹å¦‚ java.util.Hashtable æä¾›çš„å“ˆå¸Œè¡¨ï¼‰çš„æ€§èƒ½ã€‚</strong> </p><p>æˆ‘ä»¬æ¥è¿è¡Œä¸€ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ObjectTest obj = <span class="keyword">new</span> ObjectTest();</span><br><span class="line">        <span class="keyword">int</span> hashCode = obj.hashCode();</span><br><span class="line">        System.out.println(hashCode);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿è¡Œç»“æœï¼š21685669</span></span><br></pre></td></tr></table></figure><p>è¯¥æ–¹æ³•æŠŠå¯¹è±¡çš„åœ°å€å€¼æ¢ç®—æˆä¸€ä¸ªæ•´æ•°å€¼ï¼Œå½“ä¸¤ä¸ªå¯¹è±¡ä¸æ˜¯åŒä¸€å¯¹è±¡ï¼Œå…¶åœ°å€å€¼ä¸åŒï¼Œå“ˆå¸Œç å€¼ä¹Ÿä¸ä¸€æ ·ã€‚ </p><p><em>æ³¨æ„ï¼šä¸åŒå¯¹è±¡çš„hashcodeæœ‰å¯èƒ½ç›¸åŒï¼åŒä¸€ä¸ªå¯¹è±¡çš„hashcodeä¸€å®šç›¸åŒï¼</em></p><p>å½“ç„¶ä½ å¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ObjectTest obj = <span class="keyword">new</span> ObjectTest();</span><br><span class="line">        <span class="keyword">int</span> hashCode = obj.hashCode();</span><br><span class="line">        System.out.println(hashCode);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ— è®ºå¦‚ä½•æ‰“å°ç±»å¯¹è±¡çš„hashcodeï¼Œéƒ½æ˜¯1</span></span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><ul><li>åŒä¸€ä¸ªå¯¹è±¡(å¦‚æœè¯¥å¯¹è±¡æ²¡æœ‰è¢«ä¿®æ”¹)ï¼šé‚£ä¹ˆé‡å¤è°ƒç”¨<code>hashCode()</code>é‚£ä¹ˆè¿”å›çš„intæ˜¯ç›¸åŒçš„ï¼ </li><li><code>hashCode()</code>æ–¹æ³•é»˜è®¤æ˜¯ç”±å¯¹è±¡çš„åœ°å€è½¬æ¢è€Œæ¥çš„ </li></ul><h3 id="equals-æ–¹æ³•"><a href="#equals-æ–¹æ³•" class="headerlink" title="equals()æ–¹æ³•"></a>equals()æ–¹æ³•</h3><h4 id="æºç ï¼š-1"><a href="#æºç ï¼š-1" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Indicates whether some other object is "equal to" this one.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> (<span class="keyword">this</span> == obj);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="ä½œç”¨ï¼š"><a href="#ä½œç”¨ï¼š" class="headerlink" title="ä½œç”¨ï¼š"></a>ä½œç”¨ï¼š</h4><p>è¿”å›æŸä¸ªå¯¹è±¡æ˜¯å¦ä¸æ­¤å¯¹è±¡â€œç›¸ç­‰â€ã€‚ä¹Ÿå°±æ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åœ°å€å€¼æ˜¯å¦ç›¸ç­‰ï¼Œæ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡ã€‚å¦‚æœç›¸ç­‰åˆ™è¿”å›trueï¼Œä¸ç›¸ç­‰åˆ™è¿”å›falseã€‚ </p><h4 id="ç¤ºä¾‹ï¼š"><a href="#ç¤ºä¾‹ï¼š" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ObjectTest obj = <span class="keyword">new</span> ObjectTest();</span><br><span class="line">        ObjectTest obj2 = <span class="keyword">new</span> ObjectTest();</span><br><span class="line">        <span class="keyword">int</span> hashCode = obj.hashCode();</span><br><span class="line">        <span class="keyword">int</span> hashCode2 = obj2.hashCode();</span><br><span class="line">        System.out.println(hashCode);</span><br><span class="line">        System.out.println(hashCode2);</span><br><span class="line">        System.out.println(<span class="string">"obj: "</span> + obj);</span><br><span class="line">        System.out.println(<span class="string">"obj2: "</span> + obj2);</span><br><span class="line">        System.out.println(obj.equals(obj2));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç»“æœï¼š</span></span><br><span class="line">hashcode:  <span class="number">21685669</span></span><br><span class="line">hashcode2: <span class="number">19997786</span></span><br><span class="line">obj:  niuke.offer.ObjectTest@<span class="number">14</span>ae5a5</span><br><span class="line">obj2: niuke.offer.ObjectTest@<span class="number">131245</span>a</span><br><span class="line">å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼š<span class="keyword">false</span></span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“ï¼š-1"><a href="#æ€»ç»“ï¼š-1" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><ul><li>åªæœ‰ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€ç›¸åŒï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå¯¹è±¡æ‰ç›¸ç­‰ã€‚å½“æˆ‘ä»¬éœ€è¦é‡å†™<code>equals()</code>æ–¹æ³•æ—¶ï¼Œ<strong>å¿…é¡»é‡å†™hashCode()</strong>æ–¹æ³•ã€‚</li><li><code>equals()</code>æ–¹æ³•é»˜è®¤æ˜¯æ¯”è¾ƒå¯¹è±¡çš„åœ°å€ï¼Œä½¿ç”¨çš„æ˜¯<code>==</code>ç­‰å€¼è¿ç®—ç¬¦ </li><li><code>equals()</code>æ–¹æ³•è¿˜æœ‰5ä¸ªé»˜è®¤çš„åŸåˆ™ï¼š<ul><li>è‡ªåæ€§ï¼šè°ƒç”¨<code>equals()</code>è¿”å›çš„æ˜¯trueï¼Œæ— è®ºè¿™ä¸¤ä¸ªå¯¹è±¡è°è°ƒç”¨<code>equals()</code>éƒ½å¥½ï¼Œè¿”å›çš„éƒ½æ˜¯true ã€‚</li><li>ä¸€è‡´æ€§ï¼šåªè¦å¯¹è±¡æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œé‚£ä¹ˆå¤šæ¬¡è°ƒç”¨è¿˜æ˜¯è¿”å›å¯¹åº”çš„ç»“æœï¼ </li><li>ä¼ é€’æ€§ï¼š<code>x.equals(y)</code>å’Œ<code>y.equals(z)</code>éƒ½è¿”å›trueï¼Œé‚£ä¹ˆå¯ä»¥å¾—å‡ºï¼š<code>x.equals(z)</code>è¿”å›true ã€‚</li><li>å¯¹ç§°æ€§ï¼š<code>x.equals(y)</code>å’Œ<code>y.equals(x)</code>ç»“æœåº”è¯¥æ˜¯ç›¸ç­‰çš„ã€‚ </li><li>ä¼ å…¥çš„å‚æ•°ä¸ºnullï¼Œè¿”å›çš„æ˜¯false </li></ul></li></ul><h4 id="æ‹“å±•ï¼š"><a href="#æ‹“å±•ï¼š" class="headerlink" title="æ‹“å±•ï¼š"></a>æ‹“å±•ï¼š</h4><p>æˆ‘ä»¬å¸¸ç”¨çš„Stringå·²ç»å®ç°äº†<code>equals</code>å’Œ<code>hashCode</code>æ–¹æ³• ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object anObject)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åœ°å€ç›¸ç­‰é‚£ä¹ˆä¸¤è€…å¯¹è±¡è‚¯å®šç›¸ç­‰</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> == anObject) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (anObject <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">        String anotherString = (String)anObject;</span><br><span class="line">        <span class="keyword">int</span> n = value.length;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­ä¸¤è€…é•¿åº¦ï¼Œç›¸ç­‰çš„è¯ç»§ç»­åˆ¤æ–­å®ƒä»¬çš„å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (n == anotherString.value.length) &#123;</span><br><span class="line">            <span class="keyword">char</span> v1[] = value;</span><br><span class="line">            <span class="keyword">char</span> v2[] = anotherString.value;</span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (n-- != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// å‘ç°ä¸¤å­—ç¬¦ä¸²å€¼ä¸ç›¸ç­‰</span></span><br><span class="line">                <span class="keyword">if</span> (v1[i] != v2[i])</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                <span class="comment">// ç»§ç»­åˆ¤æ–­</span></span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä¸¤è€…å€¼ç›¸åŒè¿”å›true</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h = hash;</span><br><span class="line">    <span class="keyword">if</span> (h == <span class="number">0</span> &amp;&amp; value.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">char</span> val[] = value;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; value.length; i++) &#123;</span><br><span class="line">            h = <span class="number">31</span> * h + val[i];</span><br><span class="line">        &#125;</span><br><span class="line">        hash = h;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> h;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="toString-æ–¹æ³•"><a href="#toString-æ–¹æ³•" class="headerlink" title="toString()æ–¹æ³•"></a>toString()æ–¹æ³•</h3><h4 id="æºç ï¼š-2"><a href="#æºç ï¼š-2" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns a string representation of the object. </span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> getClass().getName() + <span class="string">"@"</span> + Integer.toHexString(hashCode());</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="ä½œç”¨ï¼š-1"><a href="#ä½œç”¨ï¼š-1" class="headerlink" title="ä½œç”¨ï¼š"></a>ä½œç”¨ï¼š</h4><p> è¿”å›è¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚é€šå¸¸ï¼ŒtoString æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªâ€œä»¥æ–‡æœ¬æ–¹å¼è¡¨ç¤ºâ€æ­¤å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨è¾¾å¼ã€‚ </p><h4 id="ç¤ºä¾‹ï¼š-1"><a href="#ç¤ºä¾‹ï¼š-1" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ObjectTest obj = <span class="keyword">new</span> ObjectTest();</span><br><span class="line">System.out.println(obj.toString());</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼šniuke.offer.ObjectTest@14ae5a5</span></span><br><span class="line"><span class="comment">// ç±»å@å¯¹è±¡å“ˆå¸Œç çš„æ— ç¬¦å·åå…­è¿›åˆ¶</span></span><br></pre></td></tr></table></figure><p>é€šå¸¸æˆ‘ä»¬å¹¶ä¸ä¼šéœ€è¦ç”¨ç€è¿™ç§å­—ç¬¦ä¸²çš„æƒ…å†µï¼Œä¸€èˆ¬éœ€è¦é‡å†™è¯¥æ–¹æ³•æ‰“å°è¯¥å¯¹è±¡çš„ä¸€äº›å…·ä½“ä¿¡æ¯ã€‚</p><h3 id="clone-æ–¹æ³•"><a href="#clone-æ–¹æ³•" class="headerlink" title="clone()æ–¹æ³•"></a>clone()æ–¹æ³•</h3><h4 id="æºç ï¼š-3"><a href="#æºç ï¼š-3" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Creates and returns a copy of this object.  </span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * &lt;pre&gt;</span></span><br><span class="line"><span class="comment"> * æ‹·è´çš„å¯¹è±¡å’ŒåŸå¯¹è±¡çš„å¼•ç”¨ä¸€èˆ¬ä¸ç›¸åŒ</span></span><br><span class="line"><span class="comment"> * x.clone() != x&lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="comment"> * will be true, and that the expression:</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * &lt;pre&gt;</span></span><br><span class="line"><span class="comment"> * æ‹·è´å¯¹è±¡å’ŒåŸå¯¹è±¡è°ƒç”¨equalsä¸€èˆ¬ç›¸ç­‰</span></span><br><span class="line"><span class="comment"> * x.clone().equals(x)&lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="comment"> * will be &#123;<span class="doctag">@code</span> true&#125;, this is not an absolute requirement.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * By convention, the object returned by this method should be independent</span></span><br><span class="line"><span class="comment"> * of this object (which is being cloned).  </span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * å› æ­¤å¾€å¾€å…¶æˆå‘˜å˜é‡ï¼ˆå¦‚æœæ˜¯å¯å˜çš„å¼•ç”¨ï¼‰éƒ½éœ€è¦æ‹·è´ä¸€ä»½å‡ºå»ï¼ˆå®ç°å®Œå…¨ç‹¬ç«‹ï¼‰</span></span><br><span class="line"><span class="comment"> * Typically, this means</span></span><br><span class="line"><span class="comment"> * copying any mutable objects that comprise the internal "deep structure"</span></span><br><span class="line"><span class="comment"> * of the object being cloned and replacing the references to these</span></span><br><span class="line"><span class="comment"> * objects with references to the copies.  </span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * The method &#123;<span class="doctag">@code</span> clone&#125; for class &#123;<span class="doctag">@code</span> Object&#125; performs a</span></span><br><span class="line"><span class="comment"> * è¯¥å¯¹è±¡æ²¡æœ‰å®ç°Cloneableæ¥å£ä¼šæŠ›å‡ºCloneNotSupportedException</span></span><br><span class="line"><span class="comment"> * specific cloning operation. First, if the class of this object does</span></span><br><span class="line"><span class="comment"> * not implement the interface &#123;<span class="doctag">@code</span> Cloneable&#125;, then a</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> CloneNotSupportedException&#125; is thrown. </span></span><br><span class="line"><span class="comment"> * å­—æ®µæœ¬èº«ä¸å…‹éš†ç§°ä¸º`æµ…å…‹éš†`</span></span><br><span class="line"><span class="comment"> * contents of the fields are not themselves cloned. Thus, this method</span></span><br><span class="line"><span class="comment"> * performs a "shallow copy" of this object, not a "deep copy" operation.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * ç”±äºObjectæ²¡æœ‰å®ç°Cloneableæ¥å£ï¼Œå¦‚æœåœ¨Objectä¸Šè°ƒç”¨cloneæ–¹æ³•ä¸€æ ·ä¼šæŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line"><span class="comment"> * The class &#123;<span class="doctag">@code</span> Object&#125; does not itself implement the interface</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> Cloneable&#125;, so calling the &#123;<span class="doctag">@code</span> clone&#125; method on an object</span></span><br><span class="line"><span class="comment"> * whose class is &#123;<span class="doctag">@code</span> Object&#125; will result in throwing an</span></span><br><span class="line"><span class="comment"> * exception at run time.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">protected</span> <span class="keyword">native</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException</span>;</span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“ï¼š-2"><a href="#æ€»ç»“ï¼š-2" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><ul><li>cloneæ–¹æ³•ç”¨äºå¯¹è±¡çš„å…‹éš†ï¼Œä¸€èˆ¬æƒ³è¦å…‹éš†å‡ºçš„å¯¹è±¡æ˜¯<strong>ç‹¬ç«‹</strong>çš„(ä¸åŸæœ‰çš„å¯¹è±¡æ˜¯åˆ†å¼€çš„) </li><li>æ·±æ‹·è´æŒ‡çš„æ˜¯è¯¥å¯¹è±¡çš„æˆå‘˜å˜é‡(å¦‚æœæ˜¯å¯å˜å¼•ç”¨)éƒ½åº”è¯¥å…‹éš†ä¸€ä»½ï¼Œæµ…æ‹·è´æŒ‡çš„æ˜¯æˆå‘˜å˜é‡æ²¡æœ‰è¢«å…‹éš†ä¸€ä»½ </li></ul><h3 id="wait-æ–¹æ³•"><a href="#wait-æ–¹æ³•" class="headerlink" title="wait()æ–¹æ³•"></a>wait()æ–¹æ³•</h3><h4 id="æºç ï¼š-4"><a href="#æºç ï¼š-4" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è°ƒç”¨waitæ–¹æ³•ä¼šè®©çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ã€‚ç›´åˆ°è°ƒç”¨å”¤é†’æ–¹æ³•notifyæˆ–è€…æŒ‡å®šçš„æ—¶é—´å·²è¿‡</span></span><br><span class="line"><span class="comment"> * Causes the current thread to wait until either another thread invokes the</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> java.lang.Object#notify()&#125; method or the</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> java.lang.Object#notifyAll()&#125; method for this object, or a</span></span><br><span class="line"><span class="comment"> * specified amount of time has elapsed.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * The current thread must own this object's monitor.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * This method causes the current thread (call it &lt;var&gt;T&lt;/var&gt;) to</span></span><br><span class="line"><span class="comment"> * å¤„äºç­‰å¾…çŠ¶æ€ï¼Œé”ä¼šè¢«é‡Šæ”¾</span></span><br><span class="line"><span class="comment"> * place itself in the wait set for this object and then to relinquish</span></span><br><span class="line"><span class="comment"> * any and all synchronization claims on this object. Thread &lt;var&gt;T&lt;/var&gt;</span></span><br><span class="line"><span class="comment"> * becomes disabled for thread scheduling purposes and lies dormant</span></span><br><span class="line"><span class="comment"> * until one of four things happens:</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * å½“çº¿ç¨‹ç­‰å¾…æ—¶é—´ç»“æŸï¼Œä¼šå›åˆ°å°±ç»ªçŠ¶æ€ã€‚å†æ¬¡æŠ¢åˆ°cpuèµ„æºæ—¶ï¼ŒåŒæ­¥çŠ¶æ€ä¸ä¹‹å‰è°ƒç”¨waitæ–¹æ³•</span></span><br><span class="line"><span class="comment"> * æ—¶æ˜¯ä¸€è‡´çš„ï¼</span></span><br><span class="line"><span class="comment"> * The thread &lt;var&gt;T&lt;/var&gt; is then removed from the wait set for this</span></span><br><span class="line"><span class="comment"> * object and re-enabled for thread scheduling. It then competes in the</span></span><br><span class="line"><span class="comment"> * usual manner with other threads for the right to synchronize on the</span></span><br><span class="line"><span class="comment"> * object; once it has gained control of the object, all its</span></span><br><span class="line"><span class="comment"> * synchronization claims on the object are restored to the status quo</span></span><br><span class="line"><span class="comment"> * ante - that is, to the situation as of the time that the &#123;<span class="doctag">@code</span> wait&#125;</span></span><br><span class="line"><span class="comment"> * method was invoked. Thread &lt;var&gt;T&lt;/var&gt; then returns from the</span></span><br><span class="line"><span class="comment"> * invocation of the &#123;<span class="doctag">@code</span> wait&#125; method. Thus, on return from the</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> wait&#125; method, the synchronization state of the object and of</span></span><br><span class="line"><span class="comment"> * thread &#123;<span class="doctag">@code</span> T&#125; is exactly as it was when the &#123;<span class="doctag">@code</span> wait&#125; method</span></span><br><span class="line"><span class="comment"> * was invoked.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * è°ƒç”¨waitçš„çº¿ç¨‹ï¼Œå¦‚æœçº¿ç¨‹ä¸­æ–­ä¼šæŠ›å‡ºInterruptedExceptionï¼ˆç»“æŸç­‰å¾…çŠ¶æ€ï¼‰</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;If the current thread is &#123;<span class="doctag">@linkplain</span> java.lang.Thread#interrupt()</span></span><br><span class="line"><span class="comment"> * interrupted&#125; by any thread before or while it is waiting, then an</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> InterruptedException&#125; is thrown.  This exception is not</span></span><br><span class="line"><span class="comment"> * thrown until the lock status of this object has been restored as</span></span><br><span class="line"><span class="comment"> * described above.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * åªä¼šè§£é”å½“å‰è°ƒç”¨waitçš„å¯¹è±¡ï¼Œè€Œè¯¥çº¿ç¨‹çš„å…¶ä»–å¯¹è±¡æ˜¯ä¸ä¼šè§£é”çš„</span></span><br><span class="line"><span class="comment"> * Note that the &#123;<span class="doctag">@code</span> wait&#125; method, as it places the current thread</span></span><br><span class="line"><span class="comment"> * into the wait set for this object, unlocks only this object; any</span></span><br><span class="line"><span class="comment"> * other objects on which the current thread may be synchronized remain</span></span><br><span class="line"><span class="comment"> * locked while the thread waits.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">wait</span><span class="params">(<span class="keyword">long</span> timeout)</span> <span class="keyword">throws</span> InterruptedException</span>;</span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“ï¼š-3"><a href="#æ€»ç»“ï¼š-3" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><p>å¯¼è‡´<code>wait()</code>çš„çº¿ç¨‹è¢«å”¤é†’çš„æœ‰4ç§æƒ…å†µï¼š</p><ul><li>è¯¥çº¿ç¨‹å‘ç”Ÿä¸­æ–­</li><li>wait æ—¶é—´å·²åˆ°</li><li>è¢«notify å”¤é†’ï¼ˆä¸‹é¢ä¼šä»‹ç»ï¼‰</li><li>è¢«notifyAll å”¤é†’</li></ul><p>è°ƒç”¨<code>wait()</code>çš„çº¿ç¨‹ä¼šé‡Šæ”¾æ‰é”ï¼</p><h3 id="notify-æ–¹æ³•"><a href="#notify-æ–¹æ³•" class="headerlink" title="notify()æ–¹æ³•"></a>notify()æ–¹æ³•</h3><h4 id="æºç ï¼š-5"><a href="#æºç ï¼š-5" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * `éšæœº`å”¤é†’æ­£åœ¨ç­‰å¾…çš„å¯¹è±¡ï¼ˆå¯èƒ½ä¸æ­¢ä¸€ä¸ªç­‰å¾…å¯¹è±¡ï¼‰</span></span><br><span class="line"><span class="comment"> * Wakes up a single thread that is waiting on this object's</span></span><br><span class="line"><span class="comment"> * monitor. If any threads are waiting on this object, one of them</span></span><br><span class="line"><span class="comment"> * is chosen to be awakened. The choice is arbitrary and occurs at</span></span><br><span class="line"><span class="comment"> * the discretion of the implementation. A thread waits on an object's</span></span><br><span class="line"><span class="comment"> * monitor by calling one of the &#123;<span class="doctag">@code</span> wait&#125; methods.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * 3ç§æ–¹å¼æ¥æˆä¸ºç›‘å¬å™¨å¯¹è±¡çš„æ‰€æœ‰è€…</span></span><br><span class="line"><span class="comment"> * a. è°ƒç”¨è¯¥å®ä¾‹çš„åŒæ­¥æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;By executing a synchronized instance method of that object.</span></span><br><span class="line"><span class="comment"> * b. æ‰§è¡Œè¯¥å¯¹è±¡çš„åŒæ­¥ä»£ç å—</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;By executing the body of a &#123;<span class="doctag">@code</span> synchronized&#125; statement</span></span><br><span class="line"><span class="comment"> *     that synchronizes on the object.</span></span><br><span class="line"><span class="comment"> * c. æ‰§è¡Œå¯¹åº”çš„é™æ€ä»£ç å—</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;For objects of type &#123;<span class="doctag">@code</span> Class,&#125; by executing a</span></span><br><span class="line"><span class="comment"> *     synchronized static method of that class.</span></span><br><span class="line"><span class="comment"> * &lt;/ul&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * Only one thread at a time can own an object's monitor.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">notify</span><span class="params">()</span></span>;</span><br><span class="line">...</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å”¤é†’æ‰€æœ‰æ­£åœ¨ç­‰å¾…é˜Ÿåˆ—çš„çº¿ç¨‹</span></span><br><span class="line"><span class="comment"> * Wakes up all threads that are waiting on this object's monitor. A</span></span><br><span class="line"><span class="comment"> * thread waits on an object's monitor by calling one of the</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> wait&#125; methods.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">notifyAll</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><h2 id="é—®é¢˜æ€»ç»“"><a href="#é—®é¢˜æ€»ç»“" class="headerlink" title="é—®é¢˜æ€»ç»“"></a>é—®é¢˜æ€»ç»“</h2><h5 id="1ã€ä¸ºä»€ä¹ˆwaitå’Œnotifyåœ¨Objectæ–¹æ³•ä¸Šï¼Ÿ"><a href="#1ã€ä¸ºä»€ä¹ˆwaitå’Œnotifyåœ¨Objectæ–¹æ³•ä¸Šï¼Ÿ" class="headerlink" title="1ã€ä¸ºä»€ä¹ˆwaitå’Œnotifyåœ¨Objectæ–¹æ³•ä¸Šï¼Ÿ"></a>1ã€ä¸ºä»€ä¹ˆwaitå’Œnotifyåœ¨Objectæ–¹æ³•ä¸Šï¼Ÿ</h5><pre><code>å› ä¸ºæˆ‘ä»¬çš„**é”æ˜¯å¯¹è±¡é”**ï¼Œ æ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥æˆä¸ºé”ã€‚**è®©å½“å‰çº¿ç¨‹ç­‰å¾…æŸä¸ªå¯¹è±¡çš„é”ï¼Œå½“ç„¶åº”è¯¥é€šè¿‡è¿™ä¸ªå¯¹è±¡æ¥æ“ä½œäº†**ã€‚  é”å¯¹è±¡æ˜¯**ä»»æ„**çš„ï¼Œæ‰€ä»¥è¿™äº›æ–¹æ³•å¿…é¡»å®šä¹‰åœ¨Objectç±»ä¸­ ã€‚</code></pre><h5 id="2ã€sleepå’Œwaitæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#2ã€sleepå’Œwaitæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="2ã€sleepå’Œwaitæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>2ã€sleepå’Œwaitæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><pre><code>`Thread.sleep()`ä¸`Object.wait()`äºŒè€…éƒ½å¯ä»¥æš‚åœå½“å‰çº¿ç¨‹ï¼Œé‡Šæ”¾CPUæ§åˆ¶æƒã€‚ ä¸»è¦çš„åŒºåˆ«åœ¨äº`Object.wait()`åœ¨é‡Šæ”¾CPUåŒæ—¶ï¼Œ**é‡Šæ”¾äº†å¯¹è±¡é”çš„æ§åˆ¶**ã€‚  è€Œ`Thread.sleep()`æ²¡æœ‰å¯¹é”é‡Šæ”¾ </code></pre>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;åŠ æ²¹å§ï¼&lt;/p&gt;
&lt;p&gt;â€‹                                                                                                                                                   â€”â€“ me   &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="Java" scheme="https://18wanttobesinger.github.io/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>TCPçš„å››æ¬¡æŒ¥æ‰‹</title>
    <link href="https://18wanttobesinger.github.io/2020/07/01/TCP%E7%9A%84%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/"/>
    <id>https://18wanttobesinger.github.io/2020/07/01/TCP%E7%9A%84%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/</id>
    <published>2020-07-01T08:34:02.000Z</published>
    <updated>2020-07-01T08:44:39.620Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>ç¬¬äºŒé«˜å³°æ˜¯ä¹”æˆˆé‡Œå³°ï¼Œç¬¬ä¸‰æ˜¯å¹²åŸç« å˜‰å³°ï¼Œç¬¬å››æ˜¯æ´›å­å³°ï¼Œç¬¬äº”æ˜¯é©¬å¡é²å³°ï¼Œï¼Œï¼Œï¼Œå…¶å®åªè¦å°½è‡ªå·±çš„èƒ½åŠ›ï¼Œæ— è®ºåšåˆ°ç¬¬å‡ ï¼Œéƒ½ä¼šæœ‰äººè®°ä½çš„ã€‚</p><p>â€‹                                                                                                                                                             â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„   </p></blockquote><a id="more"></a><h2 id="TCPå››æ¬¡æŒ¥æ‰‹"><a href="#TCPå››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCPå››æ¬¡æŒ¥æ‰‹"></a><strong>TCPå››æ¬¡æŒ¥æ‰‹</strong></h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/v2-c8b61ed2a249700583b11bc5d16c5711_hd.jpg" alt="v2-c8b61ed2a249700583b11bc5d16c5711_hd"></p><h3 id="ç¬¬ä¸€æ¬¡æŒ¥æ‰‹"><a href="#ç¬¬ä¸€æ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬ä¸€æ¬¡æŒ¥æ‰‹"></a><strong>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹</strong></h3><p>è‹¥Aè®¤ä¸ºæ•°æ®å‘é€å®Œæˆï¼Œåˆ™å®ƒéœ€è¦å‘Bå‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ã€‚è¯¥è¯·æ±‚åªæœ‰æŠ¥æ–‡å¤´ï¼Œå¤´ä¸­æºå¸¦çš„ä¸»è¦å‚æ•°ä¸ºï¼š<br>FIN=1ï¼Œseq=uã€‚æ­¤æ—¶ï¼ŒAå°†è¿›å…¥FIN-WAIT-1çŠ¶æ€ã€‚</p><ul><li>PS1ï¼šFIN=1è¡¨ç¤ºè¯¥æŠ¥æ–‡æ®µæ˜¯ä¸€ä¸ªè¿æ¥é‡Šæ”¾è¯·æ±‚ã€‚</li><li>PS2ï¼šseq=uï¼Œu-1æ˜¯Aå‘Bå‘é€çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚</li></ul><h3 id="ç¬¬äºŒæ¬¡æŒ¥æ‰‹"><a href="#ç¬¬äºŒæ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬äºŒæ¬¡æŒ¥æ‰‹"></a><strong>ç¬¬äºŒæ¬¡æŒ¥æ‰‹</strong></h3><p>Bæ”¶åˆ°è¿æ¥é‡Šæ”¾è¯·æ±‚åï¼Œä¼šé€šçŸ¥ç›¸åº”çš„åº”ç”¨ç¨‹åºï¼Œå‘Šè¯‰å®ƒAå‘Bè¿™ä¸ªæ–¹å‘çš„è¿æ¥å·²ç»é‡Šæ”¾ã€‚æ­¤æ—¶Bè¿›å…¥CLOSE-WAITçŠ¶æ€ï¼Œå¹¶å‘Aå‘é€è¿æ¥é‡Šæ”¾çš„åº”ç­”ï¼Œå…¶æŠ¥æ–‡å¤´åŒ…å«ï¼š<br>ACK=1ï¼Œseq=vï¼Œack=u+1ã€‚</p><ul><li>PS1ï¼šACK=1ï¼šé™¤TCPè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µä»¥å¤–ï¼ŒTCPé€šä¿¡è¿‡ç¨‹ä¸­æ‰€æœ‰æ•°æ®æŠ¥çš„ACKéƒ½ä¸º1ï¼Œè¡¨ç¤ºåº”ç­”ã€‚</li><li>PS2ï¼šseq=vï¼Œv-1æ˜¯Bå‘Aå‘é€çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚</li><li>PS3ï¼šack=u+1è¡¨ç¤ºå¸Œæœ›æ”¶åˆ°ä»ç¬¬u+1ä¸ªå­—èŠ‚å¼€å§‹çš„æŠ¥æ–‡æ®µï¼Œå¹¶ä¸”å·²ç»æˆåŠŸæ¥æ”¶äº†å‰uä¸ªå­—èŠ‚ã€‚</li></ul><p>Aæ”¶åˆ°è¯¥åº”ç­”ï¼Œè¿›å…¥FIN-WAIT-2çŠ¶æ€ï¼Œç­‰å¾…Bå‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ã€‚</p><p>ç¬¬äºŒæ¬¡æŒ¥æ‰‹å®Œæˆåï¼ŒAåˆ°Bæ–¹å‘çš„è¿æ¥å·²ç»é‡Šæ”¾ï¼ŒBä¸ä¼šå†æ¥æ”¶æ•°æ®ï¼ŒAä¹Ÿä¸ä¼šå†å‘é€æ•°æ®ã€‚ä½†Båˆ°Aæ–¹å‘çš„è¿æ¥ä»ç„¶å­˜åœ¨ï¼ŒBå¯ä»¥ç»§ç»­å‘Aå‘é€æ•°æ®ã€‚</p><h3 id="ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹"><a href="#ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹"></a><strong>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹</strong></h3><p>å½“Bå‘Aå‘å®Œæ‰€æœ‰æ•°æ®åï¼Œå‘Aå‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ï¼Œè¯·æ±‚å¤´ï¼šFIN=1ï¼ŒACK=1ï¼Œseq=wï¼Œack=u+1ã€‚Bä¾¿è¿›å…¥LAST-ACKçŠ¶æ€ã€‚</p><h3 id="ç¬¬å››æ¬¡æŒ¥æ‰‹"><a href="#ç¬¬å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬å››æ¬¡æŒ¥æ‰‹"></a><strong>ç¬¬å››æ¬¡æŒ¥æ‰‹</strong></h3><p>Aæ”¶åˆ°é‡Šæ”¾è¯·æ±‚åï¼Œå‘Bå‘é€ç¡®è®¤åº”ç­”ï¼Œæ­¤æ—¶Aè¿›å…¥TIME-WAITçŠ¶æ€ã€‚è¯¥çŠ¶æ€ä¼šæŒç»­2MSLæ—¶é—´ï¼Œè‹¥è¯¥æ—¶é—´æ®µå†…æ²¡æœ‰Bçš„é‡å‘è¯·æ±‚çš„è¯ï¼Œå°±è¿›å…¥CLOSEDçŠ¶æ€ï¼Œæ’¤é”€TCBã€‚å½“Bæ”¶åˆ°ç¡®è®¤åº”ç­”åï¼Œä¹Ÿä¾¿è¿›å…¥CLOSEDçŠ¶æ€ï¼Œæ’¤é”€TCBã€‚</p><h3 id="ä¸ºä»€ä¹ˆAè¦å…ˆè¿›å…¥TIME-WAITçŠ¶æ€ï¼Œç­‰å¾…2MSLæ—¶é—´åæ‰è¿›å…¥CLOSEDçŠ¶æ€ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆAè¦å…ˆè¿›å…¥TIME-WAITçŠ¶æ€ï¼Œç­‰å¾…2MSLæ—¶é—´åæ‰è¿›å…¥CLOSEDçŠ¶æ€ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆAè¦å…ˆè¿›å…¥TIME-WAITçŠ¶æ€ï¼Œç­‰å¾…2MSLæ—¶é—´åæ‰è¿›å…¥CLOSEDçŠ¶æ€ï¼Ÿ"></a><strong>ä¸ºä»€ä¹ˆAè¦å…ˆè¿›å…¥TIME-WAITçŠ¶æ€ï¼Œç­‰å¾…2MSLæ—¶é—´åæ‰è¿›å…¥CLOSEDçŠ¶æ€ï¼Ÿ</strong></h3><p>ä¸ºäº†ä¿è¯Bèƒ½æ”¶åˆ°Açš„ç¡®è®¤åº”ç­”ã€‚<br>è‹¥Aå‘å®Œç¡®è®¤åº”ç­”åç›´æ¥è¿›å…¥CLOSEDçŠ¶æ€ï¼Œé‚£ä¹ˆå¦‚æœè¯¥åº”ç­”ä¸¢å¤±ï¼ŒBç­‰å¾…è¶…æ—¶åå°±ä¼šé‡æ–°å‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ï¼Œä½†æ­¤æ—¶Aå·²ç»å…³é—­äº†ï¼Œä¸ä¼šä½œå‡ºä»»ä½•å“åº”ï¼Œå› æ­¤Bæ°¸è¿œæ— æ³•æ­£å¸¸å…³é—­</p><p>è½¬è½½ï¼š <a href="https://www.zhihu.com/question/24853633/answer/254224088" target="_blank" rel="noopener">https://www.zhihu.com/question/24853633/answer/254224088</a> </p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ç¬¬äºŒé«˜å³°æ˜¯ä¹”æˆˆé‡Œå³°ï¼Œç¬¬ä¸‰æ˜¯å¹²åŸç« å˜‰å³°ï¼Œç¬¬å››æ˜¯æ´›å­å³°ï¼Œç¬¬äº”æ˜¯é©¬å¡é²å³°ï¼Œï¼Œï¼Œï¼Œå…¶å®åªè¦å°½è‡ªå·±çš„èƒ½åŠ›ï¼Œæ— è®ºåšåˆ°ç¬¬å‡ ï¼Œéƒ½ä¼šæœ‰äººè®°ä½çš„ã€‚&lt;/p&gt;
&lt;p&gt;â€‹                                                                                                                                                             â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„   &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://18wanttobesinger.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>TCPä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹</title>
    <link href="https://18wanttobesinger.github.io/2020/07/01/TCP%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B/"/>
    <id>https://18wanttobesinger.github.io/2020/07/01/TCP%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B/</id>
    <published>2020-07-01T08:10:45.000Z</published>
    <updated>2020-07-01T08:44:05.172Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>ä¸–ç•Œä¸Šæœ€å­¤ç‹¬çš„é²¸é±¼ å‘å‡ºçš„é¢‘ç‡æ˜¯52èµ«å…¹ è€Œæ­£å¸¸é²¸é±¼æ˜¯15è‡³25èµ«å…¹ ä¸–ä¸Šæ²¡ä»»ä½•é²¸é±¼èƒ½å¬æ‡‚å®ƒ å®ƒæ²¡æœ‰é±¼ç¾¤ æ²¡æœ‰åŒç±» ä½†å®ƒæ²¡æ”¾å¼ƒå¤§æµ· ä»åƒé‡Œå¤–çš„å¤ªå¹³æ´‹æ¸¸åˆ°å¤§è¥¿æ´‹ çºµç„¶å‘å–ŠäºŒåäº”å¹´æ²¡äººåº”ç­” ä½†å¤§æµ·æœ‰å¤šæµ©ç€šå®ƒæ¯”åˆ«çš„é²¸é±¼éƒ½æ¸…æ¥šã€‚</p><p>â€‹                                                                                                                                                             â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„   </p></blockquote><a id="more"></a><h2 id="TCPä¸‰æ¬¡æ¡æ‰‹"><a href="#TCPä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="TCPä¸‰æ¬¡æ¡æ‰‹"></a><strong>TCPä¸‰æ¬¡æ¡æ‰‹</strong></h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/jisuanjiwangluo.jpg" alt="jisuanjiwangluo"></p><p>èµ·åˆï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½ä¸ºCLOSEDçŠ¶æ€ã€‚åœ¨é€šä¿¡å¼€å§‹å‰ï¼ŒåŒæ–¹éƒ½å¾—åˆ›å»ºå„è‡ªçš„ä¼ è¾“æ§åˆ¶å—ï¼ˆTCBï¼‰ã€‚<br>æœåŠ¡å™¨åˆ›å»ºå®ŒTCBåéè¿›å…¥LISTENçŠ¶æ€ï¼Œæ­¤æ—¶å‡†å¤‡æ¥æ”¶å®¢æˆ·ç«¯å‘æ¥çš„è¿æ¥è¯·æ±‚ã€‚</p><h3 id="ç¬¬ä¸€æ¬¡æ¡æ‰‹"><a href="#ç¬¬ä¸€æ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬ä¸€æ¬¡æ¡æ‰‹"></a><strong>ç¬¬ä¸€æ¬¡æ¡æ‰‹</strong></h3><p>å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚è¯¥æŠ¥æ–‡æ®µçš„å¤´éƒ¨ä¸­SYN=1ï¼ŒACK=0ï¼Œseq=xã€‚è¯·æ±‚å‘é€åï¼Œå®¢æˆ·ç«¯ä¾¿è¿›å…¥SYN-SENTçŠ¶æ€ã€‚</p><ul><li>PS1ï¼šSYN=1ï¼ŒACK=0è¡¨ç¤ºè¯¥æŠ¥æ–‡æ®µä¸ºè¿æ¥è¯·æ±‚æŠ¥æ–‡ã€‚</li><li>PS2ï¼šxä¸ºæœ¬æ¬¡TCPé€šä¿¡çš„å­—èŠ‚æµçš„åˆå§‹åºå·ã€‚<br>TCPè§„å®šï¼šSYN=1çš„æŠ¥æ–‡æ®µä¸èƒ½æœ‰æ•°æ®éƒ¨åˆ†ï¼Œä½†è¦æ¶ˆè€—æ‰ä¸€ä¸ªåºå·ã€‚</li></ul><h3 id="ç¬¬äºŒæ¬¡æ¡æ‰‹"><a href="#ç¬¬äºŒæ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬äºŒæ¬¡æ¡æ‰‹"></a><strong>ç¬¬äºŒæ¬¡æ¡æ‰‹</strong></h3><p>æœåŠ¡ç«¯æ”¶åˆ°è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå¦‚æœåŒæ„è¿æ¥ï¼Œåˆ™ä¼šå‘é€ä¸€ä¸ªåº”ç­”ï¼šSYN=1ï¼ŒACK=1ï¼Œseq=yï¼Œack=x+1ã€‚<br>è¯¥åº”ç­”å‘é€å®Œæˆåä¾¿è¿›å…¥SYN-RCVDçŠ¶æ€ã€‚</p><ul><li>PS1ï¼šSYN=1ï¼ŒACK=1è¡¨ç¤ºè¯¥æŠ¥æ–‡æ®µä¸ºè¿æ¥åŒæ„çš„åº”ç­”æŠ¥æ–‡ã€‚</li><li>PS2ï¼šseq=yè¡¨ç¤ºæœåŠ¡ç«¯ä½œä¸ºå‘é€è€…æ—¶ï¼Œå‘é€å­—èŠ‚æµçš„åˆå§‹åºå·ã€‚</li><li>PS3ï¼šack=x+1è¡¨ç¤ºæœåŠ¡ç«¯å¸Œæœ›ä¸‹ä¸€ä¸ªæ•°æ®æŠ¥å‘é€åºå·ä»x+1å¼€å§‹çš„å­—èŠ‚ã€‚</li></ul><h3 id="ç¬¬ä¸‰æ¬¡æ¡æ‰‹"><a href="#ç¬¬ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬ä¸‰æ¬¡æ¡æ‰‹"></a><strong>ç¬¬ä¸‰æ¬¡æ¡æ‰‹</strong></h3><p>å½“å®¢æˆ·ç«¯æ”¶åˆ°è¿æ¥åŒæ„çš„åº”ç­”åï¼Œè¿˜è¦å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªç¡®è®¤æŠ¥æ–‡æ®µï¼Œè¡¨ç¤ºï¼šæœåŠ¡ç«¯å‘æ¥çš„è¿æ¥åŒæ„åº”ç­”å·²ç»æˆåŠŸæ”¶åˆ°ã€‚<br>è¯¥æŠ¥æ–‡æ®µçš„å¤´éƒ¨ä¸ºï¼šACK=1ï¼Œseq=x+1ï¼Œack=y+1ã€‚<br>å®¢æˆ·ç«¯å‘å®Œè¿™ä¸ªæŠ¥æ–‡æ®µåä¾¿è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¿™ä¸ªåº”ç­”åä¹Ÿè¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œæ­¤æ—¶è¿æ¥çš„å»ºç«‹å®Œæˆï¼</p><h3 id="ä¸ºä»€ä¹ˆè¿æ¥å»ºç«‹éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¿æ¥å»ºç«‹éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¿æ¥å»ºç«‹éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Ÿ"></a><strong>ä¸ºä»€ä¹ˆè¿æ¥å»ºç«‹éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Ÿ</strong></h3><p>é˜²æ­¢å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µè¢«æœåŠ¡ç«¯æ¥æ”¶ï¼Œä»è€Œäº§ç”Ÿé”™è¯¯ã€‚</p><p>PSï¼šå¤±æ•ˆçš„è¿æ¥è¯·æ±‚ï¼šè‹¥å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€çš„è¿æ¥è¯·æ±‚ä¸¢å¤±ï¼Œå®¢æˆ·ç«¯ç­‰å¾…åº”ç­”è¶…æ—¶åå°±ä¼šå†æ¬¡å‘é€è¿æ¥è¯·æ±‚ï¼Œæ­¤æ—¶ï¼Œä¸Šä¸€ä¸ªè¿æ¥è¯·æ±‚å°±æ˜¯ã€å¤±æ•ˆçš„ã€ã€‚</p><p><span style="background-color: yellow; color:red;">è‹¥å»ºç«‹è¿æ¥åªéœ€ä¸¤æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å¹¶æ²¡æœ‰å¤ªå¤§çš„å˜åŒ–ï¼Œä»ç„¶éœ€è¦è·å¾—æœåŠ¡ç«¯çš„åº”ç­”åæ‰è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œè€ŒæœåŠ¡ç«¯åœ¨æ”¶åˆ°è¿æ¥è¯·æ±‚åå°±è¿›å…¥ESTABLISHEDçŠ¶æ€ã€‚æ­¤æ—¶å¦‚æœç½‘ç»œæ‹¥å¡ï¼Œå®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚è¿Ÿè¿Ÿåˆ°ä¸äº†æœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯ä¾¿è¶…æ—¶é‡å‘è¯·æ±‚ï¼Œå¦‚æœæœåŠ¡ç«¯æ­£ç¡®æ¥æ”¶å¹¶ç¡®è®¤åº”ç­”ï¼ŒåŒæ–¹ä¾¿å¼€å§‹é€šä¿¡ï¼Œé€šä¿¡ç»“æŸåé‡Šæ”¾è¿æ¥ã€‚æ­¤æ—¶ï¼Œå¦‚æœé‚£ä¸ªå¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠµè¾¾äº†æœåŠ¡ç«¯ï¼Œç”±äºåªæœ‰ä¸¤æ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚å°±ä¼šè¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œç­‰å¾…å‘é€æ•°æ®æˆ–ä¸»åŠ¨å‘é€æ•°æ®ã€‚ä½†æ­¤æ—¶çš„å®¢æˆ·ç«¯æ—©å·²è¿›å…¥CLOSEDçŠ¶æ€ï¼ŒæœåŠ¡ç«¯å°†ä¼šä¸€ç›´ç­‰å¾…ä¸‹å»ï¼Œè¿™æ ·æµªè´¹æœåŠ¡ç«¯è¿æ¥èµ„æºã€‚</span></p><p>è½¬è½½ï¼š<a href="https://www.zhihu.com/question/24853633/answer/254224088" target="_blank" rel="noopener">https://www.zhihu.com/question/24853633/answer/254224088</a></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä¸–ç•Œä¸Šæœ€å­¤ç‹¬çš„é²¸é±¼ å‘å‡ºçš„é¢‘ç‡æ˜¯52èµ«å…¹ è€Œæ­£å¸¸é²¸é±¼æ˜¯15è‡³25èµ«å…¹ ä¸–ä¸Šæ²¡ä»»ä½•é²¸é±¼èƒ½å¬æ‡‚å®ƒ å®ƒæ²¡æœ‰é±¼ç¾¤ æ²¡æœ‰åŒç±» ä½†å®ƒæ²¡æ”¾å¼ƒå¤§æµ· ä»åƒé‡Œå¤–çš„å¤ªå¹³æ´‹æ¸¸åˆ°å¤§è¥¿æ´‹ çºµç„¶å‘å–ŠäºŒåäº”å¹´æ²¡äººåº”ç­” ä½†å¤§æµ·æœ‰å¤šæµ©ç€šå®ƒæ¯”åˆ«çš„é²¸é±¼éƒ½æ¸…æ¥šã€‚&lt;/p&gt;
&lt;p&gt;â€‹                                                                                                                                                             â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„   &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://18wanttobesinger.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åº“äº‹åŠ¡æ¦‚å¿µç†è§£</title>
    <link href="https://18wanttobesinger.github.io/2020/06/25/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1%E6%A6%82%E5%BF%B5%E7%90%86%E8%A7%A3/"/>
    <id>https://18wanttobesinger.github.io/2020/06/25/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1%E6%A6%82%E5%BF%B5%E7%90%86%E8%A7%A3/</id>
    <published>2020-06-25T11:26:44.000Z</published>
    <updated>2020-06-25T12:53:21.149Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><pre><code>æœ‰çš„äººåªè¦è·‹å±±æ¶‰æ°´å°±å¯ä»¥è§é¢ã€‚ åªæœ‰å°‘æ•°äººï¼Œéœ€è¦æ—¶å…‰æœºæ‰èƒ½è§é¢ã€‚ æˆ‘åœ¨ç­‰ä¸€åœºæ„å¤–çš„æ­»äº¡ ç„¶åç¬‘ç€å»è§å­Ÿå©†                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</code></pre><a id="more"></a><h2 id="1ã€äº‹åŠ¡ç®€ä»‹"><a href="#1ã€äº‹åŠ¡ç®€ä»‹" class="headerlink" title="1ã€äº‹åŠ¡ç®€ä»‹"></a>1ã€äº‹åŠ¡ç®€ä»‹</h2><p><strong style="background-color: yellow; color: red;">äº‹åŠ¡ï¼Œç®€çŸ­çš„è¯´å°±æ˜¯ä¸€ç»„æ“ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸åšï¼Œç»ä¸å…è®¸åªåšå…¶ä¸­çš„ä¸€éƒ¨åˆ†æ“ä½œã€‚</strong ><br>æ¯”å¦‚é“¶è¡Œè½¬è´¦ï¼ŒAè´¦å·è½¬ç»™Bè´¦å·1000å…ƒï¼Œå…¶ä¸­åŒ…æ‹¬ä¸¤ä¸ªæ“ä½œA-1000ã€B+1000ï¼Œè¦ä¹ˆè¿™ä¸¤ä¸ªæ“ä½œå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸åšï¼Œå†³ä¸å…è®¸åªæ‰§è¡Œå…¶ä¸­ä¸€ä¸ªæ“ä½œï¼ˆä½ å¯ä»¥æƒ³æƒ³æƒ³å¦‚æœA-1000ï¼Œä½†æ˜¯Bæ²¡æœ‰+1000ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿ/æ–œçœ¼ç¬‘/æ–œçœ¼ç¬‘ï¼‰ã€‚</p><h3 id="äº‹åŠ¡å›æ»š"><a href="#äº‹åŠ¡å›æ»š" class="headerlink" title="äº‹åŠ¡å›æ»š:"></a><strong>äº‹åŠ¡å›æ»š</strong>:</h3><p>å½“ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿäº†å¼‚å¸¸ã€é”™è¯¯ï¼Œåˆ™é‡æ–°å›åˆ°æœ€å…ˆæœªå¼€å§‹æ‰§è¡Œçš„è¿‡ç¨‹ã€‚æ¯”å¦‚ä¸Šé¢é‚£ä¸ªé“¶è¡Œè½¬è´¦è¿‡ç¨‹ï¼Œå‡è®¾A-1000æ“ä½œå·²ç»å®Œæˆï¼Œä½†æ˜¯åœ¨æ‰§è¡ŒB+1000æ“ä½œæ—¶ï¼Œç³»ç»Ÿå‘ç”Ÿä½ç½®é”™è¯¯ï¼Œè¿™æ—¶éœ€è¦å›åˆ°æœªæ‰§è¡Œè¯¥è½¬è´¦æ“ä½œä¹‹å‰çš„çŠ¶æ€ï¼Œå³Aã€BåŸæ¥å¤šå°‘é’±è¿˜æ˜¯å¤šå°‘é’±ï¼Œä¸€åˆ†ä¸èƒ½å°‘ã€‚</p><h3 id="äº‹åŠ¡æäº¤"><a href="#äº‹åŠ¡æäº¤" class="headerlink" title="äº‹åŠ¡æäº¤:"></a>äº‹åŠ¡æäº¤:</h3><p>å½“ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹æ²¡æœ‰å‘ç”Ÿä»»ä½•å¼‚å¸¸ã€é”™è¯¯ï¼Œè¿™æ—¶æˆ‘ä»¬è¦ä¿å­˜è¿™ä¸ªäº‹åŠ¡çš„ä¿®æ”¹ã€‚æ¯”å¦‚ä¸Šé¢çš„é“¶è¡Œè½¬è´¦è¿‡ç¨‹ï¼Œå‡è®¾A-1000ã€B+1000æ“ä½œå…¨éƒ¨å®Œæˆï¼Œæ²¡æœ‰å‡ºç°ä»»ä½•å¼‚å¸¸ã€é”™è¯¯ï¼Œè¿™æ—¶éœ€è¦ä¿å­˜äº‹åŠ¡æ‰§è¡ŒçŠ¶æ€ä¿®æ”¹ï¼ˆAå‡å°‘äº†1000å…ƒï¼ŒBå¢åŠ äº†1000å…ƒï¼‰ï¼Œå³äº‹åŠ¡æäº¤ã€‚</p><h2 id="2ã€äº‹åŠ¡çš„ç‰¹æ€§-ACID"><a href="#2ã€äº‹åŠ¡çš„ç‰¹æ€§-ACID" class="headerlink" title="2ã€äº‹åŠ¡çš„ç‰¹æ€§(ACID)"></a>2ã€äº‹åŠ¡çš„ç‰¹æ€§(ACID)</h2><p>äº‹åŠ¡å…·æœ‰<strong>å››å¤§ç‰¹æ€§</strong>ï¼Œå¦‚ä¸‹ï¼š</p><p><strong>â‘ ã€åŸå­æ€§(Atomicity)</strong>ï¼šæ•´ä½“ ã€åŸå­æ€§æ˜¯æŒ‡äº‹åŠ¡åŒ…å«çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‘<br><strong>â‘¡ã€ä¸€è‡´æ€§(Consistency)</strong>ï¼šæ•°æ® ã€äº‹åŠ¡æäº¤åçš„çŠ¶æ€åˆé›†ç§°ä¸ºä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯æ•°æ®åº“åªåŒ…å«äº‹åŠ¡æäº¤çš„çŠ¶æ€ã€‘<br><strong>â‘¢ã€éš”ç¦»æ€§(Isolation)</strong>ï¼šå¹¶å‘ ã€å¯¹äºä»»æ„ä¸¤ä¸ªå¹¶å‘çš„äº‹åŠ¡Aå’ŒBï¼Œåœ¨äº‹åŠ¡Açœ‹æ¥ï¼ŒBè¦ä¹ˆåœ¨Aå¼€å§‹ä¹‹å‰å°±å·²ç»ç»“æŸï¼Œè¦ä¹ˆåœ¨Aç»“æŸä¹‹åæ‰å¼€å§‹ï¼Œè¿™æ ·æ¯ä¸ªäº‹åŠ¡éƒ½æ„Ÿè§‰ä¸åˆ°æœ‰å…¶ä»–äº‹åŠ¡åœ¨å¹¶å‘åœ°æ‰§è¡Œã€‚ã€‘<br><strong>â‘£ã€æŒä¹…æ€§(Durability)</strong>ï¼šç»“æœ ã€æŒä¹…æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤äº†ï¼Œå°±ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„ã€‘</p><h2 id="3ã€äº‹åŠ¡éš”ç¦»é—®é¢˜"><a href="#3ã€äº‹åŠ¡éš”ç¦»é—®é¢˜" class="headerlink" title="3ã€äº‹åŠ¡éš”ç¦»é—®é¢˜"></a>3ã€äº‹åŠ¡éš”ç¦»é—®é¢˜</h2><p>ç”±äºäº‹åŠ¡å¯åŒ…å«å¤šä¸ªæ“ä½œï¼Œåœ¨å¤šä¸ªå®¢æˆ·ç«¯å¹¶å‘è®¿é—®è¿‡ç¨‹ï¼Œå¯èƒ½ä¼šå‘ç”Ÿä¸€ä¸ªäº‹åŠ¡åªåšäº†ä¸€éƒ¨åˆ†æ“ä½œï¼Œæ­¤æ—¶å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¹Ÿå¼€å§‹æ‰§è¡Œï¼Œé‚£ä¹ˆå‰ä¸€ä¸ªäº‹åŠ¡çš„åªæ‰§è¡Œéƒ¨åˆ†æ“ä½œçš„ä¸­é—´çŠ¶æ€ä¼šç»™ç¬¬äºŒä¸ªäº‹åŠ¡é€ æˆå½±å“ã€‚</p><p>å†ä¸¾ä¸ªè½¬è´¦çš„ä¾‹å­ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªäº‹åŠ¡åŒ…å«A-100000ï¼ŒB+100000ä¸¤ä¸ªæ“ä½œï¼Œå½“å®ƒæŠŠä¸¤ä¸ªæ“ä½œæ‰§è¡Œå®Œåï¼Œæ­£å‡†å¤‡æäº¤ï¼Œæ°åœ¨æ­¤æ—¶å¦å¤–ä¸€ä¸ªå®¢æˆ·ç«¯Bå¼€å¯äº†ç¬¬äºŒä¸ªäº‹åŠ¡æ£€æŸ¥å®ƒçš„ä½™é¢ï¼Œæ­¤æ—¶å·²ç»åˆ°è´¦äº†100000å…ƒã€‚ä½†æ˜¯ç¬¬ä¸€ä¸ªäº‹åŠ¡å¯¹åº”çš„å“ªä¸ªé¡¾å®¢å‘ç°è½¬é”™äººäº†ï¼Œæ‰€ä»¥æ‰§è¡Œäº†äº‹åŠ¡å›æ»šï¼Œé‚£ä¹ˆAã€BåŸæ¥å¤šå°‘é’±è¿˜æ˜¯å¤šå°‘é’±ï¼Œæ­¤æ—¶Bå®¢æˆ·çš„äº‹åŠ¡å†æŸ¥å®ƒçš„ä½™é¢å‘ç°ä¹‹å‰çš„100000å…ƒåˆä¸è§äº†ï¼</p><h3 id="â‘ ã€è¯»æœªæäº¤è¯»-Read-Uncommitted-ï¼Œä¹Ÿç§°è„è¯»"><a href="#â‘ ã€è¯»æœªæäº¤è¯»-Read-Uncommitted-ï¼Œä¹Ÿç§°è„è¯»" class="headerlink" title="â‘ ã€è¯»æœªæäº¤è¯»(Read Uncommitted)ï¼Œä¹Ÿç§°è„è¯»:"></a><strong>â‘ ã€è¯»æœªæäº¤è¯»(Read Uncommitted)ï¼Œä¹Ÿç§°è„è¯»</strong>:</h3><p>ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„å†…å®¹äº‹åŠ¡Bè¯»çœ‹åˆ°äº‹åŠ¡Aæ²¡æœ‰æäº¤çš„å†…å®¹ï¼Œæ¯”å¦‚å¯¹Aã€Bè´¦æˆ·çš„ä¿®æ”¹ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20191204113244757.jpg" alt="20191204113244757"></p><h3 id="â‘¡ã€ä¸å¯é‡å¤è¯»-Read-Committed"><a href="#â‘¡ã€ä¸å¯é‡å¤è¯»-Read-Committed" class="headerlink" title="â‘¡ã€ä¸å¯é‡å¤è¯»(Read Committed):"></a><strong>â‘¡ã€ä¸å¯é‡å¤è¯»(Read Committed)</strong>:</h3><p>ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°å¦ä¸€ä¸ªäº‹åŠ¡å·²æäº¤çš„å†…å®¹ï¼ˆä¸»è¦æ˜¯æ•°æ®æ›´æ–°ï¼‰æ­¤çº§åˆ«è§£å†³äº†è¯»æœªæäº¤è¯»çš„é—®é¢˜ï¼Œå³å…¶å®ƒäº‹åŠ¡æ²¡æœ‰æäº¤çš„å†…å®¹å¯¹æœ¬äº‹åŠ¡ä¸å¯è§ã€‚<br>ä½†æ˜¯äº‹åŠ¡Bèƒ½è¯»åˆ°äº‹åŠ¡Aæäº¤çš„æ•°æ®æ›´æ–°å†…å®¹ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20191204113555818.jpg" alt="20191204113555818"></p><h3 id="â‘¢ã€å¯é‡å¤è¯»-Repeatable-Read-ï¼Œè™šè¯»ï¼ˆå¹»è¯»ï¼‰ï¼š"><a href="#â‘¢ã€å¯é‡å¤è¯»-Repeatable-Read-ï¼Œè™šè¯»ï¼ˆå¹»è¯»ï¼‰ï¼š" class="headerlink" title="â‘¢ã€å¯é‡å¤è¯»(Repeatable Read)ï¼Œè™šè¯»ï¼ˆå¹»è¯»ï¼‰ï¼š"></a><strong>â‘¢ã€å¯é‡å¤è¯»(Repeatable Read)ï¼Œè™šè¯»ï¼ˆå¹»è¯»ï¼‰</strong>ï¼š</h3><p>ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°å¦ä¸€ä¸ªäº‹åŠ¡å·²æäº¤çš„å†…å®¹ï¼ˆä¸»è¦æ˜¯æ•°æ®æ’å…¥ï¼‰æ­¤çº§åˆ«è§£å†³äº†è¯»æœªæäº¤è¯»ã€ä¸å¯é‡å¤è¯»çš„é—®é¢˜ï¼Œäº‹åŠ¡Bèƒ½è¯»åˆ°äº‹åŠ¡Aæäº¤çš„æ•°æ®æ’å…¥å†…å®¹ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20191204114519339.jpg" alt="20191204114519339"></p><h3 id="â‘£ã€å¯ä¸²è¡ŒåŒ–-Serializable-ï¼š"><a href="#â‘£ã€å¯ä¸²è¡ŒåŒ–-Serializable-ï¼š" class="headerlink" title="â‘£ã€å¯ä¸²è¡ŒåŒ–(Serializable)ï¼š"></a><strong>â‘£ã€å¯ä¸²è¡ŒåŒ–(Serializable)</strong>ï¼š</h3><p>æœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œé€šè¿‡å¼ºåˆ¶äº‹åŠ¡æ’åºï¼Œä½¿ä¹‹ä¸å¯èƒ½ç›¸äº’å†²çªï¼Œä»è€Œè§£å†³å¹»è¯»é—®é¢˜ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20191204120121806.jpg" alt="20191204120121806"></p><h2 id="4ã€äº‹åŠ¡é”"><a href="#4ã€äº‹åŠ¡é”" class="headerlink" title="4ã€äº‹åŠ¡é”"></a>4ã€äº‹åŠ¡é”</h2><p>ä¸ºäº†è§£å†³äº‹åŠ¡éš”ç¦»æ€§é—®é¢˜ï¼Œå¼•å…¥é”çš„æ¦‚å¿µï¼Œåªæœ‰æ‹¿åˆ°é”çš„äº‹åŠ¡æ‰å¯å¯¹æ•°æ®åº“è¿›è¡Œè¯»å†™æ“ä½œ\color{red}åªæœ‰æ‹¿åˆ°é”çš„äº‹åŠ¡æ‰å¯å¯¹æ•°æ®åº“è¿›è¡Œè¯»å†™æ“ä½œåªæœ‰æ‹¿åˆ°é”çš„äº‹åŠ¡æ‰å¯å¯¹æ•°æ®åº“è¿›è¡Œè¯»å†™æ“ä½œã€‚äº‹åŠ¡æœ‰ä¸¤ç§é”ï¼Œå¹¶ä¸”æœ‰ç›¸åº”çš„æƒé™ã€‚</p><h3 id="â‘ ã€è¯»é”ï¼Œä¹Ÿç§°ä¸ºå…±äº«é”ã€‚"><a href="#â‘ ã€è¯»é”ï¼Œä¹Ÿç§°ä¸ºå…±äº«é”ã€‚" class="headerlink" title="â‘ ã€è¯»é”ï¼Œä¹Ÿç§°ä¸ºå…±äº«é”ã€‚"></a>â‘ ã€è¯»é”ï¼Œä¹Ÿç§°ä¸ºå…±äº«é”ã€‚</h3><p>æŸä¸ªäº‹åŠ¡Aæ‹¿åˆ°è¯¥é”æ—¶ï¼Œäº‹åŠ¡Aåªèƒ½è¿›è¡Œè¯»æ“ä½œï¼Œæ­¤æ—¶å…¶ä»–äº‹åŠ¡ä¹Ÿå¯ä»¥æ‹¿åˆ°è¿™æŠŠé”ï¼ˆå…±äº«ï¼‰ã€‚</p><h3 id="â‘¡ã€å†™é”ï¼Œä¹Ÿç§°ä¸ºæ’å®ƒé”ã€‚"><a href="#â‘¡ã€å†™é”ï¼Œä¹Ÿç§°ä¸ºæ’å®ƒé”ã€‚" class="headerlink" title="â‘¡ã€å†™é”ï¼Œä¹Ÿç§°ä¸ºæ’å®ƒé”ã€‚"></a>â‘¡ã€å†™é”ï¼Œä¹Ÿç§°ä¸ºæ’å®ƒé”ã€‚</h3><p>æŸä¸ªäº‹åŠ¡Aæ‹¿åˆ°è¯¥é”æ—¶ï¼Œäº‹åŠ¡Aèƒ½è¿›è¡Œè¯»ã€å†™æ“ä½œï¼Œæ­¤æ—¶å…¶ä»–äº‹åŠ¡ä¸èƒ½æ‹¿åˆ°è¿™æŠŠé”ï¼ˆæ’å®ƒï¼‰ã€‚<br>å¦‚æœæŸä¸ªäº‹åŠ¡Aæ‹¿åˆ°äº†è¯»é”ï¼Œå…¶å®ƒäº‹åŠ¡å¯ä»¥æ‹¿åˆ°è¯»é”ï¼ˆå…±äº«ï¼‰ï¼Œä½†æ˜¯æ— æ³•è·å–å†™é”ã€‚<br>å¦‚æœæŸä¸ªäº‹åŠ¡Aæ‹¿åˆ°äº†å†™é”ï¼Œå…¶ä»–äº‹åŠ¡æ—¢ä¸èƒ½æ‹¿åˆ°å†™é”ï¼Œä¹Ÿæ‹¿ä¸åˆ°è¯»é”ï¼</p><h3 id="â‘¢ã€é”çš„ç²’åº¦"><a href="#â‘¢ã€é”çš„ç²’åº¦" class="headerlink" title="â‘¢ã€é”çš„ç²’åº¦"></a>â‘¢ã€é”çš„ç²’åº¦</h3><p>æ‰€è°“é”çš„ç²’åº¦ï¼Œå°±æ˜¯é”çš„èŒƒå›´ï¼Œæ¯”å¦‚å¦‚æœé”çš„èŒƒå›´æ˜¯ä¸€å¼ è¡¨ï¼Œåˆ™äº‹åŠ¡Aè·å–å†™é”åï¼Œåªèƒ½äº‹åŠ¡Aè¿›è¡Œè¯»ã€å†™ï¼Œå…¶ä»–äº‹åŠ¡å…¨éƒ¨è¦é è¾¹ç«™ã€‚<br>å¦‚æœé”çš„ç²’åº¦æ˜¯äº‹åŠ¡Aéœ€è¦æ“ä½œçš„æŸå‡ è¡Œè®°å½•ï¼Œå…¶å®ƒè®°å½•å¦‚æœå…¶ä»–äº‹åŠ¡æ‹¿åˆ°é”ä»ç„¶å¯ä»¥è¯»ã€å†™ã€‚</p><p><strong>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé”çš„ç²’åº¦è¶Šå°ï¼ˆé”çš„èŒƒå›´å°ï¼‰ï¼Œåˆ™å¹¶å‘é—®é¢˜è§£å†³è¶Šå¥½ï¼ˆäº‹åŠ¡éƒ½æ˜¯å¹¶å‘æ‰§è¡Œï¼‰ï¼Œä½†æ˜¯æ•ˆç‡è¶Šä½ï¼Œå› ä¸ºéœ€è¦å¤§é‡çš„èµ„æºæ¥ç¡®ä¿å„ä¸ªäº‹åŠ¡çš„é”çš„ç²’åº¦æ²¡æœ‰äº¤é›†ã€å†²çªã€‚</strong></p><p><strong>é”çš„ç²’åº¦è¶Šå¤§ï¼ˆé”çš„èŒƒå›´å¤§ï¼‰ï¼Œåˆ™å¹¶å‘é—®é¢˜è§£å†³è¶Šå·®ï¼ˆå…¶ä»–äº‹åŠ¡éƒ½åœ¨ç­‰å¾…ï¼‰ï¼Œä½†æ˜¯æ•ˆç‡è¾ƒé«˜ï¼Œå› ä¸ºä¸è¦èµ„æºæ¥æ§åˆ¶å„ä¸ªäº‹åŠ¡çš„é”ç²’åº¦äº¤é›†é—®é¢˜ã€‚</strong></p><h2 id="5ã€è¿ç”¨é”è§£å†³éš”ç¦»æ€§é—®é¢˜"><a href="#5ã€è¿ç”¨é”è§£å†³éš”ç¦»æ€§é—®é¢˜" class="headerlink" title="5ã€è¿ç”¨é”è§£å†³éš”ç¦»æ€§é—®é¢˜"></a>5ã€è¿ç”¨é”è§£å†³éš”ç¦»æ€§é—®é¢˜</h2><p>è¿™é‡Œæ¼”ç¤ºä¸€ä¸‹ä½¿ç”¨å†™é”è§£å†³è¯»æœªæäº¤è¯»çš„é—®é¢˜ï¼Œå…¶å®ƒå¹¶å‘é—®é¢˜éƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼çš„æ–¹æ³•è§£å†³ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20191204124729517.jpg" alt="20191204124729517"></p><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/qq_41855420/article/details/103382189" target="_blank" rel="noopener">https://blog.csdn.net/qq_41855420/article/details/103382189</a></p>]]></content>
    
    <summary type="html">
    
      æ•°æ®åº“äº‹åŠ¡æ¦‚å¿µ
    
    </summary>
    
    
    
      <category term="æ•°æ®åº“" scheme="https://18wanttobesinger.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®ç»“æ„ä¹‹äºŒå‰æœç´¢æ ‘è¯¦è§£(é™„C++ä»£ç å®ç°æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤æ“ä½œ)</title>
    <link href="https://18wanttobesinger.github.io/2020/06/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E8%AF%A6%E8%A7%A3-%E9%99%84C-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%9F%A5%E6%89%BE%E3%80%81%E6%8F%92%E5%85%A5%E3%80%81%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C/"/>
    <id>https://18wanttobesinger.github.io/2020/06/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E8%AF%A6%E8%A7%A3-%E9%99%84C-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%9F%A5%E6%89%BE%E3%80%81%E6%8F%92%E5%85%A5%E3%80%81%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C/</id>
    <published>2020-06-24T09:43:19.000Z</published>
    <updated>2020-06-25T12:53:39.016Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤šå¹´ä»¥åçš„æŸä¸ªæ·±å¤œã€‚ä½ ä¼šä¸ä¼šçªç„¶æƒ³èµ·æˆ‘ ç„¶åæ³ªå¦‚æ³‰æ¶Œ ã€‚æ‰å‘ç°ä½ æ›¾äºæ¬ æˆ‘å¤ªå¤šã€‚ä½ é™ªæˆ‘ä¸€ç¨‹ã€‚å¯æˆ‘ä¼šæƒ¦è®°ä½ ä¸€ç”Ÿã€‚</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="äºŒå‰æœç´¢æ ‘è¯¦è§£"><a href="#äºŒå‰æœç´¢æ ‘è¯¦è§£" class="headerlink" title="äºŒå‰æœç´¢æ ‘è¯¦è§£"></a>äºŒå‰æœç´¢æ ‘è¯¦è§£</h2><h3 id="ä¸€ã€äºŒå‰æœç´¢æ ‘ç®€è¿°"><a href="#ä¸€ã€äºŒå‰æœç´¢æ ‘ç®€è¿°" class="headerlink" title="ä¸€ã€äºŒå‰æœç´¢æ ‘ç®€è¿°"></a>ä¸€ã€<code>äºŒå‰æœç´¢æ ‘</code>ç®€è¿°</h3><p>â€ƒâ€ƒäºŒå‰æœç´¢æ ‘å¤§è‡´å®šä¹‰ä¸ºäºŒå‰æ ‘çš„å·¦å­æ ‘ä»»æ„èŠ‚ç‚¹çš„å€¼å°äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå³å­æ ‘ä»»æ„èŠ‚ç‚¹çš„å€¼å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå¹¶ä¸”å·¦å­æ ‘ã€å³å­æ ‘åŒæ ·ä¹Ÿç¬¦åˆäºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚ä¸­åºéå†é¡ºåºä¸ºå·¦æ ¹å³ï¼Œæ‰€ä»¥äºŒå‰æœç´¢æ ‘çš„å…¸å‹ç‰¹å¾æ˜¯ä¸­åºéå†åºåˆ—æœ‰åºã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/2020041722005953.jpg" alt="2020041722005953"></p><h3 id="äºŒã€äºŒå‰æœç´¢æ ‘ç›¸å…³æ“ä½œ"><a href="#äºŒã€äºŒå‰æœç´¢æ ‘ç›¸å…³æ“ä½œ" class="headerlink" title="äºŒã€äºŒå‰æœç´¢æ ‘ç›¸å…³æ“ä½œ"></a>äºŒã€äºŒå‰æœç´¢æ ‘ç›¸å…³æ“ä½œ</h3><p>â€ƒâ€ƒä¸ºäº†èƒ½è®©å¤§å®¶æ›´å¥½çš„ç†è§£äºŒå‰æœç´¢æ ‘ï¼Œå°†æä¾›C++çš„ç¼–ç å®ç°ã€‚ä¸‹é¢æ˜¯TreeNodeç»“æ„ä½“å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿™é‡Œé¢å¤–æ·»åŠ äº†parentæŒ‡é’ˆï¼Œä¸»è¦æ˜¯ä¸ºäº†è®¿é—®çˆ¶èŠ‚ç‚¹æ–¹ä¾¿</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="comment">// ä¸‰ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘çˆ¶èŠ‚ç‚¹ã€å·¦å­æ ‘æ ¹èŠ‚ç‚¹ã€å³å­æ ‘æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    TreeNode *parent;</span><br><span class="line">    TreeNode *left;</span><br><span class="line">    TreeNode *right;</span><br><span class="line">    TreeNode(<span class="keyword">int</span> value) : value(value), parent(<span class="literal">NULL</span>), left(<span class="literal">NULL</span>), right(<span class="literal">NULL</span>) &#123;&#125;</span><br><span class="line">    TreeNode(<span class="keyword">int</span> value, TreeNode *parent, TreeNode *left, TreeNode *right) &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;value = value;</span><br><span class="line">        <span class="keyword">this</span>-&gt;parent = parent;</span><br><span class="line">        <span class="keyword">this</span>-&gt;left = left;</span><br><span class="line">        <span class="keyword">this</span>-&gt;right =right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><span style="color: red;">æ¸©é¦¨æç¤ºï¼š</span>æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤èŠ‚ç‚¹ä¸‰ä¸ªæ“ä½œçš„å¤æ‚åº¦ä¾æ¬¡å¢åŠ ï¼Œå¦‚æœè§‰å¾—æœ‰ç‚¹å‹åŠ›ï¼Œè¯·æŒ‰ç…§é¡ºåºä¾æ¬¡é˜…è¯»ï¼Œç¨³æ‰ç¨³æ‰“ã€‚</p><h4 id="1ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æŸ¥æ‰¾"><a href="#1ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æŸ¥æ‰¾" class="headerlink" title="1ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æŸ¥æ‰¾"></a>1ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æŸ¥æ‰¾</h4><p>â€ƒâ€ƒäºŒå‰æœç´¢æ ‘è®¾è®¡æˆå·¦ &lt; æ ¹ &lt; å³ï¼ˆä¸­åºéå†æœ‰åºï¼‰ï¼Œä¸€ä¸ªå¾ˆé‡è¦çš„åŠ¨æœºå°±æ˜¯å¿«é€ŸæŸ¥æ‰¾ã€‚æœ‰è¿‡ä¸€ç‚¹ç®—æ³•åŸºç¡€çš„åº”è¯¥èƒ½æƒ³åˆ°æœ‰ä¸€ç§æœç´¢ç­–ç•¥éå¸¸ç›¸ä¼¼ï¼Œæ²¡é”™å°±æ˜¯äºŒåˆ†æœç´¢ï¼Œæ¯æ¬¡å°†targetä¸æœç´¢åŒºé—´ï¼ˆé€’å¢æœ‰åºï¼‰çš„ä¸­é—´å€¼midæ¯”è¾ƒï¼Œå¦‚æœtarget &lt; midåˆ™ç¼©å°æœç´¢åŒºé—´ä¸º[left, mid - 1],å¦‚æœtarget &gt; midåˆ™ç¼©å°æœç´¢åŒºé—´ä¸º[mid + 1, right],å¦åˆ™target == midã€‚è¾£ä¹ˆå†æ¥çœ‹çœ‹äºŒå‰æœç´¢æ ‘ä¸­æŸ¥æ‰¾çš„ä¼ªä»£ç ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">root æŒ‡å‘äºŒå‰æœç´¢æ ‘çš„æ ¹ï¼Œtargetä¸ºéœ€è¦æœç´¢çš„å€¼</span><br><span class="line"><span class="keyword">while</span> (root != <span class="literal">NULL</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> root-&gt;value == target</span><br><span class="line">        æˆåŠŸæœç´¢åˆ°äº† <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> root-&gt;value &gt; target</span><br><span class="line">        <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šrootçš„å³å­æ ‘æ¯”root-&gt;valueéƒ½å¤§ï¼Œrootçš„å·¦å­æ ‘æ¯”root-&gt;valueéƒ½å°</span></span><br><span class="line">        <span class="comment">// æ—¢ç„¶root-&gt;value &gt; targetï¼Œé‚£ä¹ˆåªå¯èƒ½å‡ºç°åœ¨å·¦å­æ ‘ï¼Œè½¬ç§»rootåˆ°å·¦å­æ ‘</span></span><br><span class="line">        root = root-&gt;left</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="comment">// å¦åˆ™root-&gt;value &lt; target</span></span><br><span class="line">        <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šrootçš„å³å­æ ‘æ¯”root-&gt;valueéƒ½å¤§ï¼Œrootçš„å·¦å­æ ‘æ¯”root-&gt;valueéƒ½å°</span></span><br><span class="line">        <span class="comment">// æ—¢ç„¶root-&gt;value &lt; targetï¼Œé‚£ä¹ˆåªå¯èƒ½å‡ºç°åœ¨å³å­æ ‘ï¼Œè½¬ç§»rootåˆ°å³å­æ ‘</span></span><br><span class="line">        root = root-&gt;right</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// root == NULLï¼ŒäºŒå‰æœç´¢æ ‘ä¸­æ²¡æœ‰target</span></span><br></pre></td></tr></table></figure><h5 id="C-ä»£ç å®ç°ï¼š"><a href="#C-ä»£ç å®ç°ï¼š" class="headerlink" title="C++ä»£ç å®ç°ï¼š"></a>C++ä»£ç å®ç°ï¼š</h5><p>// åœ¨äºŒå‰æœç´¢æ ‘ä¸­æŸ¥æ‰¾targetï¼Œå­˜åœ¨è¿”å›å¯¹åº”çš„æŒ‡é’ˆï¼Œå¦åˆ™è¿”NULL</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode *<span class="title">searchNode</span><span class="params">(TreeNode *root, <span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (root != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;value == target) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;value &gt; target) &#123;</span><br><span class="line">            <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šrootçš„å³å­æ ‘æ¯”root-&gt;valueéƒ½å¤§ï¼Œrootçš„å·¦å­æ ‘æ¯”root-&gt;valueéƒ½å°</span></span><br><span class="line">            <span class="comment">// æ—¢ç„¶root-&gt;value &gt; targetï¼Œé‚£ä¹ˆåªå¯èƒ½å‡ºç°åœ¨å·¦å­æ ‘ï¼Œè½¬ç§»rootåˆ°å·¦å­æ ‘</span></span><br><span class="line">            root = root-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦åˆ™root-&gt;value &lt; target</span></span><br><span class="line">            <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šrootçš„å³å­æ ‘æ¯”root-&gt;valueéƒ½å¤§ï¼Œrootçš„å·¦å­æ ‘æ¯”root-&gt;valueéƒ½å°</span></span><br><span class="line">            <span class="comment">// æ—¢ç„¶root-&gt;value &lt; targetï¼Œé‚£ä¹ˆåªå¯èƒ½å‡ºç°åœ¨å³å­æ ‘ï¼Œè½¬ç§»rootåˆ°å³å­æ ‘</span></span><br><span class="line">            root = root-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æ’å…¥"><a href="#2ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æ’å…¥" class="headerlink" title="2ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æ’å…¥"></a>2ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æ’å…¥</h4><p>â€ƒâ€ƒäºŒå‰æœç´¢æ ‘ä¸­æŸ¥æ‰¾å……åˆ†åˆ©ç”¨å·¦ &lt; æ ¹ &lt; å³ç‰¹æ€§ï¼Œè¾£ä¹ˆæ’å…¥ä¹Ÿèƒ½ç”¨ä¸Šè¿™ä¸ªç‰¹æ€§ä¹ˆï¼Ÿç­”æ¡ˆæ˜¯æ˜¾ç„¶çš„ã€‚<br>â€ƒâ€ƒé¦–å…ˆæ€è€ƒä¸€ä¸‹ï¼Œæˆ‘ä»¬æ’å…¥èŠ‚ç‚¹åæ˜¯ä¸æ˜¯è¿˜éœ€è¦ç»´æŒäºŒå‰æ ‘ä»ç„¶æ»¡è¶³äºŒå‰æœç´¢æ ‘ç‰¹æ€§ï¼Œè¿™æ˜¯å¿…é¡»çš„ï¼Œè¦ä¸èƒ½ä½ çš„äºŒå‰æœç´¢æ ‘å°±å˜æˆä¸€æ¬¡æ€§çš„äº†ã€‚è¾£ä¹ˆæˆ‘ä»¬å°±å…ˆè¦æ‰¾åˆ°å®ƒçœŸå®åº”è¯¥æ’å…¥çš„ä½ç½®ï¼Œä¿è¯ä¸­åºéå†ä¸ºé€’å¢æœ‰åºã€‚ä¸‹é¢æ˜¯åˆ é™¤çš„ä¼ªä»£ç .</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">root æŒ‡å‘äºŒå‰æœç´¢æ ‘çš„æ ¹ï¼Œvalueä¸ºéœ€è¦æ’å…¥çš„å€¼</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">NULL</span></span><br><span class="line">    <span class="comment">// äºŒå‰æœç´¢æ ‘ä¸ºç©ºï¼Œæ’å…¥çš„èŠ‚ç‚¹å³æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    root = <span class="keyword">new</span> TreeNode(value)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment">// æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ’å…¥çš„ä½ç½®</span></span><br><span class="line">    TreeNode *ptr = root;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ptr-&gt;value == value</span><br><span class="line">            <span class="comment">// æ ‘ä¸­å·²ç»å­˜åœ¨è¿™ä¸ªvalueï¼Œä¸è¿›è¡Œæ’å…¥ï¼ˆè¿™é‡Œç®€åŒ–é€»è¾‘ï¼‰</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ptr-&gt;value &gt; value</span><br><span class="line">            <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šptrçš„å³å­æ ‘æ¯”ptr-&gt;valueéƒ½å¤§ï¼Œptrçš„å·¦å­æ ‘æ¯”ptr-&gt;valueéƒ½å°</span></span><br><span class="line">            <span class="comment">// æ—¢ç„¶ptr-&gt;value &gt; valueï¼Œvalueåªèƒ½æ’å…¥ptrå·¦å­æ ‘</span></span><br><span class="line">            <span class="keyword">if</span> ptr-&gt;left == <span class="literal">NULL</span></span><br><span class="line">                <span class="comment">// å¦‚æœptrå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™æ’å…¥çš„èŠ‚ç‚¹æ­£å¥½åšå·¦å­æ ‘çš„æ ¹</span></span><br><span class="line">                ptr-&gt;left = <span class="keyword">new</span> TreeNode(value)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="comment">// å¦åˆ™è½¬ç§»åˆ°å·¦å­æ ‘ï¼Œç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                ptr = ptr-&gt;left</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šptrçš„å³å­æ ‘æ¯”ptr-&gt;valueéƒ½å¤§ï¼Œptrçš„å·¦å­æ ‘æ¯”ptr-&gt;valueéƒ½å°</span></span><br><span class="line">            <span class="comment">// æ—¢ç„¶ptr-&gt;value &lt; valueï¼Œvalueåªèƒ½æ’å…¥ptrå³å­æ ‘</span></span><br><span class="line">            <span class="keyword">if</span> ptr-&gt;right == <span class="literal">NULL</span></span><br><span class="line">                <span class="comment">// å¦‚æœptrå³å­æ ‘ä¸ºç©ºï¼Œåˆ™æ’å…¥çš„èŠ‚ç‚¹æ­£å¥½åšå³å­æ ‘çš„æ ¹</span></span><br><span class="line">                ptr-&gt;right = <span class="keyword">new</span> TreeNode(value)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="comment">// å¦åˆ™è½¬ç§»åˆ°å³å­æ ‘ï¼Œç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                ptr = ptr-&gt;right</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> root</span><br></pre></td></tr></table></figure><p>C++ä»£ç å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨äºŒå‰æœç´¢æ ‘ä¸­æ’å…¥valueï¼Œå¦‚æœäºŒå‰æ ‘ä¸­å·²ç»å­˜åœ¨åˆ™ä¸è¿›è¡Œæ’å…¥ï¼ˆç®€åŒ–å¤„ç†é€»è¾‘ï¼‰</span></span><br><span class="line"><span class="function">TreeNode *<span class="title">searchNode</span><span class="params">(TreeNode *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="comment">// äºŒå‰æœç´¢æ ‘ä¸ºç©ºï¼Œæ’å…¥çš„èŠ‚ç‚¹å³æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        root = <span class="keyword">new</span> TreeNode(value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ’å…¥çš„ä½ç½®</span></span><br><span class="line">        TreeNode *ptr = root;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ptr-&gt;value == value) &#123;</span><br><span class="line">                <span class="comment">// æ ‘ä¸­å·²ç»å­˜åœ¨è¿™ä¸ªvalueï¼Œä¸è¿›è¡Œæ’å…¥ï¼ˆè¿™é‡Œç®€åŒ–é€»è¾‘ï¼‰</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (ptr-&gt;value &gt; value) &#123;</span><br><span class="line">                <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šptrçš„å³å­æ ‘æ¯”ptr-&gt;valueéƒ½å¤§ï¼Œptrçš„å·¦å­æ ‘æ¯”ptr-&gt;valueéƒ½å°</span></span><br><span class="line">                <span class="comment">// æ—¢ç„¶ptr-&gt;value &gt; valueï¼Œvalueåªèƒ½æ’å…¥ptrå·¦å­æ ‘</span></span><br><span class="line">                <span class="keyword">if</span> (ptr-&gt;left == <span class="literal">NULL</span>) &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœptrå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™æ’å…¥çš„èŠ‚ç‚¹æ­£å¥½åšå·¦å­æ ‘çš„æ ¹</span></span><br><span class="line">                    ptr-&gt;left = <span class="keyword">new</span> TreeNode(value);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// å¦åˆ™è½¬ç§»åˆ°å·¦å­æ ‘ï¼Œç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                    ptr = ptr-&gt;left;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šptrçš„å³å­æ ‘æ¯”ptr-&gt;valueéƒ½å¤§ï¼Œptrçš„å·¦å­æ ‘æ¯”ptr-&gt;valueéƒ½å°</span></span><br><span class="line">                <span class="comment">// æ—¢ç„¶ptr-&gt;value &lt; valueï¼Œvalueåªèƒ½æ’å…¥ptrå³å­æ ‘</span></span><br><span class="line">                <span class="keyword">if</span> (ptr-&gt;right == <span class="literal">NULL</span>) &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœptrå³å­æ ‘ä¸ºç©ºï¼Œåˆ™æ’å…¥çš„èŠ‚ç‚¹æ­£å¥½åšå³å­æ ‘çš„æ ¹</span></span><br><span class="line">                    ptr-&gt;right = <span class="keyword">new</span> TreeNode(value);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// å¦åˆ™è½¬ç§»åˆ°å³å­æ ‘ï¼Œç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                    ptr = ptr-&gt;right;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„åˆ é™¤"><a href="#3ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„åˆ é™¤" class="headerlink" title="3ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„åˆ é™¤"></a>3ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„åˆ é™¤</h4><p>â€ƒâ€ƒåœ¨äºŒå‰æœç´¢æ ‘åˆ é™¤èŠ‚ç‚¹ï¼Œé¦–å…ˆæˆ‘ä»¬åº”è¯¥åœ¨æ ‘ä¸­æŸ¥æ‰¾åˆ°è¿™ä¸ªèŠ‚ç‚¹çš„ä½ç½®å§ï¼Œç„¶åå°†å…¶ç§»é™¤ï¼Œå¹¶ä¸”ç§»é™¤åæˆ‘ä»¬éœ€è¦è¿›è¡Œè°ƒæ•´ï¼Œä½¿å…¶ä»»ç„¶æ»¡è¶³äºŒå‰æœç´¢æ ‘ã€‚è¿™ä¸ªåˆ é™¤æ“ä½œå¯ä»¥åˆ†æˆå¥½å‡ ç§æƒ…å†µï¼Œéœ€è¦åˆ†åˆ«è®¨è®ºã€‚</p><h5 id="â‘ ã€åˆ é™¤å¶èŠ‚ç‚¹"><a href="#â‘ ã€åˆ é™¤å¶èŠ‚ç‚¹" class="headerlink" title="â‘ ã€åˆ é™¤å¶èŠ‚ç‚¹"></a>â‘ ã€åˆ é™¤å¶èŠ‚ç‚¹</h5><p>â€ƒâ€ƒåˆ é™¤å¶èŠ‚ç‚¹ï¼Œåªè¦å°†å…¶ç§»é™¤å³å¯ï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•è°ƒæ•´æ“ä½œã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/2020041808272493.jpg" alt="2020041808272493"></p><h5 id="â‘¡ã€åˆ é™¤éå¶èŠ‚ç‚¹"><a href="#â‘¡ã€åˆ é™¤éå¶èŠ‚ç‚¹" class="headerlink" title="â‘¡ã€åˆ é™¤éå¶èŠ‚ç‚¹"></a>â‘¡ã€åˆ é™¤éå¶èŠ‚ç‚¹</h5><p>â€ƒâ€ƒåˆ é™¤éå¶èŠ‚ç‚¹å¯ä»¥ç»†åˆ†ä¸ºä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯åˆ é™¤æœ‰å³å­æ ‘çš„èŠ‚ç‚¹ï¼Œåˆ é™¤èŠ‚ç‚¹åéœ€è¦å°†å³å­æ ‘ä¸­åºéå†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¡«å……åˆ°åˆ é™¤èŠ‚ç‚¹Aä½ç½®ï¼ˆä¸ºä»€ä¹ˆé€‰å³å­æ ‘ä¸­åºéå†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Ÿå› ä¸ºæ•´æ£µæ ‘çš„ä¸­åºéå†åºåˆ—ä¸­ï¼ŒèŠ‚ç‚¹Açš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯å…¶å³å­æ ‘ä¸­åºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ã€‚<br>â€ƒâ€ƒå³å­æ ‘ä¸­åºéå†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºæŸä¸ªèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼Œç›´æ¥å°†æœ€å·¦çš„å·¦å­èŠ‚ç‚¹å¡«è¡¥åˆ°å·²åˆ é™¤èŠ‚ç‚¹çš„ä½ç½®ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/2020041808351744.jpg" alt="2020041808351744"></p><h5 id="aã€åˆ é™¤èŠ‚ç‚¹æœ‰å³å­æ ‘"><a href="#aã€åˆ é™¤èŠ‚ç‚¹æœ‰å³å­æ ‘" class="headerlink" title="aã€åˆ é™¤èŠ‚ç‚¹æœ‰å³å­æ ‘"></a>aã€åˆ é™¤èŠ‚ç‚¹æœ‰å³å­æ ‘</h5><p>â€ƒâ€ƒå³å­æ ‘ä¸­åºéå†åºåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºæŸä¸ªæ²¡æœ‰å·¦å­èŠ‚ç‚¹çš„èŠ‚ç‚¹Bã€‚å°†èŠ‚ç‚¹Bå¡«å…¥å·²åˆ é™¤èŠ‚ç‚¹çš„ä½ç½®ï¼Œå¹¶ä¸”å°†èŠ‚ç‚¹Bçš„å³å­æ ‘ç½®äºèŠ‚ç‚¹Bçš„ä½ç½®ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200418084409899.jpg" alt="20200418084409899"></p><h5 id="bã€åˆ é™¤èŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘"><a href="#bã€åˆ é™¤èŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘" class="headerlink" title="bã€åˆ é™¤èŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘"></a>bã€åˆ é™¤èŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘</h5><p>â€ƒâ€ƒç¬¬äºŒç§æ˜¯åˆ é™¤æ²¡æœ‰å³å­æ ‘çš„èŠ‚ç‚¹Aï¼Œæ­¤æ—¶å¯»æ‰¾æ•´é¢—äºŒå‰æ ‘ä¸­åºéå†ä¸­èŠ‚ç‚¹Açš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œéœ€è¦åˆ©ç”¨parentæŒ‡é’ˆã€‚æ‰¾åˆ°è¿œç¥–çˆ¶èŠ‚ç‚¹Bï¼Œå¹¶ä¸”ä½¿å¾—èŠ‚ç‚¹Aåœ¨è¿œç¥–çˆ¶èŠ‚ç‚¹Bçš„å·¦å­æ ‘ä¸­ï¼è¿œç¥–çˆ¶èŠ‚ç‚¹B.valueæ›¿æ¢åˆ°èŠ‚ç‚¹A.valueåï¼Œå®ƒè‡ªå·±ä¹Ÿéœ€è¦å®ƒçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ¥å¡«å……ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200418090738723.jpg" alt="20200418090738723"><br>â€ƒâ€ƒ<span style="color: red">å¤‡æ³¨ï¼š</span>å…¶å®æ ¹æœ¬ä¸éœ€è¦è¿›è¡Œåˆ é™¤æ“ä½œï¼Œåªè¦å¯»æ‰¾åˆ°è¿™ä¸ªèŠ‚ç‚¹ä¸­åºéå†åºåˆ—çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åç›´æ¥æ›¿æ¢å³å¯ã€‚<br>C++ä»£ç å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨äºŒå‰æœç´¢æ ‘ä¸­æ’å…¥valueï¼Œå¦‚æœäºŒå‰æ ‘ä¸­å·²ç»å­˜åœ¨åˆ™ä¸è¿›è¡Œæ’å…¥ï¼ˆç®€åŒ–å¤„ç†é€»è¾‘ï¼‰</span></span><br><span class="line"><span class="function">TreeNode *<span class="title">deleteNode</span><span class="params">(TreeNode *root, TreeNode *targetPtr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (targetPtr == <span class="literal">NULL</span> || root == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root == targetPtr &amp;&amp; root-&gt;right == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="comment">// ä¸€ã€åˆ é™¤çš„æ˜¯æ ¹èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ ¹èŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘</span></span><br><span class="line">        <span class="comment">// å¤„ç†ï¼šåˆ‡æ–­targetPträ¸å·¦å­æ ‘çš„å…³è”ï¼Œè¿”å›å·¦å­æ ‘ï¼Œé‡Šæ”¾targetPtr</span></span><br><span class="line">        root = root-&gt;left;</span><br><span class="line">        <span class="keyword">if</span> (root != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            root-&gt;parent = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        targetPtr-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">delete</span> targetPtr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (targetPtr-&gt;left == targetPtr-&gt;right) &#123;</span><br><span class="line">        <span class="comment">// äºŒã€åˆ é™¤çš„å¶èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// targetPtr-&gt;left == targetPtr-&gt;right,åªèƒ½æ˜¯åŒæ—¶ä¸ºNULL</span></span><br><span class="line">        <span class="comment">// æ“ä½œï¼šåˆ‡æ–­parentä¸targetPtrçš„å…³è”ï¼Œè¿”å›rootï¼Œé‡Šæ”¾targetPtr</span></span><br><span class="line">        <span class="keyword">if</span> (targetPtr-&gt;parent-&gt;left == targetPtr) &#123;</span><br><span class="line">            targetPtr-&gt;parent-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            targetPtr-&gt;parent-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ‡æ–­targetPtr ä¸targetPtr-&gt;parentçš„å…³è”</span></span><br><span class="line">        targetPtr-&gt;parent = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">delete</span> targetPtr;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (targetPtr-&gt;right == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="comment">// ä¸‰ã€åˆ é™¤èŠ‚ç‚¹å³å­æ ‘ä¸ºç©º      éœ€è¦æ‰¾åˆ°è¿œç¥–çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">        TreeNode *pParent = targetPtr;</span><br><span class="line">        <span class="comment">// ç¥–çˆ¶èŠ‚ç‚¹Bï¼Œå¹¶ä¸”ä½¿å¾—èŠ‚ç‚¹targetPtråœ¨è¿œç¥–çˆ¶èŠ‚ç‚¹Bçš„å·¦å­æ ‘</span></span><br><span class="line">        <span class="keyword">while</span> (pParent-&gt;parent != <span class="literal">NULL</span> &amp;&amp; pParent-&gt;parent-&gt;right == pParent) &#123;</span><br><span class="line">            pParent = pParent-&gt;parent;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pParent-&gt;parent == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœtargetPträ¸å­˜åœ¨ä¸€ä¸ªè¿œç¥–çˆ¶èŠ‚ç‚¹Bï¼Œä½¿å¾—leftPtråœ¨è¿œç¥–çˆ¶Bçš„å·¦å­æ ‘</span></span><br><span class="line">            <span class="comment">// æ“ä½œï¼šåªèƒ½åˆ é™¤è¿™ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”æŠŠå·¦å­æ ‘æ”¾åˆ°å½“å‰èŠ‚ç‚¹çš„ä½ç½®</span></span><br><span class="line">            targetPtr-&gt;parent-&gt;right = targetPtr-&gt;left;</span><br><span class="line">            targetPtr-&gt;left-&gt;parent = targetPtr-&gt;parent;</span><br><span class="line">            <span class="comment">// åˆ‡æ–­targetPträ¸parentã€leftçš„å…³ç³»</span></span><br><span class="line">            targetPtr-&gt;parent = <span class="literal">NULL</span>;</span><br><span class="line">            targetPtr-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="keyword">delete</span> targetPtr;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦åˆ™pParent-&gt;parent-&gt;valueæ›¿æ¢targetPtr-&gt;valueï¼Œå†åˆ é™¤pParent-&gt;parentï¼ˆé€’å½’ï¼‰</span></span><br><span class="line">            targetPtr-&gt;value = pParent-&gt;parent-&gt;value;</span><br><span class="line">            root = deleteNode(root, pParent-&gt;parent);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// å››ã€åˆ é™¤èŠ‚ç‚¹å­˜åœ¨å³å­æ ‘ï¼Œç›´æ¥åœ¨å³å­æ ‘å¯»æ‰¾ä¸­åºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        TreeNode * leftPtr = targetPtr-&gt;right;</span><br><span class="line">        <span class="comment">// ä¸€ç›´å¾€leftå¯»æ‰¾</span></span><br><span class="line">        <span class="keyword">while</span> (leftPtr-&gt;left != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            leftPtr = leftPtr-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†leftPtr-&gt;valueæ›¿æ¢åˆ°targetPtr-&gt;value</span></span><br><span class="line">        targetPtr-&gt;value = leftPtr-&gt;value;</span><br><span class="line">        <span class="comment">// targetPtr-&gt;rightå°±æ˜¯leftPtr</span></span><br><span class="line">        <span class="keyword">if</span> (targetPtr-&gt;right == leftPtr) &#123;</span><br><span class="line">            <span class="comment">// å°†targetPtr-&gt;rightæŒ‡å‘leftPtrå³å­æ ‘</span></span><br><span class="line">            targetPtr-&gt;right = leftPtr-&gt;right;</span><br><span class="line">            <span class="comment">// å¦‚æœtargetPtr-&gt;right ï¼= NULLï¼Œè¿˜éœ€è¦è®¾ç½®parent</span></span><br><span class="line">            <span class="keyword">if</span> (leftPtr-&gt;right != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                leftPtr-&gt;right-&gt;parent = targetPtr;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦åˆ™leftPtr-&gt;parentä¸leftPtråˆ‡æ–­å…³ç³»</span></span><br><span class="line">            leftPtr-&gt;parent-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†leftPträºå…¶parentåˆ‡æ–­å…³ç³»å¹¶é‡Šæ”¾</span></span><br><span class="line">        leftPtr-&gt;parent = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">delete</span> leftPtr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">TreeNode *<span class="title">deleteNodeByValue</span><span class="params">(TreeNode *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é¦–å…ˆæŸ¥æ‰¾valueæ‰€åœ¨çš„ä½ç½®</span></span><br><span class="line">    TreeNode *targetPtr = searchNode(root, value);</span><br><span class="line">    <span class="keyword">if</span> (targetPtr == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="comment">// valueéƒ½æ²¡æ‰¾åˆ°è¿˜åˆ é™¤å•¥...</span></span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> deleteNode(root, targetPtr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸‰ã€æ€è€ƒä¸æ€»ç»“"><a href="#ä¸‰ã€æ€è€ƒä¸æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€è€ƒä¸æ€»ç»“"></a>ä¸‰ã€æ€è€ƒä¸æ€»ç»“</h3><p>â€ƒâ€ƒå¯ä»¥çœ‹å‡ºäºŒå‰æœç´¢æ ‘çš„æŸ¥æ‰¾ã€æ’å…¥è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œåˆ é™¤ç¨å¾®å¤æ‚ä¸€ç‚¹ã€‚ä¸è¿‡äºŒå‰æœç´¢æ ‘å¯èƒ½å­˜åœ¨é€€åŒ–æˆé“¾è¡¨çš„ç¼ºé™·ï¼Œæ¯”å¦‚ç»™ä½ ä¸€ä¸ªæœ¬æ¥é€’å¢æœ‰åºçš„åºåˆ—è®©ä½ æ’å…¥åˆ°ä¸€é¢—ç©ºäºŒå‰æœç´¢æ ‘ä¸­ï¼Œè¿™æ—¶å°±é€€åŒ–æˆé“¾è¡¨äº†ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200418111144946.jpg" alt="20200418111144946"><br>â€ƒâ€ƒå› æ­¤æˆ‘ä»¬éœ€è¦å°†äºŒå‰æœç´¢æ ‘å¢åŠ å¹³è¡¡çš„ç‰¹æ€§ï¼Œå³AVLæ ‘æˆ–çº¢é»‘æ ‘ã€‚<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://hestyle.blog.csdn.net/article/details/105595528" target="_blank" rel="noopener">https://hestyle.blog.csdn.net/article/details/105595528</a></p>]]></content>
    
    <summary type="html">
    
      æ•°æ®ç»“æ„ä¹‹äºŒå‰æœç´¢æ ‘
    
    </summary>
    
    
    
      <category term="æ•°æ®ç»“æ„" scheme="https://18wanttobesinger.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
      <category term="æ ‘" scheme="https://18wanttobesinger.github.io/tags/%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€AVLæ ‘ã€çº¢é»‘æ ‘ã€Trieæ ‘ã€Bæ ‘ã€B+æ ‘ã€B*æ ‘æµ…æ</title>
    <link href="https://18wanttobesinger.github.io/2020/06/23/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E4%BA%8C%E5%8F%89%E6%A0%91%E3%80%81AVL%E6%A0%91%E3%80%81%E7%BA%A2%E9%BB%91%E6%A0%91%E3%80%81Trie%E6%A0%91%E3%80%81B%E6%A0%91%E3%80%81B-%E6%A0%91%E3%80%81B-%E6%A0%91%E6%B5%85%E6%9E%90/"/>
    <id>https://18wanttobesinger.github.io/2020/06/23/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E4%BA%8C%E5%8F%89%E6%A0%91%E3%80%81AVL%E6%A0%91%E3%80%81%E7%BA%A2%E9%BB%91%E6%A0%91%E3%80%81Trie%E6%A0%91%E3%80%81B%E6%A0%91%E3%80%81B-%E6%A0%91%E3%80%81B-%E6%A0%91%E6%B5%85%E6%9E%90/</id>
    <published>2020-06-23T10:31:53.000Z</published>
    <updated>2020-06-24T06:24:27.444Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤å¤©è¿Ÿæš®çš„éœå…‰ï¼Œæ­£å¦‚çš†æ˜¯ç¬‘æ„çš„ä½ ã€‚</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€AVLæ ‘ã€çº¢é»‘æ ‘ã€Trieæ ‘ã€Bæ ‘ã€B-æ ‘ã€B-æ ‘æµ…æ"><a href="#æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€AVLæ ‘ã€çº¢é»‘æ ‘ã€Trieæ ‘ã€Bæ ‘ã€B-æ ‘ã€B-æ ‘æµ…æ" class="headerlink" title="æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€AVLæ ‘ã€çº¢é»‘æ ‘ã€Trieæ ‘ã€Bæ ‘ã€B+æ ‘ã€B*æ ‘æµ…æ"></a>æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€AVLæ ‘ã€çº¢é»‘æ ‘ã€Trieæ ‘ã€Bæ ‘ã€B+æ ‘ã€B*æ ‘æµ…æ</h2><p>æ ‘ï¼Œä½œä¸ºäº”å¤§ç»å…¸æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œæœ‰è®¸å¤šè¿ç”¨åœºæ™¯ï¼Œæ¯”å¦‚MySQLæ•°æ®åº“çš„B+æ ‘ï¼ˆæ•°æ®ç»“æ„çš„é‡è¦æ€§ä¸ç”¨å¼ºè°ƒäº†å§ï¼‰ã€‚ä¸‹é¢å°†å¯¹äºŒå‰æ ‘ã€çº¢é»‘æ ‘ã€Bæ ‘ã€B+æ ‘ç­‰æ ‘ç»“æ„è¿›è¡Œä¸€äº›æ¦‚å¿µåŒºåˆ†ä¸æ€»ç»“ï¼Œæ­¤ç¯‡åšå®¢é€‚åˆæ–°æ‰‹ã€æœ‰ä¸€å®šæ•°æ®ç»“æ„åŸºç¡€çš„å°ä¼™ä¼´ã€‚</p><h3 id="ä¸€ã€æ ‘çš„åˆ’åˆ†"><a href="#ä¸€ã€æ ‘çš„åˆ’åˆ†" class="headerlink" title="ä¸€ã€æ ‘çš„åˆ’åˆ†"></a>ä¸€ã€æ ‘çš„åˆ’åˆ†</h3><p>â€ƒâ€ƒæ ¹æ®å­èŠ‚ç‚¹çš„ä¸ªæ•°å¯ä»¥åˆ’åˆ†æˆNå‰æ ‘ï¼ˆä¸€èˆ¬N â‰¥ 2ï¼‰ï¼ŒNå‰æ ‘æ‹¥æœ‰çš„ç‰¹å¾æ˜¯æ¯ä¸ªèŠ‚ç‚¹è‡³å¤šæœ‰Nä¸ªå­èŠ‚ç‚¹ã€‚</p><p>æ¯”å¦‚ï¼ŒN = 2æ—¶ï¼Œç§°ä¸ºäºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡³å¤šåªæœ‰2ä¸ªèŠ‚ç‚¹ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407082832601.jpg" alt="20200407082832601"><br>æ¯”å¦‚ï¼ŒN = 3æ—¶ï¼Œç§°ä¸ºä¸‰å‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡³å¤šåªæœ‰3ä¸ªèŠ‚ç‚¹ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407083131618.jpg" alt="20200407083131618"><br><span style="color: red;">æ³¨æ„ï¼š</span>ç‰¹åˆ«çš„å½“N = 1æ—¶ï¼Œæ­¤æ—¶æ˜¯â€ä¸€å‰æ ‘â€ï¼ˆä¸€èˆ¬æ²¡æœ‰è¿™ä¸ªæ¦‚å¿µï¼Œè¿™åªæ˜¯æˆ‘ä¸ªäººè¿™ä¹ˆå«ï¼‰ï¼Œå…¶å®â€ä¸€å‰æ ‘â€å°±æ˜¯é“¾è¡¨ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407083801385.jpg" alt="20200407083801385"><br>è¿˜æœ‰ä¸€ç‚¹ï¼Œæ ‘çš„å®šä¹‰å¹¶ä¸æ˜¯å¾ˆä¸¥è°¨ï¼Œå› ä¸ºå®ƒå¼ºè°ƒçš„æ˜¯æ¯ä¸ªèŠ‚ç‚¹è‡³å¤šæœ‰Nä¸ªå­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆï¼Œå¦‚æœæŸNå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½è‡³å¤šåªæœ‰N - 1ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆå®ƒä¹Ÿå¯ä»¥ç§°ä¸ºN - 1å‰æ ‘ï¼Œåè¿‡æ¥ï¼Œå®ƒä¹Ÿå¯ä»¥ç§°ä¸ºKå‰æ ‘ï¼ˆK â‰¥ Nï¼‰ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407084732264.jpg" alt="20200407084732264"></p><h3 id="äºŒã€äºŒå‰æ ‘ï¼ˆé‡ç‚¹ï¼‰"><a href="#äºŒã€äºŒå‰æ ‘ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="äºŒã€äºŒå‰æ ‘ï¼ˆé‡ç‚¹ï¼‰"></a>äºŒã€äºŒå‰æ ‘ï¼ˆé‡ç‚¹ï¼‰</h3><p>â€ƒâ€ƒç”±ä¸Šé¢çš„æ¦‚å¿µå¯çŸ¥ï¼Œå½“N = 2æ—¶ï¼Œç§°ä¸ºäºŒå‰æ ‘ã€‚åœ¨äºŒå‰æ ‘è¿˜æœ‰å·¦å­æ ‘ã€å³å­æ ‘ã€å·¦å­©å­ã€å³å­©å­çš„æ¦‚å¿µã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407085832323.jpg" alt="20200407085832323"></p><h4 id="1ã€äºŒå‰æ ‘çš„éå†æ–¹å¼"><a href="#1ã€äºŒå‰æ ‘çš„éå†æ–¹å¼" class="headerlink" title="1ã€äºŒå‰æ ‘çš„éå†æ–¹å¼"></a>1ã€äºŒå‰æ ‘çš„éå†æ–¹å¼</h4><p>â€ƒâ€ƒç”±äºŒå‰æ ‘çš„ç»“æ„å¯çŸ¥ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç”±å·¦å­èŠ‚ç‚¹ã€å³å­èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹æ„æˆï¼ˆæœ‰äº›èŠ‚ç‚¹çš„å·¦æˆ–å³å­èŠ‚ç‚¹ä¸ºç©ºï¼Œä½†ä¸èƒ½è¯´å®ƒæ²¡æœ‰å·¦æˆ–å³å­èŠ‚ç‚¹ï¼‰ã€‚æ ¹æ®èŠ‚ç‚¹çš„è®¿é—®é¡ºåºå¯æ’åˆ—å‡º å·¦çˆ¶å³ã€å·¦å³çˆ¶ã€çˆ¶å·¦å³ã€å³çˆ¶å·¦ã€å³å·¦çˆ¶ã€çˆ¶å³å·¦6ç§æƒ…å†µï¼Œä½†æ˜¯ä¸€èˆ¬è¦æ±‚å·¦å­èŠ‚ç‚¹æ¯”å³å­èŠ‚ç‚¹å…ˆè®¿é—®ï¼Œå› æ­¤å‰©ä¸‹ å·¦çˆ¶å³ã€å·¦å³çˆ¶ã€çˆ¶å·¦å³ä¸‰ç§æƒ…å†µã€‚</p><h5 id="â‘ ã€ä¸­åºéå†ï¼ˆå·¦çˆ¶å³ï¼‰"><a href="#â‘ ã€ä¸­åºéå†ï¼ˆå·¦çˆ¶å³ï¼‰" class="headerlink" title="â‘ ã€ä¸­åºéå†ï¼ˆå·¦çˆ¶å³ï¼‰"></a>â‘ ã€ä¸­åºéå†ï¼ˆå·¦çˆ¶å³ï¼‰</h5><p>â€ƒâ€ƒå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå…ˆè®¿é—®å®ƒçš„å·¦å­æ ‘ï¼Œå†è®¿é—®æœ¬èŠ‚ç‚¹ï¼Œæœ€åè®¿é—®å®ƒçš„å³å­æ ‘ï¼Œå¯¹äºå·¦å­æ ‘ã€å³å­æ ‘ä¹Ÿç¬¦åˆè¿™ä¸ªè§„å®šï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407091405102.jpg" alt="20200407091405102"></p><h5 id="â‘¡ã€ååºéå†ï¼ˆå·¦å³çˆ¶ï¼‰"><a href="#â‘¡ã€ååºéå†ï¼ˆå·¦å³çˆ¶ï¼‰" class="headerlink" title="â‘¡ã€ååºéå†ï¼ˆå·¦å³çˆ¶ï¼‰"></a>â‘¡ã€ååºéå†ï¼ˆå·¦å³çˆ¶ï¼‰</h5><p>â€ƒâ€ƒå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå…ˆè®¿é—®å®ƒçš„å·¦å­æ ‘ï¼Œå†è®¿é—®å®ƒçš„å³å­æ ‘ï¼Œæœ€åè®¿é—®æœ¬èŠ‚ç‚¹ï¼Œå¯¹äºå·¦å­æ ‘ã€å³å­æ ‘ä¹Ÿç¬¦åˆè¿™ä¸ªè§„å®šï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407093217486.jpg" alt="20200407093217486"></p><h5 id="â‘¢ã€å‰åºéå†ï¼ˆçˆ¶å·¦å³ï¼‰"><a href="#â‘¢ã€å‰åºéå†ï¼ˆçˆ¶å·¦å³ï¼‰" class="headerlink" title="â‘¢ã€å‰åºéå†ï¼ˆçˆ¶å·¦å³ï¼‰"></a>â‘¢ã€å‰åºéå†ï¼ˆçˆ¶å·¦å³ï¼‰</h5><p>â€ƒâ€ƒå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå…ˆè®¿é—®æœ¬èŠ‚ç‚¹ï¼Œå†è®¿é—®å®ƒçš„å·¦å­æ ‘ï¼Œæœ€åè®¿é—®å®ƒçš„å³å­æ ‘ï¼Œå¯¹äºå·¦å­æ ‘ã€å³å­æ ‘ä¹Ÿç¬¦åˆè¿™ä¸ªè§„å®šï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/2020040709330051.jpg" alt="2020040709330051"><br><span style="color: red;">æ³¨ï¼š</span>å…¶å®è¿˜æœ‰ä¸€ç§éå†æ–¹å¼ï¼Œå±‚æ¬¡éå†ï¼Œå³æŒ‰å±‚è®¿é—®äºŒå‰æ ‘ã€‚</p><h4 id="2ã€äºŒå‰æ ‘çš„ç‰¹ä¾‹"><a href="#2ã€äºŒå‰æ ‘çš„ç‰¹ä¾‹" class="headerlink" title="2ã€äºŒå‰æ ‘çš„ç‰¹ä¾‹"></a>2ã€äºŒå‰æ ‘çš„ç‰¹ä¾‹</h4><h5 id="â‘ ã€äºŒå‰æœç´¢æ ‘"><a href="#â‘ ã€äºŒå‰æœç´¢æ ‘" class="headerlink" title="â‘ ã€äºŒå‰æœç´¢æ ‘"></a>â‘ ã€äºŒå‰æœç´¢æ ‘</h5><p>â€ƒâ€ƒäºŒå‰æœç´¢æ ‘çš„å®šä¹‰æ˜¯å¯¹äºæŸäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹bï¼Œå®ƒçš„å·¦å­æ ‘Açš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½å°äºèŠ‚ç‚¹bçš„å€¼ï¼Œå®ƒçš„å³å­æ ‘Bçš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½å¤§äºèŠ‚ç‚¹bçš„å€¼ï¼Œå¹¶ä¸”å·¦å­æ ‘Aã€å³å­æ ‘BåŒæ ·ç¬¦åˆè¿™ä¸ªå®šä¹‰ï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407152634442.jpg" alt="20200407152634442"></p><p>å¯¹äºå€¼ä¸º10çš„èŠ‚ç‚¹ï¼Œå·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ &lt; 10ï¼Œå³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ &gt; 10ï¼Œå¹¶ä¸”å·¦å­æ ‘ã€å³å­æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹åŒæ · å·¦ &lt; çˆ¶ &lt; å³ çš„å®šä¹‰ã€‚</p><p><span style="color: red;">è¡¨ç°ç‰¹å¾ï¼š</span>äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ç®€åŒ–ä¸€ä¸‹å°±æ˜¯å·¦ &lt; çˆ¶ &lt; å³è§„åˆ™ï¼Œè¿˜è®°å…ˆå‰ä»‹ç»çš„ä¸­åºéå†ä¹ˆï¼Œæ˜¯ä¸æ˜¯å‘ç°äº†ä»€ä¹ˆï¼Œä¸­åºéå†é¡ºåºä¸ä¹Ÿæ˜¯å¦‚æ­¤ä¹ˆã€‚å…¶å®äºŒå‰æœç´¢æ ‘çš„å˜ç°ç‰¹å¾å°±æ˜¯ä¸­åºéå†å¾—åˆ°çš„åºåˆ—é€’å¢ã€‚ï¼ˆå¯èƒ½ä¼šæœ‰å°ä¼™ä¼´é—®ï¼Œä¸ºä»€ä¹ˆè¦å¼•å…¥è¿™ä¸ªç‰¹æ€§å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æŸ¥æ‰¾æ–¹ä¾¿ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ä½ åœ¨äºŒå‰æ ‘ä¸­æŸ¥target = 7è¿™ä¸ªå€¼æ˜¯å¦å­˜åœ¨ï¼Œä»æ ¹èŠ‚ç‚¹å…¥æ‰‹ï¼Œå¦‚æœtarget = rootï¼ŒæŸ¥æ‰¾æˆåŠŸï¼Œåœæ­¢æŸ¥æ‰¾ï¼›è‹¥target &lt; rootï¼Œè½¬åˆ°å·¦å­æ ‘ï¼Œå¦åˆ™target &gt; rootï¼Œè½¬åˆ°å³å­æ ‘ã€‚ï¼‰</p><h5 id="â‘¡ã€å¹³è¡¡äºŒå‰æ ‘"><a href="#â‘¡ã€å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="â‘¡ã€å¹³è¡¡äºŒå‰æ ‘"></a>â‘¡ã€å¹³è¡¡äºŒå‰æ ‘</h5><p>â€ƒâ€ƒå¹³è¡¡äºŒå‰æ ‘å®šä¹‰æ˜¯æŸäºŒå‰æ ‘çš„å·¦ã€å³ä¸¤ä¸ªå­æ ‘çš„ é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼Œå¹¶ä¸”å·¦ã€å³ä¸¤ä¸ªå­æ ‘ä¹Ÿéƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/2020040715495833.jpg" alt="2020040715495833"></p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºå•¥åˆè¦å¼•å…¥å¹³è¡¡è¿™ä¸ªæ¦‚å¿µå‘¢ï¼Ÿ<br>å¯ä»¥çœ‹å‡ºå¹³è¡¡ä¸»è¦æ˜¯é™åˆ¶æ ‘çš„æ•´ä½“é«˜åº¦ï¼Œå°†å·¦ã€å³å­æ ‘çš„é«˜åº¦å·®ç¼©å‡åˆ°1ä¹‹å†…ã€‚</p><h5 id="â‘¢ã€å¹³è¡¡äºŒå‰æœç´¢æ ‘-AVLæ ‘ã€çº¢é»‘æ ‘"><a href="#â‘¢ã€å¹³è¡¡äºŒå‰æœç´¢æ ‘-AVLæ ‘ã€çº¢é»‘æ ‘" class="headerlink" title="â‘¢ã€å¹³è¡¡äºŒå‰æœç´¢æ ‘(AVLæ ‘ã€çº¢é»‘æ ‘)"></a>â‘¢ã€å¹³è¡¡äºŒå‰æœç´¢æ ‘(AVLæ ‘ã€çº¢é»‘æ ‘)</h5><p>â€ƒâ€ƒå¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯äºŒå‰æ ‘åŒæ—¶æ»¡è¶³å¹³è¡¡äºŒå‰æ ‘ä»¥åŠäºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼Œå³äºŒå‰æ ‘ä¸ä½†ä¸­åºéå†ä¸ºé€’å¢åºåˆ—ï¼Œå¹¶ä¸”æ ‘è¿˜å¹³è¡¡ã€‚</p><p>é—®é¢˜åˆæ¥äº†ï¼Œå¼•å…¥å¹³è¡¡äºŒå‰æœç´¢æ ‘åˆæ˜¯ä¸ºå•¥ç›®çš„æï¼Ÿçœ‹å®Œä¸‹å›¾ä½ å°±æ˜ç™½äº†ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407191645970.jpg" alt="20200407191645970"></p><p>ä¸Šå›¾å·¦è¾¹çš„æ ‘æ˜¯å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œå³è¾¹æ˜¯ä¸€é¢—éå¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚å¦‚æœç»™ä½ è¿™ä¸¤é¢—æ ‘ï¼Œè®©ä½ æœç´¢target = 15ï¼Œä½ ä¼šé€‰æ‹©é‚£ä¸€é¢—ï¼Ÿä½ è‚¯å®šä¼šé€‰æ‹©å·¦è¾¹çš„å§ï¼Œå› ä¸ºå®ƒçœ‹èµ·æ¥æ›´çŸ®ä¸€äº›ï¼Œæ ¹æ®ä¸Šé¢ä»‹ç»çš„äºŒå‰æœç´¢æ ‘çš„æŸ¥æ‰¾è§„åˆ™ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½å¤§æ¦‚èƒ½æ’é™¤æ‰å‰©ä½™èŠ‚ç‚¹ä¸­çš„ä¸€åŠï¼ˆæœ€ä¼˜çš„æƒ…å†µä¸‹ï¼Œæœç´¢å¤æ‚åº¦ä¸ºlog2nï¼‰ã€‚</p><h4 id="AVLæ ‘"><a href="#AVLæ ‘" class="headerlink" title="AVLæ ‘"></a>AVLæ ‘</h4><p>å¾—åäºå®ƒçš„å‘æ˜è€…G. M. Adelson-Velskyå’ŒE. M. Landisï¼Œå…¶å®å®ƒå°±æ˜¯ä¸Šé¢ä»‹ç»çš„å¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚</p><h4 id="çº¢é»‘æ ‘"><a href="#çº¢é»‘æ ‘" class="headerlink" title="çº¢é»‘æ ‘"></a>çº¢é»‘æ ‘</h4><p>ç”±äºå¹³è¡¡äºŒå‰æœç´¢æ ‘çš„å®šä¹‰æ¯”è¾ƒè‹›åˆ»ï¼Œå®é™…è¿‡ç¨‹ä¸­ç”Ÿæˆå¹¶ç»´æŒä¸€é¢—å¹³è¡¡äºŒå‰æœç´¢æ ‘æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œè€Œçº¢é»‘æ ‘æ”¾å®½äº†å¹³è¡¡æ¡ä»¶çš„é™åˆ¶ï¼Œå¼•å…¥å¼±å¹³è¡¡çš„æ¦‚å¿µã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">çº¢é»‘æ ‘çš„å®šä¹‰ï¼š</span><br><span class="line">1.èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²ã€‚</span><br><span class="line">2.æ ¹æ˜¯é»‘è‰²ã€‚</span><br><span class="line">3.æ‰€æœ‰å¶å­éƒ½æ˜¯é»‘è‰²ï¼ˆå¶å­æ˜¯NILèŠ‚ç‚¹ï¼‰ã€‚</span><br><span class="line">4.æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹å¿…é¡»æœ‰ä¸¤ä¸ªé»‘è‰²çš„å­èŠ‚ç‚¹ã€‚ï¼ˆä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ã€‚ï¼‰</span><br><span class="line">5.ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰ç®€å•è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ï¼ˆç®€ç§°é»‘é«˜ï¼‰ã€‚</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200425164845697.jpg" alt="20200425164845697"></p><h3 id="ä¸‰ã€å¤šå‰æ ‘"><a href="#ä¸‰ã€å¤šå‰æ ‘" class="headerlink" title="ä¸‰ã€å¤šå‰æ ‘"></a>ä¸‰ã€å¤šå‰æ ‘</h3><p>â€ƒâ€ƒæ ¹æ®å…ˆå‰æ ‘çš„åˆ’åˆ†ï¼Œå¯¹äºå¤šå‰æ ‘ä¹Ÿæœ‰çˆ¶èŠ‚ç‚¹ã€å­èŠ‚ç‚¹ã€å…„å¼ŸèŠ‚ç‚¹çš„æ¦‚å¿µã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407164449689.jpg" alt="20200407164449689"></p><h4 id="1ã€Trieæ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰"><a href="#1ã€Trieæ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰" class="headerlink" title="1ã€Trieæ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰"></a>1ã€Trieæ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰</h4><p>â€ƒâ€ƒTrieæ ‘å…¶å®å°±æ˜¯å‰ç¼€æ ‘ï¼Œè¿ç”¨äºå¤§é‡å­—ç¬¦ä¸²çš„å­˜æ”¾ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407165308310.jpg" alt="20200407165308310"></p><p>å…¶å®Trieæ ‘çš„å…³é”®å°±æ˜¯æŠŠæ¯ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€è¿›è¡Œåˆå¹¶ï¼Œä¹Ÿç§°å‰ç¼€æ ‘ã€‚</p><p><span style="color: red;">æ³¨æ„ï¼š</span>åœ¨Trieæ ‘ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹å¯èƒ½æœ‰26ä¸ªï¼Œå› ä¸ºå¯¹äºæ¯ä¸ªå­—ç¬¦ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¯èƒ½æ˜¯a ~ zä¸­çš„ä»»æ„å­—æ¯ã€‚å¹¶ä¸”26ä¸ªå­èŠ‚ç‚¹éœ€è¦ä¿æŒæœ‰åºã€‚</p><h4 id="2ã€Bæ ‘"><a href="#2ã€Bæ ‘" class="headerlink" title="2ã€Bæ ‘"></a>2ã€Bæ ‘</h4><p>â€ƒâ€ƒBæ ‘æ˜¯å¤šè·¯æœç´¢æ ‘ï¼Œå¯¹äºæ ‘ä¸­çš„éå¶å­èŠ‚ç‚¹ï¼Œå¦‚æœæ”¾äº†mä¸ªå…³é”®å­—ï¼Œå°±åŒæ—¶éœ€è¦æ”¾m+1ä¸ªæŒ‡å‘å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œæ ¹èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°ä¸º[2, N]ï¼Œå…¶ä»–èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°ä¸º[N/2,N]ã€‚å¹¶ä¸”æ‰€æœ‰å…³é”®å­—åœ¨æ•´é¢—æ ‘ä¸­åªå‡ºç°ä¸€æ¬¡ï¼Œéå¶å­ç»“ç‚¹å¯ä»¥å‘½ä¸­æ‰€æœ‰å¶å­ç»“ç‚¹ä½äºåŒä¸€å±‚ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407170643924.jpg" alt="20200407170643924"></p><h4 id="3ã€B-æ ‘"><a href="#3ã€B-æ ‘" class="headerlink" title="3ã€B+æ ‘"></a>3ã€B+æ ‘</h4><p>â€ƒâ€ƒB+æ ‘æ˜¯åœ¨Bæ ‘ä¸Šè¿›è¡Œæ”¹é€ å‡çº§ï¼ŒæŠŠå¶å­èŠ‚ç‚¹å±‚ä¸²æˆä¸€ä¸ªé“¾è¡¨ï¼Œå¹¶ä¸”çˆ¶èŠ‚ç‚¹ä¿®æ”¹ä¸ºæ¯ä¸ªå­èŠ‚ç‚¹å…³é”®å­—åºåˆ—çš„æœ€å¤§å€¼ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407191943282.jpg" alt="20200407191943282"></p><p>MySQLæ•°æ®åº“çš„è¡¨ç»“æ„åº•å±‚æ•°æ®å­˜å‚¨ç”¨çš„å°±æ˜¯B+æ ‘ã€‚</p><h4 id="4ã€B-æ ‘"><a href="#4ã€B-æ ‘" class="headerlink" title="4ã€B*æ ‘"></a>4ã€B*æ ‘</h4><p>â€ƒâ€ƒB*æ ‘æ˜¯åœ¨B+æ ‘çš„åŸºç¡€ä¸Šå†æ¬¡è¿›è¡Œå‡çº§ï¼ŒæŠŠéå¶å­èŠ‚ç‚¹å±‚ä¹Ÿç”¨ä¸²æˆé“¾è¡¨ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407192112176.jpg" alt="20200407192112176"></p><p>ä¸ªäººæ€»ç»“ï¼šAVLæ ‘ã€çº¢é»‘æ ‘éƒ½æ˜¯äºŒå‰æ ‘ï¼Œå¹¶ä¸”æ˜¯å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ŒTrieæ ‘ã€Bæ ‘ã€B+æ ‘ã€B*æ ‘éƒ½æ˜¯å¤šå‰æ ‘ï¼Œå¹¶ä¸”æ˜¯å¤šå‰æœç´¢æ ‘ã€‚ä¸€èˆ¬ç¼–ç¨‹ç®—æ³•é¢˜ä¸­ï¼ŒäºŒå‰æ ‘ä½¿ç”¨çš„è¾ƒå¤šã€‚å¯¹äºå¤šå‰æ ‘ï¼Œé™¤éæ˜¯ä¸“ä¸šçš„æ•°æ®ç»“æ„è®¾è®¡äººå‘˜ï¼Œç”¨çš„æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œä½†æ˜¯è¿™å¹¶ä¸è¯´æ˜å¤šå‰æ ‘æ²¡æœ‰ç”¨æ­¦ä¹‹åœ°ï¼Œæ–‡ç« ä¸­å¤šæ¬¡æåŠMySQLæ•°æ®åº“ä¸­çš„è¡¨ä¸­çš„æ•°æ®å°±æ˜¯ç”¨B+æ ‘å­˜å‚¨ã€‚ï¼ˆæœ¬åšå®¢å¤šå‰æ ‘ç”¨çš„ç¯‡å¹…å¾ˆå°‘ï¼Œä½†æ˜¯Bæ ‘ã€B+æ ‘ç­‰å¤šå‰æ ‘çš„æ’å…¥ã€åˆ é™¤èŠ‚ç‚¹æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¯èƒ½ä¼šæ¶‰åŠåˆ°èŠ‚ç‚¹çš„æ‹†åˆ†ã€åˆå¹¶ï¼Œä½†æ˜¯åšä¸»èƒ½åŠ›æœ‰é™å•Šï¼‰</p><p>ä»¥ä¸Šå°±æ˜¯æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€çº¢é»‘æ ‘ã€Bæ ‘ã€B+æ ‘ã€Trieæ ‘æµ…æçš„ä¸»è¦å†…å®¹ã€‚</p>]]></content>
    
    <summary type="html">
    
      æ•°æ®ç»“æ„ä¹‹æ ‘
    
    </summary>
    
    
    
      <category term="æ•°æ®ç»“æ„" scheme="https://18wanttobesinger.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
      <category term="æ ‘" scheme="https://18wanttobesinger.github.io/tags/%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>åŸºæœ¬è®¡ç®—å™¨</title>
    <link href="https://18wanttobesinger.github.io/2020/06/21/%E5%9F%BA%E6%9C%AC%E8%AE%A1%E7%AE%97%E5%99%A8/"/>
    <id>https://18wanttobesinger.github.io/2020/06/21/%E5%9F%BA%E6%9C%AC%E8%AE%A1%E7%AE%97%E5%99%A8/</id>
    <published>2020-06-21T12:34:22.000Z</published>
    <updated>2020-06-22T00:00:20.181Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘çœŸçš„æ¥å—ä¸äº†æœ‰å¾ˆå¤šç”·é—ºèœœçš„å¥³å­©å­ã€‚</span><br><span class="line"></span><br><span class="line">                                                                    ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="åŸºæœ¬è®¡ç®—å™¨"><a href="#åŸºæœ¬è®¡ç®—å™¨" class="headerlink" title="åŸºæœ¬è®¡ç®—å™¨"></a>åŸºæœ¬è®¡ç®—å™¨</h2><p>æœ¬æ–‡è¦ä½¿ç”¨æ ˆç»“æ„æ¥å®ç°ä¸€ä¸ªå¯ä»¥ <code>+</code>ã€<code>-</code>ã€<code>*</code>ã€<code>/</code>ä»¥åŠåŒ…å«<code>()</code>çš„è¿ç®—ã€‚æ‰€ç»™çš„è¡¨è¾¾å¼éƒ½æ˜¯æœ‰æ•ˆçš„ï¼ˆæœ¬æ–‡ä»£ç å¹¶æœªå®ç°éªŒè¯è¡¨è¾¾å¼æ˜¯å¦åˆæ³•ï¼‰ï¼Œè¡¨è¾¾å¼ä¸­çš„æ•°éƒ½æ˜¯<strong>éè´Ÿæ•°</strong>ï¼Œå¯åŒ…å«<strong>ç©ºæ ¼</strong>ã€‚</p><h3 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1:"></a>ç¤ºä¾‹ 1:</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: "1 + 1"</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2:"></a>ç¤ºä¾‹ 2:</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: " 2-1 + 2 "</span><br><span class="line">è¾“å‡º: 3</span><br></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3:"></a>ç¤ºä¾‹ 3:</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: "(3+2)*2"</span><br><span class="line">è¾“å‡º: 10</span><br></pre></td></tr></table></figure><h3 id="ä»¥ä¸‹ä»£ç å¯è§£å†³LeetCodeé¢˜ç›®ï¼š"><a href="#ä»¥ä¸‹ä»£ç å¯è§£å†³LeetCodeé¢˜ç›®ï¼š" class="headerlink" title="ä»¥ä¸‹ä»£ç å¯è§£å†³LeetCodeé¢˜ç›®ï¼š"></a>ä»¥ä¸‹ä»£ç å¯è§£å†³LeetCodeé¢˜ç›®ï¼š</h3><ul><li><p><a href="https://leetcode-cn.com/problems/basic-calculator/" target="_blank" rel="noopener">224. åŸºæœ¬è®¡ç®—å™¨</a></p></li><li><p><a href="https://leetcode-cn.com/problems/basic-calculator-ii/" target="_blank" rel="noopener">227. åŸºæœ¬è®¡ç®—å™¨ II</a></p></li></ul><h3 id="æ•´ä½“ä»£ç æ€è·¯ï¼š"><a href="#æ•´ä½“ä»£ç æ€è·¯ï¼š" class="headerlink" title="æ•´ä½“ä»£ç æ€è·¯ï¼š"></a>æ•´ä½“ä»£ç æ€è·¯ï¼š</h3><p>ä»¥ï¼š<code>2 * (10 - 3) / 5</code>ä¸ºä¾‹: </p><p>1ã€å…ˆç»™ç¬¬ä¸€ä¸ªæ•°å­—åŠ ä¸€ä¸ªé»˜è®¤ç¬¦å·<code>+</code>ï¼Œå˜æˆ<code>+ 2 * (10 - 3) / 5</code>ã€‚ </p><p>2ã€æŠŠä¸€ä¸ªè¿ç®—ç¬¦å’Œæ•°å­—ç»„åˆæˆä¸€å¯¹å„¿ï¼Œä¹Ÿå°±æ˜¯ä¸‰å¯¹å„¿<code>+2</code>ï¼Œ<code>(10 - 3)</code>, <code>5</code>ï¼ŒæŠŠå®ƒä»¬è½¬åŒ–æˆæ•°å­—ï¼Œç„¶åæ”¾åˆ°ä¸€ä¸ªæ ˆä¸­ã€‚ </p><p>3ã€å½“é‡åˆ°<code>*</code>, <code>/</code>ç¬¦å·æ—¶, å–å‡ºæ ˆä¸­çš„æ•°å­—å’Œå½“å‰çš„æ•°å­—ï¼Œè®¡ç®—ç»“æœå†å­˜å…¥æ ˆä¸­ã€‚</p><p>4ã€å½“é‡åˆ°<code>(</code>ï¼Œå°†<code>(</code>åé¢çš„éƒ¨åˆ†è¿ç”¨é€’å½’è°ƒç”¨æœ¬å‡½æ•°ï¼Œé‡åˆ°<code>)</code>å°±è·³å‡ºå¾ªç¯ï¼Œå¹¶å°†<code>(...)</code>ä¸­çš„ç»“æœå­˜å…¥æ ˆä¸­ï¼Œè®¡ç®—ç»“æœè¿”å›ã€‚</p><p>5ã€ å°†æ ˆä¸­æ‰€æœ‰çš„æ•°å­—æ±‚å’Œï¼Œå°±æ˜¯åŸç®—å¼çš„ç»“æœã€‚ </p><h3 id="ç¤ºä¾‹ä»£ç ï¼š"><a href="#ç¤ºä¾‹ä»£ç ï¼š" class="headerlink" title="ç¤ºä¾‹ä»£ç ï¼š"></a>ç¤ºä¾‹ä»£ç ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> sign = <span class="string">'+'</span>;</span><br><span class="line">    <span class="keyword">int</span> length = s.length();</span><br><span class="line">    <span class="keyword">while</span> ( i &lt; length ) &#123;</span><br><span class="line">        <span class="keyword">char</span> ch = s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (Character.isDigit(ch)) &#123;</span><br><span class="line">            num = num * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'('</span>) &#123;</span><br><span class="line">            i ++;</span><br><span class="line">            num = calculate(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((!Character.isDigit(ch) &amp;&amp; ch != <span class="string">' '</span>) || i == length - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> pre;</span><br><span class="line">            <span class="keyword">switch</span> (sign) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'+'</span>:</span><br><span class="line">                    stack.add(num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line">                    stack.add(-num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">// åªè¦æ‹¿å‡ºå‰ä¸€ä¸ªæ•°å­—åšå¯¹åº”è¿ç®—å³å¯</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">'*'</span>:</span><br><span class="line">                    pre = stack.pop();</span><br><span class="line">                    stack.add(pre * num);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'/'</span>:</span><br><span class="line">                    pre = stack.pop();</span><br><span class="line">                    stack.add(pre / num);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sign = ch;</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">')'</span>) <span class="keyword">break</span>;</span><br><span class="line">        i ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> n: stack) &#123;</span><br><span class="line">        res += n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠ æ²¹ï¼ï¼ï¼ğŸ§"><a href="#åŠ æ²¹ï¼ï¼ï¼ğŸ§" class="headerlink" title="åŠ æ²¹ï¼ï¼ï¼ğŸ§"></a>åŠ æ²¹ï¼ï¼ï¼ğŸ§</h3>]]></content>
    
    <summary type="html">
    
      ä½¿ç”¨Javaè¯­è¨€è®¾è®¡ä¸€ä¸ªè®¡ç®—å™¨ç®—æ³•
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="https://18wanttobesinger.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="æ ˆ" scheme="https://18wanttobesinger.github.io/tags/%E6%A0%88/"/>
    
  </entry>
  
  <entry>
    <title>å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²</title>
    <link href="https://18wanttobesinger.github.io/2020/06/21/%E5%80%92%E6%95%B0%E7%AC%ACN%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <id>https://18wanttobesinger.github.io/2020/06/21/%E5%80%92%E6%95%B0%E7%AC%ACN%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2/</id>
    <published>2020-06-21T03:34:10.000Z</published>
    <updated>2020-06-22T00:02:19.846Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">"å§‘å¨˜æœ‰å¿ƒäº‹ï¼Ÿ"ä¹¦ç”ŸæŠ¿å˜´å“èŒ¶é—®åˆ°ã€‚ </span><br><span class="line">å°‘å¥³ï¼š"å…¬å­ä¸ç‹å…¬å­å¯æ˜¯ç†Ÿè¯†ï¼Ÿ" </span><br><span class="line">ä¹¦ç”Ÿï¼š"ä¸–äº¤ã€‚" </span><br><span class="line">å°‘å¥³ï¼š"é‚£ä¸‹æ¬¡ä½ ä¸ä»–ä¸€èµ·æ¥å§ã€‚" </span><br><span class="line">ä¹¦ç”Ÿï¼š"ä»–ä¸å–œå“èŒ¶ã€‚" </span><br><span class="line">å°‘å¥³ï¼š"æ²¡å…³ç³»ï¼Œé‚£ä»–å–œæ¬¢ä»€ä¹ˆï¼Œæˆ‘å¯ä»¥æ…¢æ…¢å­¦ã€‚" </span><br><span class="line">ä¹¦ç”Ÿï¼š"ä»–å–œæ¬¢æˆ‘ã€‚"</span><br><span class="line"></span><br><span class="line">                                                                    ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²"><a href="#å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²" class="headerlink" title="å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²"></a>å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²</h2><h3 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h3><p>ç»™å®šä¸€ä¸ªå®Œå…¨ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ç­‰å·®é€’å¢åºåˆ—ï¼Œè¯¥åºåˆ—ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦å›ºå®šä¸º Lï¼Œä» L ä¸ª a å¼€å§‹ï¼Œä»¥ 1 ä¸ºæ­¥é•¿é€’å¢ã€‚ä¾‹å¦‚å½“ L ä¸º 3 æ—¶ï¼Œåºåˆ—ä¸º { aaa, aab, aac, â€¦, aaz, aba, abb, â€¦, abz, â€¦, zzz }ã€‚è¿™ä¸ªåºåˆ—çš„å€’æ•°ç¬¬27ä¸ªå­—ç¬¦ä¸²å°±æ˜¯ zyzã€‚å¯¹äºä»»æ„ç»™å®šçš„ Lï¼Œæœ¬é¢˜è¦æ±‚ä½ ç»™å‡ºå¯¹åº”åºåˆ—å€’æ•°ç¬¬ N ä¸ªå­—ç¬¦ä¸²ã€‚</p><h3 id="è¾“å…¥æ ¼å¼ï¼š"><a href="#è¾“å…¥æ ¼å¼ï¼š" class="headerlink" title="è¾“å…¥æ ¼å¼ï¼š"></a>è¾“å…¥æ ¼å¼ï¼š</h3><p>è¾“å…¥åœ¨ä¸€è¡Œä¸­ç»™å‡ºä¸¤ä¸ªæ­£æ•´æ•° Lï¼ˆ2 â‰¤ L â‰¤ 6ï¼‰å’Œ Nï¼ˆâ‰¤105ï¼‰ã€‚</p><h3 id="è¾“å‡ºæ ¼å¼ï¼š"><a href="#è¾“å‡ºæ ¼å¼ï¼š" class="headerlink" title="è¾“å‡ºæ ¼å¼ï¼š"></a>è¾“å‡ºæ ¼å¼ï¼š</h3><p>åœ¨ä¸€è¡Œä¸­è¾“å‡ºå¯¹åº”åºåˆ—å€’æ•°ç¬¬ N ä¸ªå­—ç¬¦ä¸²ã€‚é¢˜ç›®ä¿è¯è¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å­˜åœ¨çš„ã€‚</p><h3 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 7417</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pat</span><br></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹ä»£ç ï¼š"><a href="#ç¤ºä¾‹ä»£ç ï¼š" class="headerlink" title="ç¤ºä¾‹ä»£ç ï¼š"></a>ç¤ºä¾‹ä»£ç ï¼š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> L, N;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;L, &amp;N);</span><br><span class="line">    <span class="keyword">int</span> n = <span class="built_in">pow</span>(<span class="number">26</span>, L) - N;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> num[L];</span><br><span class="line">    <span class="keyword">int</span> ind = L;</span><br><span class="line">    <span class="keyword">while</span> (L -- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        num[L] = n % <span class="number">26</span>;</span><br><span class="line">        n = n / <span class="number">26</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ind; i ++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c"</span>, num[i] + <span class="string">'a'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»§ç»­åŠ æ²¹å§ğŸ¤ª"><a href="#ç»§ç»­åŠ æ²¹å§ğŸ¤ª" class="headerlink" title="ç»§ç»­åŠ æ²¹å§ğŸ¤ª"></a>ç»§ç»­åŠ æ²¹å§ğŸ¤ª</h3>]]></content>
    
    <summary type="html">
    
      å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="https://18wanttobesinger.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²</title>
    <link href="https://18wanttobesinger.github.io/2020/06/21/hello-world/"/>
    <id>https://18wanttobesinger.github.io/2020/06/21/hello-world/</id>
    <published>2020-06-21T03:34:10.000Z</published>
    <updated>2020-06-21T04:32:48.364Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">"å§‘å¨˜æœ‰å¿ƒäº‹ï¼Ÿ"ä¹¦ç”ŸæŠ¿å˜´å“èŒ¶é—®åˆ°ã€‚ </span><br><span class="line">å°‘å¥³ï¼š"å…¬å­ä¸ç‹å…¬å­å¯æ˜¯ç†Ÿè¯†ï¼Ÿ" </span><br><span class="line">ä¹¦ç”Ÿï¼š"ä¸–äº¤ã€‚" </span><br><span class="line">å°‘å¥³ï¼š"é‚£ä¸‹æ¬¡ä½ ä¸ä»–ä¸€èµ·æ¥å§ã€‚" </span><br><span class="line">ä¹¦ç”Ÿï¼š"ä»–ä¸å–œå“èŒ¶ã€‚" </span><br><span class="line">å°‘å¥³ï¼š"æ²¡å…³ç³»ï¼Œé‚£ä»–å–œæ¬¢ä»€ä¹ˆï¼Œæˆ‘å¯ä»¥æ…¢æ…¢å­¦ã€‚" </span><br><span class="line">ä¹¦ç”Ÿï¼š"ä»–å–œæ¬¢æˆ‘ã€‚"</span><br><span class="line"></span><br><span class="line">                                                                    ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²"><a href="#å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²" class="headerlink" title="å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²"></a>å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²</h2><h3 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h3><p>ç»™å®šä¸€ä¸ªå®Œå…¨ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ç­‰å·®é€’å¢åºåˆ—ï¼Œè¯¥åºåˆ—ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦å›ºå®šä¸º Lï¼Œä» L ä¸ª a å¼€å§‹ï¼Œä»¥ 1 ä¸ºæ­¥é•¿é€’å¢ã€‚ä¾‹å¦‚å½“ L ä¸º 3 æ—¶ï¼Œåºåˆ—ä¸º { aaa, aab, aac, â€¦, aaz, aba, abb, â€¦, abz, â€¦, zzz }ã€‚è¿™ä¸ªåºåˆ—çš„å€’æ•°ç¬¬27ä¸ªå­—ç¬¦ä¸²å°±æ˜¯ zyzã€‚å¯¹äºä»»æ„ç»™å®šçš„ Lï¼Œæœ¬é¢˜è¦æ±‚ä½ ç»™å‡ºå¯¹åº”åºåˆ—å€’æ•°ç¬¬ N ä¸ªå­—ç¬¦ä¸²ã€‚</p><h3 id="è¾“å…¥æ ¼å¼ï¼š"><a href="#è¾“å…¥æ ¼å¼ï¼š" class="headerlink" title="è¾“å…¥æ ¼å¼ï¼š"></a>è¾“å…¥æ ¼å¼ï¼š</h3><p>è¾“å…¥åœ¨ä¸€è¡Œä¸­ç»™å‡ºä¸¤ä¸ªæ­£æ•´æ•° Lï¼ˆ2 â‰¤ L â‰¤ 6ï¼‰å’Œ Nï¼ˆâ‰¤105ï¼‰ã€‚</p><h3 id="è¾“å‡ºæ ¼å¼ï¼š"><a href="#è¾“å‡ºæ ¼å¼ï¼š" class="headerlink" title="è¾“å‡ºæ ¼å¼ï¼š"></a>è¾“å‡ºæ ¼å¼ï¼š</h3><p>åœ¨ä¸€è¡Œä¸­è¾“å‡ºå¯¹åº”åºåˆ—å€’æ•°ç¬¬ N ä¸ªå­—ç¬¦ä¸²ã€‚é¢˜ç›®ä¿è¯è¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å­˜åœ¨çš„ã€‚</p><h3 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 7417</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pat</span><br></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹ä»£ç ï¼š"><a href="#ç¤ºä¾‹ä»£ç ï¼š" class="headerlink" title="ç¤ºä¾‹ä»£ç ï¼š"></a>ç¤ºä¾‹ä»£ç ï¼š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> L, N;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;L, &amp;N);</span><br><span class="line">    <span class="keyword">int</span> n = <span class="built_in">pow</span>(<span class="number">26</span>, L) - N;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> num[L];</span><br><span class="line">    <span class="keyword">int</span> ind = L;</span><br><span class="line">    <span class="keyword">while</span> (L -- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        num[L] = n % <span class="number">26</span>;</span><br><span class="line">        n = n / <span class="number">26</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ind; i ++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c"</span>, num[i] + <span class="string">'a'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»§ç»­åŠ æ²¹å§ğŸ¤ª"><a href="#ç»§ç»­åŠ æ²¹å§ğŸ¤ª" class="headerlink" title="ç»§ç»­åŠ æ²¹å§ğŸ¤ª"></a>ç»§ç»­åŠ æ²¹å§ğŸ¤ª</h3>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&quot;å§‘å¨˜æœ‰å¿ƒäº‹ï¼Ÿ&quot;ä¹¦ç”ŸæŠ¿å˜´å“èŒ¶é—®åˆ°ã€‚ &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å°‘å¥³ï¼š&quot;å…¬å­ä¸ç‹å…¬å­å¯æ˜¯ç†Ÿè¯†ï¼Ÿ&quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ä¹¦ç”Ÿï¼š&quot;ä¸–äº¤ã€‚&quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å°‘å¥³ï¼š&quot;é‚£ä¸‹æ¬¡ä½ ä¸ä»–ä¸€èµ·æ¥å§ã€‚&quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ä¹¦ç”Ÿï¼š&quot;ä»–ä¸å–œå“èŒ¶ã€‚&quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å°‘å¥³ï¼š&quot;æ²¡å…³ç³»ï¼Œé‚£ä»–å–œæ¬¢ä»€ä¹ˆï¼Œæˆ‘å¯ä»¥æ…¢æ…¢å­¦ã€‚&quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ä¹¦ç”Ÿï¼š&quot;ä»–å–œæ¬¢æˆ‘ã€‚&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                    ----- ç½‘æ˜“äº‘çƒ­è¯„&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="https://18wanttobesinger.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>å¤©æ¢¯èµ›åº§ä½åˆ†é…</title>
    <link href="https://18wanttobesinger.github.io/2020/06/20/%E5%A4%A9%E6%A2%AF%E8%B5%9B%E5%BA%A7%E4%BD%8D%E5%88%86%E9%85%8D/"/>
    <id>https://18wanttobesinger.github.io/2020/06/20/%E5%A4%A9%E6%A2%AF%E8%B5%9B%E5%BA%A7%E4%BD%8D%E5%88%86%E9%85%8D/</id>
    <published>2020-06-20T09:22:38.000Z</published>
    <updated>2020-06-22T00:02:49.273Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å€’å•¤é…’æ—¶ä¸Šé¢æ€»æœ‰ä¸€å±‚æ³¡æ²«ï¼Œçœ‹ä¼¼åºå¤§ä½†æŠ¿ä¸€å£å…¨æ˜¯ç©ºæ°”ã€‚æ„Ÿæƒ…äº¦æ˜¯å¦‚æ­¤ã€‚</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>å¤©æ¢¯èµ›æ¯å¹´æœ‰å¤§é‡å‚èµ›é˜Ÿå‘˜ï¼Œè¦ä¿è¯åŒä¸€æ‰€å­¦æ ¡çš„æ‰€æœ‰é˜Ÿå‘˜éƒ½ä¸èƒ½ç›¸é‚»ï¼Œåˆ†é…åº§ä½å°±æˆä¸ºä¸€ä»¶æ¯”è¾ƒéº»çƒ¦çš„äº‹æƒ…ã€‚ä¸ºæ­¤æˆ‘ä»¬åˆ¶å®šå¦‚ä¸‹ç­–ç•¥ï¼šå‡è®¾æŸèµ›åœºæœ‰ N æ‰€å­¦æ ¡å‚èµ›ï¼Œç¬¬ i æ‰€å­¦æ ¡æœ‰ M[i] æ”¯é˜Ÿä¼ï¼Œæ¯é˜Ÿ 10 ä½å‚èµ›é€‰æ‰‹ã€‚ä»¤æ¯æ ¡é€‰æ‰‹æ’æˆä¸€åˆ—çºµé˜Ÿï¼Œç¬¬ i+1 é˜Ÿçš„é€‰æ‰‹æ’åœ¨ç¬¬ i é˜Ÿé€‰æ‰‹ä¹‹åã€‚ä»ç¬¬ 1 æ‰€å­¦æ ¡å¼€å§‹ï¼Œå„æ ¡çš„ç¬¬ 1 ä½é˜Ÿå‘˜é¡ºæ¬¡å…¥åº§ï¼Œç„¶åæ˜¯å„æ ¡çš„ç¬¬ 2 ä½é˜Ÿå‘˜â€¦â€¦ ä»¥æ­¤ç±»æ¨ã€‚å¦‚æœæœ€ååªå‰©ä¸‹ 1 æ‰€å­¦æ ¡çš„é˜Ÿä¼è¿˜æ²¡æœ‰åˆ†é…åº§ä½ï¼Œåˆ™éœ€è¦å®‰æ’ä»–ä»¬çš„é˜Ÿå‘˜éš”ä½å°±åã€‚æœ¬é¢˜å°±è¦æ±‚ä½ ç¼–å†™ç¨‹åºï¼Œè‡ªåŠ¨ä¸ºå„æ ¡ç”Ÿæˆé˜Ÿå‘˜çš„åº§ä½å·ï¼Œä» 1 å¼€å§‹ç¼–å·ã€‚</p><h3 id="è¾“å…¥æ ¼å¼ï¼š"><a href="#è¾“å…¥æ ¼å¼ï¼š" class="headerlink" title="è¾“å…¥æ ¼å¼ï¼š"></a>è¾“å…¥æ ¼å¼ï¼š</h3><p>è¾“å…¥åœ¨ä¸€è¡Œä¸­ç»™å‡ºå‚èµ›çš„é«˜æ ¡æ•° N ï¼ˆä¸è¶…è¿‡100çš„æ­£æ•´æ•°ï¼‰ï¼›ç¬¬äºŒè¡Œç»™å‡º N ä¸ªä¸è¶…è¿‡10çš„æ­£æ•´æ•°ï¼Œå…¶ä¸­ç¬¬ i ä¸ªæ•°å¯¹åº”ç¬¬ i æ‰€é«˜æ ¡çš„å‚èµ›é˜Ÿä¼æ•°ï¼Œæ•°å­—é—´ä»¥ç©ºæ ¼åˆ†éš”ã€‚</p><h3 id="è¾“å‡ºæ ¼å¼ï¼š"><a href="#è¾“å‡ºæ ¼å¼ï¼š" class="headerlink" title="è¾“å‡ºæ ¼å¼ï¼š"></a>è¾“å‡ºæ ¼å¼ï¼š</h3><p>ä»ç¬¬ 1 æ‰€é«˜æ ¡çš„ç¬¬ 1 æ”¯é˜Ÿä¼å¼€å§‹ï¼Œé¡ºæ¬¡è¾“å‡ºé˜Ÿå‘˜çš„åº§ä½å·ã€‚æ¯é˜Ÿå ä¸€è¡Œï¼Œåº§ä½å·é—´ä»¥ 1 ä¸ªç©ºæ ¼åˆ†éš”ï¼Œè¡Œé¦–å°¾ä¸å¾—æœ‰å¤šä½™ç©ºæ ¼ã€‚å¦å¤–ï¼Œæ¯æ‰€é«˜æ ¡çš„ç¬¬ä¸€è¡ŒæŒ‰â€œ#Xâ€è¾“å‡ºè¯¥æ ¡çš„ç¼–å·Xï¼Œä» 1 å¼€å§‹ã€‚</p><h3 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">3 4 2</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#1</span><br><span class="line">1 4 7 10 13 16 19 22 25 28</span><br><span class="line">31 34 37 40 43 46 49 52 55 58</span><br><span class="line">61 63 65 67 69 71 73 75 77 79</span><br><span class="line">#2</span><br><span class="line">2 5 8 11 14 17 20 23 26 29</span><br><span class="line">32 35 38 41 44 47 50 53 56 59</span><br><span class="line">62 64 66 68 70 72 74 76 78 80</span><br><span class="line">82 84 86 88 90 92 94 96 98 100</span><br><span class="line">#3</span><br><span class="line">3 6 9 12 15 18 21 24 27 30</span><br><span class="line">33 36 39 42 45 48 51 54 57 60</span><br></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹ä»£ç ï¼š"><a href="#ç¤ºä¾‹ä»£ç ï¼š" class="headerlink" title="ç¤ºä¾‹ä»£ç ï¼š"></a>ç¤ºä¾‹ä»£ç ï¼š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">int</span> M[n];</span><br><span class="line">    <span class="keyword">int</span> A[<span class="number">105</span>][<span class="number">105</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> maxM = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;M[i]);</span><br><span class="line">        <span class="keyword">if</span> (M[i] &gt; maxM) maxM = M[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">1</span>, preM = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span> * maxM; i ++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; M[j] * <span class="number">10</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (preM == j) </span><br><span class="line">                    num ++;</span><br><span class="line">                A[j][i] = num ++;</span><br><span class="line">                preM = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"#%d\n"</span>, i + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span> * M[i]; j ++) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d%c"</span>, A[i][j], (j + <span class="number">1</span>) % <span class="number">10</span> == <span class="number">0</span> ? <span class="string">'\n'</span> : <span class="string">' '</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ä»Šå¤©é¢å¤–çš„ç´¯ğŸ˜­"><a href="#ä»Šå¤©é¢å¤–çš„ç´¯ğŸ˜­" class="headerlink" title="ä»Šå¤©é¢å¤–çš„ç´¯ğŸ˜­"></a>ä»Šå¤©é¢å¤–çš„ç´¯ğŸ˜­</h3>]]></content>
    
    <summary type="html">
    
      å¤©æ¢¯èµ›åº§ä½åˆ†é…
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="https://18wanttobesinger.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>æ•´é™¤å…‰æ£</title>
    <link href="https://18wanttobesinger.github.io/2020/06/20/%E6%95%B4%E9%99%A4%E5%85%89%E6%A3%8D/"/>
    <id>https://18wanttobesinger.github.io/2020/06/20/%E6%95%B4%E9%99%A4%E5%85%89%E6%A3%8D/</id>
    <published>2020-06-20T05:16:57.000Z</published>
    <updated>2020-06-22T00:03:10.690Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å±å¹•å‰çš„å¥³å­© æˆ‘ä¸è®¤è¯†ä½  ä½†æˆ‘ç¥ä½ åšå¼º ç¥ä½ å¯çˆ± ç¥ä½ å–„è‰¯ ä¸€ç”Ÿå‘å‰æ°¸ä¸å›å¤´ åŠ æ²¹å“Ÿï¼</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h2><p>è¿™é‡Œæ‰€è°“çš„â€œå…‰æ£â€ï¼Œå¹¶ä¸æ˜¯æŒ‡å•èº«æ±ªå•¦~ è¯´çš„æ˜¯å…¨éƒ¨ç”±1ç»„æˆçš„æ•°å­—ï¼Œæ¯”å¦‚1ã€11ã€111ã€1111ç­‰ã€‚ä¼ è¯´ä»»ä½•ä¸€ä¸ªå…‰æ£éƒ½èƒ½è¢«ä¸€ä¸ªä¸ä»¥5ç»“å°¾çš„å¥‡æ•°æ•´é™¤ã€‚æ¯”å¦‚ï¼Œ111111å°±å¯ä»¥è¢«13æ•´é™¤ã€‚ ç°åœ¨ï¼Œä½ çš„ç¨‹åºè¦è¯»å…¥ä¸€ä¸ªæ•´æ•°<code>x</code>ï¼Œè¿™ä¸ªæ•´æ•°ä¸€å®šæ˜¯å¥‡æ•°å¹¶ä¸”ä¸ä»¥5ç»“å°¾ã€‚ç„¶åï¼Œç»è¿‡è®¡ç®—ï¼Œè¾“å‡ºä¸¤ä¸ªæ•°å­—ï¼šç¬¬ä¸€ä¸ªæ•°å­—<code>s</code>ï¼Œè¡¨ç¤º<code>x</code>ä¹˜ä»¥<code>s</code>æ˜¯ä¸€ä¸ªå…‰æ£ï¼Œç¬¬äºŒä¸ªæ•°å­—<code>n</code>æ˜¯è¿™ä¸ªå…‰æ£çš„ä½æ•°ã€‚è¿™æ ·çš„è§£å½“ç„¶ä¸æ˜¯å”¯ä¸€çš„,é¢˜ç›®è¦æ±‚ä½ è¾“å‡ºæœ€å°çš„è§£ã€‚</p><p>æç¤ºï¼šä¸€ä¸ªæ˜¾ç„¶çš„åŠæ³•æ˜¯é€æ¸å¢åŠ å…‰æ£çš„ä½æ•°ï¼Œç›´åˆ°å¯ä»¥æ•´é™¤<code>x</code>ä¸ºæ­¢ã€‚ä½†éš¾ç‚¹åœ¨äºï¼Œ<code>s</code>å¯èƒ½æ˜¯ä¸ªéå¸¸å¤§çš„æ•° â€”â€” æ¯”å¦‚ï¼Œç¨‹åºè¾“å…¥31ï¼Œé‚£ä¹ˆå°±è¾“å‡º3584229390681å’Œ15ï¼Œå› ä¸º31ä¹˜ä»¥3584229390681çš„ç»“æœæ˜¯111111111111111ï¼Œä¸€å…±15ä¸ª1ã€‚</p><h3 id="è¾“å…¥æ ¼å¼ï¼š"><a href="#è¾“å…¥æ ¼å¼ï¼š" class="headerlink" title="è¾“å…¥æ ¼å¼ï¼š"></a>è¾“å…¥æ ¼å¼ï¼š</h3><p> è¾“å…¥åœ¨ä¸€è¡Œä¸­ç»™å‡ºä¸€ä¸ªä¸ä»¥5ç»“å°¾çš„æ­£å¥‡æ•°<code>x</code>ï¼ˆ&lt;1000ï¼‰ã€‚ </p><h3 id="è¾“å‡ºæ ¼å¼ï¼š"><a href="#è¾“å‡ºæ ¼å¼ï¼š" class="headerlink" title="è¾“å‡ºæ ¼å¼ï¼š"></a>è¾“å‡ºæ ¼å¼ï¼š</h3><p> åœ¨ä¸€è¡Œä¸­è¾“å‡ºç›¸åº”çš„æœ€å°çš„<code>s</code>å’Œ<code>n</code>ï¼Œå…¶é—´ä»¥1ä¸ªç©ºæ ¼åˆ†éš”ã€‚ </p><h3 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">31</span></span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3584229390681</span> <span class="number">15</span></span><br></pre></td></tr></table></figure><h3 id="ç¨‹åºä»£ç ï¼š"><a href="#ç¨‹åºä»£ç ï¼š" class="headerlink" title="ç¨‹åºä»£ç ï¼š"></a>ç¨‹åºä»£ç ï¼š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x, s = <span class="number">0</span>, n = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (x % <span class="number">5</span> == <span class="number">0</span> || x % <span class="number">2</span> == <span class="number">0</span> || x &gt;= <span class="number">1000</span>) </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (x &gt; s) &#123;</span><br><span class="line">        s = s * <span class="number">10</span> + <span class="number">1</span>;</span><br><span class="line">        n ++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>, s / x);</span><br><span class="line">        s %= x;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        s = s * <span class="number">10</span> + <span class="number">1</span>;</span><br><span class="line">        n ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">" %d"</span>, n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="æ”¶è—ä¸€ä¸‹æœ¬ç«™å§ï¼ğŸ˜"><a href="#æ”¶è—ä¸€ä¸‹æœ¬ç«™å§ï¼ğŸ˜" class="headerlink" title="æ”¶è—ä¸€ä¸‹æœ¬ç«™å§ï¼ğŸ˜"></a>æ”¶è—ä¸€ä¸‹æœ¬ç«™å§ï¼ğŸ˜</h3>]]></content>
    
    <summary type="html">
    
      æ•´é™¤å…‰æ£
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="https://18wanttobesinger.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>å•ä¾‹æ¨¡å¼</title>
    <link href="https://18wanttobesinger.github.io/2020/06/17/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    <id>https://18wanttobesinger.github.io/2020/06/17/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-06-17T14:04:16.000Z</published>
    <updated>2020-06-17T15:08:49.109Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤ªè¿‡çƒ­æƒ…æ€»æ˜¯ä¸è¢«çæƒœã€‚</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><hr><h2 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><h3 id="â€œå¯¹è±¡æ€§èƒ½â€æ¨¡å¼"><a href="#â€œå¯¹è±¡æ€§èƒ½â€æ¨¡å¼" class="headerlink" title="â€œå¯¹è±¡æ€§èƒ½â€æ¨¡å¼"></a>â€œå¯¹è±¡æ€§èƒ½â€æ¨¡å¼</h3><ul><li>é¢å‘å¯¹è±¡å¾ˆå¥½è§£å†³äº† â€œæŠ½è±¡â€ çš„é—®é¢˜ï¼Œä½†æ˜¯å¿…ä¸å¯å…åœ°è¦ä»˜å‡ºä¸€å®šçš„ä»£ä»·ã€‚å¯¹äºåŒå¸¸æ¥è®²ï¼Œé¢å‘å¯¹è±¡çš„æˆæœ¬å¤§éƒ½å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚ä½†æ˜¯æŸäº›æƒ…å†µï¼Œé¢å‘å¯¹è±¡æ‰€å¸¦æ¥çš„æˆæœ¬å¿…é¡»è°¨æ…å¤„ç†ã€‚</li><li>å…¸å‹æ¨¡å¼<ul><li>Singleton</li><li>Flyweight</li></ul></li></ul><h3 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><ul><li>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­,ç»å¸¸æœ‰è¿™æ ·ä¸€äº›ç‰¹æ®Šçš„ç±»ï¼Œå¿…é¡»ä¿è¯å®ƒä»¬åœ¨ç³»ç»Ÿä¸­åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹,æ‰èƒ½ç¡®ä¿å®ƒä»¬çš„é€»è¾‘æ­£ç¡®æ€§ã€ä»¥åŠè‰¯å¥½çš„æ•ˆç‡ã€‚</li><li>å¦‚ä½•ç»•è¿‡å¸¸è§„çš„æ„é€ å™¨,æä¾›ç§æœºåˆ¶æ¥ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Ÿ</li><li>è¿™åº”è¯¥æ˜¯ç±»è®¾è®¡è€…çš„è´£ä»»,è€Œä¸æ˜¯ä½¿ç”¨è€…çš„è´£ä»»ã€‚</li></ul><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><p>å®ç°ä¸€ä¸ªåªèƒ½åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„ç±»ã€‚</p><p><strong>æ‡’æ±‰æ¨¡å¼ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Singleton();</span><br><span class="line">    Singleton(<span class="keyword">const</span> Singleton&amp; other);</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Singleton* <span class="title">getInstance</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">static</span> Singleton* m_instance;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Singleton* Singleton::m_instace=<span class="literal">nullptr</span>;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çº¿ç¨‹éå®‰å…¨ç‰ˆæœ¬</span></span><br><span class="line"><span class="function">Singleton* <span class="title">Singleton::getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (m_instance == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        m_instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m_instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŠ é”ï¼Œå®‰å…¨ä½†æ˜¯é”çš„ä»£ä»·è¿‡é«˜</span></span><br><span class="line"><span class="function">Singleton* <span class="title">Singleton::getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Lock lock;</span><br><span class="line">    <span class="keyword">if</span> (m_instance == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        m_instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m_instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒæ£€æŸ¥é”ï¼Œä½†ç”±äºå†…å­˜è¯»å†™reorderä¸å®‰å…¨</span></span><br><span class="line"><span class="function">Singleton* <span class="title">Singleton::getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (m_instance == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">        Lock lock;</span><br><span class="line">        <span class="keyword">if</span> (m_instance == <span class="literal">nullptr</span>)&#123;</span><br><span class="line">            m_instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m_instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//C++ 11ç‰ˆæœ¬ä¹‹åçš„è·¨å¹³å°å®ç° (volatile)</span></span><br><span class="line"><span class="built_in">std</span>::atomic&lt;Singleton*&gt; Singleton::m_instance;</span><br><span class="line"><span class="built_in">std</span>::mutex Singleton::m_mutex;</span><br><span class="line"></span><br><span class="line"><span class="function">Singleton* <span class="title">Singleton::getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Singleton* tmp = m_instance.load(<span class="built_in">std</span>::memory_order_relaxed);</span><br><span class="line">    <span class="built_in">std</span>::atomic_thread_fence(<span class="built_in">std</span>::memory_order_acquire);<span class="comment">//è·å–å†…å­˜fence</span></span><br><span class="line">    <span class="keyword">if</span> (tmp == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="function"><span class="built_in">std</span>::lock_guard&lt;<span class="built_in">std</span>::mutex&gt; <span class="title">lock</span><span class="params">(m_mutex)</span></span>;</span><br><span class="line">        tmp = m_instance.load(<span class="built_in">std</span>::memory_order_relaxed);</span><br><span class="line">        <span class="keyword">if</span> (tmp == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            tmp = <span class="keyword">new</span> Singleton;</span><br><span class="line">            <span class="built_in">std</span>::atomic_thread_fence(<span class="built_in">std</span>::memory_order_release);<span class="comment">//é‡Šæ”¾å†…å­˜fence</span></span><br><span class="line">            m_instance.store(tmp, <span class="built_in">std</span>::memory_order_relaxed);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>Javaä¸­å¯ä»¥å®ç°å•ä¾‹æ¨¡å¼çš„æ–¹æ³•æœ‰ï¼šé¥¿æ±‰ã€æ‡’æ±‰ã€é™æ€å†…éƒ¨ç±»ç­‰</em></p><hr><h3 id="æ¨¡å¼å®šä¹‰"><a href="#æ¨¡å¼å®šä¹‰" class="headerlink" title="æ¨¡å¼å®šä¹‰"></a>æ¨¡å¼å®šä¹‰</h3><p>ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ ,å¹¶æä¾›ä¸€ä¸ªè¯¥å®ä¾‹çš„å…¨å±€è®¿é—®ç‚¹ã€‚</p><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Singletonæ¨¡å¼ä¸­çš„å®ä¾‹æ„é€ å™¨å¯ä»¥è®¾ç½®ä¸ºprotectedä»¥å…è®¸å­ç±»æ´¾ç”Ÿã€‚</li><li>Singletonæ¨¡å¼ä¸€èˆ¬ä¸è¦æ”¯æŒæ‹·è´æ„é€ å‡½æ•°å’ŒCloneæ¥å£ ï¼Œå› ä¸ºè¿™æœ‰å¯èƒ½å¯¼è‡´å¤šä¸ªå¯¹è±¡å®ä¾‹,ä¸Singletonæ¨¡å¼çš„åˆè¡·è¿èƒŒã€‚</li><li>å¦‚ä½•å®ç°å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å®‰å…¨çš„Singleton ?æ³¨æ„å¯¹åŒæ£€æŸ¥é”çš„æ­£ç¡®å®ç°ã€‚.</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://18wanttobesinger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>å»ºé€ è€…æ¨¡å¼</title>
    <link href="https://18wanttobesinger.github.io/2020/06/16/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/"/>
    <id>https://18wanttobesinger.github.io/2020/06/16/%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-06-16T08:49:23.000Z</published>
    <updated>2020-06-17T22:31:58.169Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è°çš„æ–°æ¬¢ä¸æ˜¯åˆ«äººçš„æ—§çˆ±ï¼Ÿåˆæœ‰å¤šå°‘åˆæ‹å¯ä»¥åˆ°ç™½å¤´ï¼Ÿ</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="å»ºé€ è€…æ¨¡å¼"><a href="#å»ºé€ è€…æ¨¡å¼" class="headerlink" title="å»ºé€ è€…æ¨¡å¼"></a>å»ºé€ è€…æ¨¡å¼</h2><h3 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><ul><li>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œæœ‰æ—¶å€™é¢ä¸´ç€<strong>â€œä¸€ä¸ªå¤æ‚å¯¹è±¡â€</strong>çš„åˆ›å»ºå·¥ä½œï¼Œå…¶é€šå¸¸ç”±<strong>å„ä¸ªéƒ¨åˆ†çš„å­å¯¹è±¡</strong>ç”¨ä¸€å®šçš„ç®—æ³•æ„æˆï¼›ç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œè¿™ä¸ªå¤æ‚å¯¹è±¡çš„å„ä¸ªéƒ¨åˆ†ç»å¸¸é¢ä¸´ç€å‰§çƒˆçš„å˜åŒ–ï¼Œä½†æ˜¯å°†å®ƒä»¬ç»„åˆåœ¨ ä¸€èµ·çš„ç®—æ³•å´<strong>ç›¸å¯¹ç¨³å®š</strong>ã€‚ </li><li>å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–ï¼Ÿå¦‚ä½•æä¾›ä¸€ç§â€œå°è£…æœºåˆ¶â€æ¥éš”ç¦»å‡ºâ€œå¤æ‚ å¯¹è±¡çš„å„ä¸ªéƒ¨åˆ†â€çš„å˜åŒ–ï¼Œä»è€Œä¿æŒç³»ç»Ÿä¸­çš„â€œç¨³å®šæ„å»ºç®—æ³•â€ä¸ éšç€éœ€æ±‚æ”¹å˜è€Œæ”¹å˜ï¼Ÿ </li></ul><h3 id="æ¨¡å¼å®šä¹‰"><a href="#æ¨¡å¼å®šä¹‰" class="headerlink" title="æ¨¡å¼å®šä¹‰"></a>æ¨¡å¼å®šä¹‰</h3><p> å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å…¶è¡¨ç¤ºç›¸åˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ ç¨‹(ç¨³å®š)å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤º(å˜åŒ–)ã€‚ </p><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><p>æ„å»ºä¸€ä¸ªæˆ¿å­ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class House&#123;</span><br><span class="line">public:</span><br><span class="line">    void Init() &#123;</span><br><span class="line">        this-&gt;BuildPart1();</span><br><span class="line">        for (int i &#x3D; 0; i &lt; 4; i++)&#123;</span><br><span class="line">            this-&gt;BuildPart2();</span><br><span class="line">        &#125;</span><br><span class="line">        bool flag&#x3D;this-&gt;BuildPart3();</span><br><span class="line">        if(flag)&#123;</span><br><span class="line">            this-&gt;BuildPart4();</span><br><span class="line">        &#125;</span><br><span class="line">        this-&gt;BuildPart5();</span><br><span class="line">    &#125;</span><br><span class="line">protected:</span><br><span class="line">    virtual void BuildPart1()&#x3D;0;</span><br><span class="line">    virtual void BuildPart2()&#x3D;0;</span><br><span class="line">    virtual void BuildPart3()&#x3D;0;</span><br><span class="line">    virtual void BuildPart4()&#x3D;0;</span><br><span class="line">    virtual void BuildPart5()&#x3D;0;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æ„å»ºå„ç§ä¸åŒæ ·å¼çš„æˆ¿å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StoneHouse</span>:</span> <span class="keyword">public</span> House&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart5</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    House* sHouse = <span class="keyword">new</span> StoneHouse();</span><br><span class="line">    sHouse-&gt;Init();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ”¹è¿›ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">House</span>&#123;</span></span><br><span class="line">    <span class="comment">//....</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HouseBuilder</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">House* <span class="title">GetResult</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pHouse;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">virtual</span> ~HouseBuilder()&#123;&#125;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    House* pHouse;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart1</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart2</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart3</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart4</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart5</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StoneHouse</span>:</span> <span class="keyword">public</span> House&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StoneHouseBuilder</span>:</span> <span class="keyword">public</span> HouseBuilder&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//pHouse-&gt;Part1 = ...;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart3</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart4</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BuildPart5</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HouseDirector</span>&#123;</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    HouseBuilder* pHouseBuilder;</span><br><span class="line">    </span><br><span class="line">    HouseDirector(HouseBuilder* pHouseBuilder)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;pHouseBuilder=pHouseBuilder;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">House* <span class="title">Construct</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">        pHouseBuilder-&gt;BuildPart1();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">            pHouseBuilder-&gt;BuildPart2();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">bool</span> flag=pHouseBuilder-&gt;BuildPart3();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            pHouseBuilder-&gt;BuildPart4();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        pHouseBuilder-&gt;BuildPart5();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> pHouseBuilder-&gt;GetResult();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Builder æ¨¡å¼ä¸»è¦ç”¨äºâ€œåˆ†æ­¥éª¤æ„å»ºä¸€ä¸ªå¤æ‚çš„å¯¹è±¡â€ã€‚åœ¨è¿™å…¶ä¸­ â€œåˆ†æ­¥éª¤â€æ˜¯ä¸€ä¸ªç¨³å®šçš„ç®—æ³•ï¼Œè€Œå¤æ‚å¯¹è±¡çš„å„ä¸ªéƒ¨åˆ†åˆ™ç»å¸¸å˜åŒ–ã€‚ </li><li>å˜åŒ–ç‚¹åœ¨å“ªé‡Œï¼Œå°è£…å“ªé‡Œâ€”â€” Builderæ¨¡å¼ä¸»è¦åœ¨äºåº”å¯¹â€œå¤æ‚å¯¹ è±¡å„ä¸ªéƒ¨åˆ†â€çš„é¢‘ç¹éœ€æ±‚å˜åŠ¨ã€‚å…¶ç¼ºç‚¹åœ¨äºéš¾ä»¥åº”å¯¹â€œåˆ†æ­¥éª¤æ„å»º ç®—æ³•â€çš„éœ€æ±‚å˜åŠ¨ã€‚ </li><li>åœ¨Builderæ¨¡å¼ä¸­ï¼Œè¦æ³¨æ„ä¸åŒè¯­è¨€ä¸­æ„é€ å™¨å†…è°ƒç”¨è™šå‡½æ•°çš„å·®åˆ« ï¼ˆC++ vs. C#) ã€‚ </li></ul>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è°çš„æ–°æ¬¢ä¸æ˜¯åˆ«äººçš„æ—§çˆ±ï¼Ÿåˆæœ‰å¤šå°‘åˆæ‹å¯ä»¥åˆ°ç™½å¤´ï¼Ÿ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://18wanttobesinger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>é‡æ–°æ’åˆ—æ•°ç»„</title>
    <link href="https://18wanttobesinger.github.io/2020/06/16/%E9%87%8D%E6%96%B0%E6%8E%92%E5%88%97%E6%95%B0%E7%BB%84/"/>
    <id>https://18wanttobesinger.github.io/2020/06/16/%E9%87%8D%E6%96%B0%E6%8E%92%E5%88%97%E6%95%B0%E7%BB%84/</id>
    <published>2020-06-16T08:25:48.000Z</published>
    <updated>2020-06-22T00:08:31.505Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åˆšæ‰åœ¨è¡—ä¸Šçœ‹è§ä¸€ä¸ªäººå¾ˆåƒä½ ï¼Œæˆ‘ç¬é—´ç‰¹åˆ«ç´§å¼ ï¼Œæ¸´æœ›æ˜¯ä½ åˆå®³æ€•æ˜¯ä½ ï¼Œç›´åˆ°èµ°è¿‘çœ‹æ¸…ä¸æ˜¯ä½ ï¼Œæˆ‘åº†å¹¸ä¸æ˜¯ä½ ï¼Œ</span><br><span class="line">åˆé—æ†¾ä¸æ˜¯ä½ ã€‚</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="1470-é‡æ–°æ’åˆ—æ•°ç»„"><a href="#1470-é‡æ–°æ’åˆ—æ•°ç»„" class="headerlink" title="1470. é‡æ–°æ’åˆ—æ•°ç»„"></a><a href="https://leetcode-cn.com/problems/shuffle-the-array/" target="_blank" rel="noopener">1470. é‡æ–°æ’åˆ—æ•°ç»„</a></h3><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ nums ï¼Œæ•°ç»„ä¸­æœ‰ <strong>2n</strong> ä¸ªå…ƒç´ ï¼ŒæŒ‰ <code>[x1,x2,...,xn,y1,y2,...,yn]</code> çš„æ ¼å¼æ’åˆ—ã€‚</p><p>è¯·ä½ å°†æ•°ç»„æŒ‰ <code>[x1,y1,x2,y2,...,xn,yn]</code> æ ¼å¼é‡æ–°æ’åˆ—ï¼Œè¿”å›é‡æ’åçš„æ•°ç»„ã€‚</p><h4 id="ç¤ºä¾‹1ï¼š"><a href="#ç¤ºä¾‹1ï¼š" class="headerlink" title="ç¤ºä¾‹1ï¼š"></a>ç¤ºä¾‹1ï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums &#x3D; [2,5,1,3,4,7], n &#x3D; 3</span><br><span class="line">è¾“å‡ºï¼š[2,3,5,4,1,7] </span><br><span class="line">è§£é‡Šï¼šç”±äº x1&#x3D;2, x2&#x3D;5, x3&#x3D;1, y1&#x3D;3, y2&#x3D;4, y3&#x3D;7 ï¼Œæ‰€ä»¥ç­”æ¡ˆä¸º [2,3,5,4,1,7]</span><br></pre></td></tr></table></figure><h4 id="æç¤ºï¼š"><a href="#æç¤ºï¼š" class="headerlink" title="æç¤ºï¼š"></a>æç¤ºï¼š</h4><ul><li><code>1 &lt;= n &lt;= 500</code></li><li><code>nums.length == 2n</code></li><li><code>1 &lt;= nums[i] &lt;= 10^3</code></li></ul><hr><p>è¯´å®è¯è¿™é“é¢˜å¾ˆç®€å•ï¼Œä¹‹æ‰€ä»¥æˆ‘æƒ³æŠŠå®ƒè®°å½•ä¸‹æ¥çš„åŸå› å°±æ˜¯ï¼Œä¸€å¼€å§‹æˆ‘å°±ç”¨<code>O(1)</code>çš„ç©ºé—´å¤æ‚åº¦æ¥è§£å†³ï¼Œä½†æ˜¯æ€è€ƒäº†å¾ˆé•¿æ—¶é—´éƒ½æ²¡æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ€è·¯ã€‚</p><p><em>å…³äºæ—¶é—´å¤æ‚åº¦ï¼Œå¦‚æœä¸æ‡‚å¯ä»¥ç™¾åº¦ä¸€ä¸‹ã€‚</em></p><h4 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h4><p>æˆ‘ä»¬çœ‹ä¸€ä¸‹é¢˜ç›®ç»™å‡ºçš„æç¤ºï¼Œ<code>nums[i]</code>æœ€å¤§ä¸º1000ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¡ä»¶ä¸‹æ‰‹ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªintç±»å‹çš„æ•°æœ‰ 32 ä¸ªbitï¼Œå½“<code>nums[i]</code>æœ€å¤§æ—¶ï¼Œæœ€å¤šå æ® 10 ä¸ªbitï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å‰©ä¸‹çš„ 22 ä¸ªbitå­˜å‚¨ç‚¹æœ‰ç”¨çš„ä¿¡æ¯ã€‚å­˜å‚¨ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å‰©ä¸‹çš„ 22 ä¸ªbitå­˜å‚¨å½“å‰ä¸‹æ ‡æœ€ç»ˆéœ€è¦å­˜å‚¨çš„æ•°ã€‚</p><p>æˆ‘ä»¬æ¥åšä¸ªå°å°çš„ç®—æ³•ï¼Œåˆ†åˆ«<strong>ä»å°åˆ°å¤§</strong>éå† <strong>å¶æ•°ä¸‹æ ‡ã€å¥‡æ•°ä¸‹æ ‡</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span> * n; i ++)&#123;</span><br><span class="line">    <span class="keyword">int</span> j = i &lt; n ? <span class="number">2</span> * i : <span class="number">2</span> * (i - n) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹äºæµ‹è¯•ç”¨ä¾‹ [2,5,1,3,4,7]</span></span><br><span class="line">æˆ‘ä»¬å¯ä»¥æ‰“å°ä¸€ä¸‹æ¯æ¬¡å¾ªç¯ j çš„å€¼:</span><br><span class="line"><span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>,</span><br></pre></td></tr></table></figure><p>æ¯æ¬¡å¾ªç¯ï¼Œæˆ‘ä»¬éƒ½å°†å½“å‰ <code>i</code> ä¸‹æ ‡çš„å€¼å­˜å‚¨åœ¨ <code>j</code> ä¸‹æ ‡çš„æ•°çš„å‰ 22 ä¸ªbitä¸­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nums[j] |= ((nums[i] &amp; <span class="number">1023</span>) &lt;&lt; <span class="number">10</span>);</span><br></pre></td></tr></table></figure><p>è¿™æ ·ç»è¿‡ä¸€æ¬¡å¾ªç¯ä¹‹åï¼Œæ¯ä¸ªæ•°çš„å‰ 22 ä¸ªbit ä¸­å­˜å‚¨çš„å°±æ˜¯è¯¥ä¸‹æ ‡æœ€ç»ˆéœ€è¦çš„æ•°å­—ï¼Œæˆ‘ä»¬åªéœ€éå†ä¸€æ¬¡ï¼Œå°†å…¶å³ç§»10ä½å³å¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span> * n; i ++) &#123;</span><br><span class="line">    nums[i] &gt;&gt;= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æœ€ç»ˆä»£ç "><a href="#æœ€ç»ˆä»£ç " class="headerlink" title="æœ€ç»ˆä»£ç "></a>æœ€ç»ˆä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] shuffle(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> n) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span> * n; i ++) &#123;</span><br><span class="line">        <span class="keyword">int</span> j = i &lt; n ? <span class="number">2</span> * i : <span class="number">2</span> * (i - n) + <span class="number">1</span>;</span><br><span class="line">        nums[j] |= ((nums[i] &amp; <span class="number">1023</span>) &lt;&lt; <span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span> * n; i ++) &#123;</span><br><span class="line">        nums[i] &gt;&gt;= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      é‡æ–°æ’åˆ—æ•°ç»„
    
    </summary>
    
    
    
      <category term="ä½è¿ç®—" scheme="https://18wanttobesinger.github.io/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"/>
    
      <category term="ç®—æ³•" scheme="https://18wanttobesinger.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>åŸå‹æ¨¡å¼</title>
    <link href="https://18wanttobesinger.github.io/2020/06/15/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/"/>
    <id>https://18wanttobesinger.github.io/2020/06/15/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-06-15T08:03:57.000Z</published>
    <updated>2020-06-17T15:07:06.291Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">â€œæˆ‘è‡ªç„¶ä¸ä¼šè¯•å›¾æ½æœˆ æˆ‘è¦ä»–å½“ç©ºçšæ´ åŒæ—¥è€Œè¾‰â€</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼"></a>åŸå‹æ¨¡å¼</h2><h3 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><ul><li>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œç»å¸¸é¢ä¸´ç€ â€œæŸäº›ç»“æ„å¤æ‚çš„å¯¹è±¡â€ çš„åˆ›å»ºå·¥ä½œï¼›ç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œè¿™äº›å¯¹è±¡ç»å¸¸é¢ä¸´ç€å‰§çƒˆçš„å˜åŒ–ï¼Œä½†æ˜¯å®ƒä»¬å´æ‹¥æœ‰æ¯”è¾ƒç¨³å®šä¸€è‡´çš„æ¥å£ã€‚</li><li>å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–ï¼Ÿå¦‚ä½•å‘ â€œå®¢æˆ·ç¨‹åºï¼ˆä½¿ç”¨è¿™äº›å¯¹è±¡çš„ç¨‹åºï¼‰â€éš”ç¦»å‡º â€œè¿™äº›æ˜“å˜å¯¹è±¡â€ï¼Œä»è€Œä½¿å¾— â€œè¿™äº›æ˜“å˜å¯¹è±¡çš„å®¢æˆ·ç¨‹åºâ€ ä¸éšç€éœ€æ±‚æ”¹å˜è€Œæ”¹å˜ï¼Ÿ</li></ul><h3 id="æ¨¡å¼å®šä¹‰"><a href="#æ¨¡å¼å®šä¹‰" class="headerlink" title="æ¨¡å¼å®šä¹‰"></a>æ¨¡å¼å®šä¹‰</h3><p>ä½¿ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œç„¶åé€šè¿‡æ‹·è´è¿™äº›åŸå‹æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</p><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><h4 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h4><p>å®ç°å¯¹è±¡å¯¹è‡ªå·±çš„å…‹éš†ï¼ˆå…‹éš†è‡ªå·±ï¼‰ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ISplitter</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">split</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é€šè¿‡å…‹éš†è‡ªå·±åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter* <span class="title">clone</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">virtual</span> ~ISplitter()&#123;  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­ç±»å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinarySplitter</span>:</span> <span class="keyword">public</span> ISplitter &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter* <span class="title">clone</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// æ‹·è´è‡ªå·±</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BinarySplitter(*<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TxtSplitter</span>:</span> <span class="keyword">public</span> ISplitter &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter* <span class="title">clone</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// æ‹·è´è‡ªå·±</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TxtSplitter(*<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>MainFormå®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainForm</span>:</span> <span class="keyword">public</span> Form&#123;</span><br><span class="line">    ISplitter* prototype;    <span class="comment">// åŸå‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MainForm(ISplitter* prototype)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;prototype = prototype;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Button_Click</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ISplitter* splitter = prototype-&gt;clone();</span><br><span class="line">        splitter-&gt;split();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Prototype æ¨¡å¼åŒæ ·ç”¨äºéš”ç¦»ç±»å¯¹è±¡çš„ä½¿ç”¨è€…å’Œå…·ä½“ç±»å‹ï¼ˆæ˜“å˜ç±»ï¼‰ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œå®ƒåŒæ ·è¦æ±‚è¿™äº› â€œæ˜“å˜ç±»â€ æ‹¥æœ‰ â€œç¨³å®šçš„æ¥å£â€ã€‚</li><li>Prototype æ¨¡å¼å¯¹äº â€œå¦‚ä½•åˆ›å»ºæ˜“å˜ç±»çš„å®ä½“å¯¹è±¡â€ é‡‡ç”¨ â€œåŸå‹â€ å…‹éš†çš„æ–¹æ³•æ¥åšï¼Œå®ƒä½¿å¾—æˆ‘ä»¬å¯ä»¥éå¸¸çµæ´»åœ°åŠ¨æ€åˆ›å»º â€œæ‹¥æœ‰æŸäº›ç¨³å®šæ¥å£â€ çš„æ–°å¯¹è±¡â€”-æ‰€éœ€å·¥ä½œä»…ä»…æ˜¯æ³¨å†Œä¸€ä¸ªæ–°ç±»çš„å¯¹è±¡ï¼ˆå³åŸå‹ï¼‰ï¼Œç„¶ååœ¨ä»»ä½•éœ€è¦çš„åœ°æ–¹Cloneã€‚</li><li>Prototype æ¨¡å¼ä¸­çš„ Clone æ–¹æ³•å¯ä»¥åˆ©ç”¨æŸäº›æ¡†æ¶ä¸­çš„åºåˆ—åŒ–æ¥å®ç°æ·±æ‹·è´ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;â€œæˆ‘è‡ªç„¶ä¸ä¼šè¯•å›¾æ½æœˆ æˆ‘è¦ä»–å½“ç©ºçšæ´ åŒæ—¥è€Œè¾‰â€&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://18wanttobesinger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>æŠ½è±¡å·¥å‚æ¨¡å¼</title>
    <link href="https://18wanttobesinger.github.io/2020/06/13/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"/>
    <id>https://18wanttobesinger.github.io/2020/06/13/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-06-13T09:19:33.000Z</published>
    <updated>2020-06-17T15:00:12.143Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¯·ä¼˜å…ˆè€ƒè™‘é‚£ä¸ªä¼˜å…ˆè€ƒè™‘ä½ çš„äººã€‚</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="æŠ½è±¡å·¥å‚æ¨¡å¼"><a href="#æŠ½è±¡å·¥å‚æ¨¡å¼" class="headerlink" title="æŠ½è±¡å·¥å‚æ¨¡å¼"></a>æŠ½è±¡å·¥å‚æ¨¡å¼</h2><h3 id="â€œå¯¹è±¡åˆ›å»ºâ€-æ¨¡å¼"><a href="#â€œå¯¹è±¡åˆ›å»ºâ€-æ¨¡å¼" class="headerlink" title="â€œå¯¹è±¡åˆ›å»ºâ€ æ¨¡å¼"></a>â€œå¯¹è±¡åˆ›å»ºâ€ æ¨¡å¼</h3><ul><li>é€šè¿‡â€œå¯¹è±¡åˆ›å»ºâ€ æ¨¡å¼ç»•å¼€newï¼Œæ¥é¿å…å¯¹è±¡åˆ›å»ºï¼ˆnewï¼‰è¿‡ç¨‹ ä¸­æ‰€å¯¼è‡´çš„ç´§è€¦åˆï¼ˆä¾èµ–å…·ä½“ç±»ï¼‰ï¼Œä»è€Œæ”¯æŒå¯¹è±¡åˆ›å»ºçš„ç¨³å®šã€‚å®ƒ æ˜¯æ¥å£æŠ½è±¡ä¹‹åçš„ç¬¬ä¸€æ­¥å·¥ä½œã€‚ </li><li>å…¸å‹æ¨¡å¼<ul><li>Factory Method</li><li>Abstract Factory</li><li>Prototype</li><li>Builder  </li></ul></li></ul><h3 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><ul><li>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œç»å¸¸é¢ä¸´ç€â€œ<strong>ä¸€ç³»åˆ—ç›¸äº’ä¾èµ–çš„å¯¹è±¡</strong>â€çš„åˆ›å»ºå·¥ ä½œï¼›åŒæ—¶ï¼Œç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œå¾€å¾€å­˜åœ¨æ›´å¤šç³»åˆ—å¯¹è±¡çš„åˆ›å»ºå·¥ä½œã€‚ </li><li>å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–ï¼Ÿå¦‚ä½•ç»•è¿‡å¸¸è§„çš„å¯¹è±¡åˆ›å»ºæ–¹æ³•(new)ï¼Œæä¾›ä¸€ ç§â€œå°è£…æœºåˆ¶â€æ¥é¿å…å®¢æˆ·ç¨‹åºå’Œè¿™ç§â€œå¤šç³»åˆ—å…·ä½“å¯¹è±¡åˆ›å»ºå·¥ä½œâ€ çš„ç´§è€¦åˆï¼Ÿ </li></ul><h3 id="æ¨¡å¼å®šä¹‰"><a href="#æ¨¡å¼å®šä¹‰" class="headerlink" title="æ¨¡å¼å®šä¹‰"></a>æ¨¡å¼å®šä¹‰</h3><p> æä¾›ä¸€ä¸ªæ¥å£ï¼Œè®©è¯¥æ¥å£è´Ÿè´£åˆ›å»º<strong>ä¸€ç³»åˆ—â€œç›¸å…³æˆ–è€…ç›¸äº’ä¾ èµ–çš„å¯¹è±¡â€</strong>ï¼Œæ— éœ€æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚ </p><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><h4 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h4><p>æ ¹æ®ä¸åŒçš„æ•°æ®åº“ç‰ˆæœ¬åˆ›å»ºä¸åŒçš„æ•°æ®åº“è¿æ¥ï¼›å¦‚ï¼šSQL Serverã€Mysqlã€Oracleç­‰ç­‰ã€‚</p><p><strong>åŸºç¡€ä»£ç ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EmployeeDAO</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;EmployeeDO&gt; <span class="title">GetEmployees</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºè¿æ¥</span></span><br><span class="line">        SqlConnection* connection = <span class="keyword">new</span> SqlConnection();</span><br><span class="line">        connection-&gt;ConnectionString = <span class="string">"..."</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¤å…¥sql</span></span><br><span class="line">        SqlCommand* command = <span class="keyword">new</span> SqlCommand();</span><br><span class="line">        command-&gt;CommandText=<span class="string">"..."</span>;</span><br><span class="line">        command-&gt;SetConnection(connection);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ‰§è¡Œ</span></span><br><span class="line">        SqlDataReader* reader = command-&gt;ExecuteReader();</span><br><span class="line">        <span class="keyword">while</span> (reader-&gt;Read())&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ ¹æ®å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§å·¥å‚æ–¹æ³•æ¨¡å¼æ¥å†™ï¼Œç»™æ¯ä¸€ç§æ“ä½œå®šä¹‰åŸºç±»ï¼Œç„¶åä½¿ç”¨ç›¸åº”çš„å·¥å‚ç±»å»åˆ›å»ºä»–ä»¬ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ•°æ®åº“è®¿é—®æœ‰å…³çš„åŸºç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDBConnection</span>&#123;</span></span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDBCommand</span>&#123;</span></span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDataReader</span>&#123;</span></span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDBConnectionFactory</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBConnection* <span class="title">CreateDBConnection</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDBCommandFactory</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBCommand* <span class="title">CreateDBCommand</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDataReaderFactory</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDataReader* <span class="title">CreateDataReader</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç¼–å†™æ”¯æŒä¸åŒå¹³å°çš„å®ç°ï¼š</p><p>ä»¥ä¸‹æ”¯æŒSQL Server</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlConnection</span>:</span> <span class="keyword">public</span> IDBConnection&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlConnectionFactory</span>:</span><span class="keyword">public</span> IDBConnectionFactory&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlCommand</span>:</span> <span class="keyword">public</span> IDBCommand&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlCommandFactory</span>:</span><span class="keyword">public</span> IDBCommandFactory&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlDataReader</span>:</span> <span class="keyword">public</span> IDataReader&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlDataReaderFactory</span>:</span><span class="keyword">public</span> IDataReaderFactory&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ”¯æŒOracle</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleConnection</span>:</span> <span class="keyword">public</span> IDBConnection&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleConnectionFactory</span>:</span><span class="keyword">public</span> IDBConnectionFactory&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleCommand</span>:</span> <span class="keyword">public</span> IDBCommand&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleCommandFactory</span>:</span><span class="keyword">public</span> IDBCommandFactory&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleDataReader</span>:</span> <span class="keyword">public</span> IDataReader&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleDataReaderFactory</span>:</span><span class="keyword">public</span> IDataReaderFactory&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºè¿æ¥å®ä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EmployeeDAO</span>&#123;</span></span><br><span class="line">    IDBConnectionFactory* dbConnectionFactory;</span><br><span class="line">    IDBCommandFactory* dbCommandFactory;</span><br><span class="line">    IDataReaderFactory* dataReaderFactory;</span><br><span class="line">    <span class="comment">// ...æ„é€ æ–¹æ³•çœç•¥</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;EmployeeDO&gt; <span class="title">GetEmployees</span><span class="params">()</span></span>&#123;</span><br><span class="line">        IDBConnection* connection = dbConnectionFactory-&gt;CreateDBConnection();</span><br><span class="line">        connection-&gt;ConnectionString(<span class="string">"..."</span>);</span><br><span class="line"></span><br><span class="line">        IDBCommand* command = dbCommandFactory-&gt;CreateDBCommand();</span><br><span class="line">        command-&gt;CommandText(<span class="string">"..."</span>);</span><br><span class="line">        command-&gt;SetConnection(connection); <span class="comment">//å…³è”æ€§</span></span><br><span class="line"></span><br><span class="line">        IDBDataReader* reader = command-&gt;ExecuteReader(); <span class="comment">//å…³è”æ€§</span></span><br><span class="line">        <span class="keyword">while</span> (reader-&gt;Read())&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä»£ç å†™åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šé—®ï¼Œè¿™å’Œå·¥å‚æ–¹æ³•æ¨¡å¼æœ‰åŒºåˆ«å—ï¼Ÿç¡®å®æ²¡æœ‰åŒºåˆ«ï¼Œä½†æ˜¯è¿™ä¹ˆå†™æ˜¯æœ‰é—®é¢˜çš„ï¼Œä½ æƒ³æƒ³çœ‹ï¼Œæ¯ä¸€ç§ä¸åŒå¹³å°å®ç°çš„è¿æ¥ã€æ³¨å…¥sqlã€æ‰§è¡Œéƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬åˆ›å»ºå®ä¾‹ä¼ å…¥ä¸åŒå¹³å°çš„è¿æ¥ã€æ³¨å…¥sqlå’Œæ‰§è¡Œçš„æ—¶å€™ï¼Œåé¢è‚¯å®šä¼šæŠ¥é”™çš„ï¼Œå› ä¸ºå¦‚æœä¼ å…¥å‚æ•°ä¸æ˜¯ä¸€ä¸ªå¹³å°çš„è¯ï¼Œé‚£ä¹ˆè‚¯å®šæ— æ³•æ‰§è¡Œçš„ã€‚</p><p>ä»”ç»†æƒ³æƒ³ï¼Œæ¯ä¸ªå¹³å°éƒ½æœ‰å…·ä½“çš„å®ç°ï¼Œè€Œè¿™äº›å®ç°å¯¹è±¡éƒ½æ˜¯æœ‰<strong>ç›¸äº’ä¾èµ–</strong>ã€<strong>ä½œç”¨</strong>çš„ã€‚ä¸åŒå¹³å°çš„å¯¹è±¡å®ä¾‹ä¹‹é—´æ²¡æœ‰ç›¸é€šæ€§ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥è®¾è®¡å‡ºç”Ÿäº§å•ä¸ªå¹³å°æ‰€éœ€è¦çš„å®ä¾‹å¯¹è±¡å‘¢ï¼Ÿ</p><p>å†æ¬¡æ›´æ”¹æˆ‘ä»¬çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDBFactory</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// å°†è¿™ä¸‰ä¸ªæ“ä½œåˆå¹¶</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBConnection* <span class="title">CreateDBConnection</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBCommand* <span class="title">CreateDBCommand</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDataReader* <span class="title">CreateDataReader</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlDBFactory</span>:</span> <span class="keyword">public</span> IDBFactory&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBConnection* <span class="title">CreateDBConnection</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBCommand* <span class="title">CreateDBCommand</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDataReader* <span class="title">CreateDataReader</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleDBFactory</span>:</span> <span class="keyword">public</span> IDBFactory&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBConnection* <span class="title">CreateDBConnection</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDBCommand* <span class="title">CreateDBCommand</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> IDataReader* <span class="title">CreateDataReader</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬éœ€è¦æ”¯æŒSQL Serveræ—¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlConnection</span>:</span> <span class="keyword">public</span> IDBConnection&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlCommand</span>:</span> <span class="keyword">public</span> IDBCommand&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqlDataReader</span>:</span> <span class="keyword">public</span> IDataReader&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬éœ€è¦æ”¯æŒOracleæ—¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleConnection</span>:</span> <span class="keyword">public</span> IDBConnection&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleCommand</span>:</span> <span class="keyword">public</span> IDBCommand&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleDataReader</span>:</span> <span class="keyword">public</span> IDataReader&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å®šä¹‰å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EmployeeDAO</span>&#123;</span></span><br><span class="line">    IDBFactory* dbFactory;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;EmployeeDO&gt; <span class="title">GetEmployees</span><span class="params">()</span></span>&#123;</span><br><span class="line">        IDBConnection* connection = dbFactory-&gt;CreateDBConnection();</span><br><span class="line">        connection-&gt;ConnectionString(<span class="string">"..."</span>);</span><br><span class="line"></span><br><span class="line">        IDBCommand* command = dbFactory-&gt;CreateDBCommand();</span><br><span class="line">        command-&gt;CommandText(<span class="string">"..."</span>);</span><br><span class="line">        command-&gt;SetConnection(connection); <span class="comment">//å…³è”æ€§</span></span><br><span class="line"></span><br><span class="line">        IDBDataReader* reader = command-&gt;ExecuteReader(); <span class="comment">//å…³è”æ€§</span></span><br><span class="line">        <span class="keyword">while</span> (reader-&gt;Read())&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>å¦‚æœæ²¡æœ‰åº”å¯¹â€œ<strong>å¤šç³»åˆ—å¯¹è±¡æ„å»º</strong>â€çš„éœ€æ±‚å˜åŒ–ï¼Œåˆ™æ²¡æœ‰å¿…è¦ä½¿ç”¨ Abstract Factoryæ¨¡å¼ï¼Œè¿™æ—¶å€™ä½¿ç”¨ç®€å•çš„å·¥å‚å®Œå…¨å¯ä»¥ã€‚ </li><li><strong>â€œç³»åˆ—å¯¹è±¡â€æŒ‡çš„æ˜¯åœ¨æŸä¸€ç‰¹å®šç³»åˆ—ä¸‹çš„å¯¹è±¡ä¹‹é—´æœ‰ç›¸äº’ä¾èµ–ã€ æˆ–ä½œç”¨çš„å…³ç³»ã€‚</strong>ä¸åŒç³»åˆ—çš„å¯¹è±¡ä¹‹é—´ä¸èƒ½ç›¸äº’ä¾èµ–ã€‚ </li><li>Abstract Factoryæ¨¡å¼ä¸»è¦åœ¨äºåº”å¯¹â€œæ–°ç³»åˆ—â€çš„éœ€æ±‚å˜åŠ¨ã€‚å…¶ç¼ºç‚¹åœ¨äºéš¾ä»¥åº”å¯¹â€œæ–°å¯¹è±¡â€çš„éœ€æ±‚å˜åŠ¨ã€‚ </li></ul>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¯·ä¼˜å…ˆè€ƒè™‘é‚£ä¸ªä¼˜å…ˆè€ƒè™‘ä½ çš„äººã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://18wanttobesinger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>å·¥å‚æ–¹æ³•æ¨¡å¼</title>
    <link href="https://18wanttobesinger.github.io/2020/06/12/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/"/>
    <id>https://18wanttobesinger.github.io/2020/06/12/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-06-12T13:24:20.000Z</published>
    <updated>2020-06-17T14:58:44.976Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æ„¿ä¸–é—´çš„ç¾å¥½ï¼Œä¸ä½ ç¯ç¯ç›¸æ‰£ã€‚</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h2><h3 id="â€å¯¹è±¡åˆ›å»ºâ€œ-æ¨¡å¼"><a href="#â€å¯¹è±¡åˆ›å»ºâ€œ-æ¨¡å¼" class="headerlink" title="â€å¯¹è±¡åˆ›å»ºâ€œ æ¨¡å¼"></a>â€å¯¹è±¡åˆ›å»ºâ€œ æ¨¡å¼</h3><ul><li>é€šè¿‡â€œå¯¹è±¡åˆ›å»ºâ€ æ¨¡å¼ç»•å¼€newï¼Œæ¥é¿å…å¯¹è±¡åˆ›å»ºï¼ˆnewï¼‰è¿‡ç¨‹ ä¸­æ‰€å¯¼è‡´çš„ç´§è€¦åˆï¼ˆä¾èµ–å…·ä½“ç±»ï¼‰ï¼Œä»è€Œæ”¯æŒå¯¹è±¡åˆ›å»ºçš„ç¨³å®šã€‚å®ƒ æ˜¯æ¥å£æŠ½è±¡ä¹‹åçš„ç¬¬ä¸€æ­¥å·¥ä½œã€‚</li><li>å…¸å‹æ¨¡å¼<ul><li>Factory Method</li><li>Abstract Factory</li><li>Prototype</li><li>Builder  </li></ul></li></ul><h3 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><ul><li>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œç»å¸¸é¢ä¸´ç€åˆ›å»ºå¯¹è±¡çš„å·¥ä½œï¼›ç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œéœ€è¦åˆ›å»ºçš„å¯¹è±¡çš„å…·ä½“ç±»å‹ç»å¸¸å˜åŒ–ã€‚</li><li>å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–ï¼Ÿå¦‚ä½•ç»•è¿‡å¸¸è§„çš„å¯¹è±¡åˆ›å»ºæ–¹æ³•(new)ï¼Œæä¾›ä¸€ç§â€œå°è£…æœºåˆ¶â€æ¥é¿å…å®¢æˆ·ç¨‹åºå’Œè¿™ç§â€œå…·ä½“å¯¹è±¡åˆ›å»ºå·¥ä½œâ€çš„ç´§è€¦åˆï¼Ÿ</li></ul><h3 id="æ¨¡å¼å®šä¹‰"><a href="#æ¨¡å¼å®šä¹‰" class="headerlink" title="æ¨¡å¼å®šä¹‰"></a>æ¨¡å¼å®šä¹‰</h3><p>å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ã€‚Factory Methodä½¿å¾—ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿï¼ˆç›®çš„ï¼šè§£è€¦ï¼Œæ‰‹æ®µï¼šè™šå‡½æ•°ï¼‰åˆ°å­ç±»ã€‚</p><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><h4 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h4><p>è¿˜è®°å¾—åœ¨è®²<a href="https://18wanttobesinger.github.io/2020/06/08/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/#more">è§‚å¯Ÿè€…æ¨¡å¼</a>çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„éœ€æ±‚æ˜¯å®ç°å°†å¤§æ–‡ä»¶åˆ†å‰²æˆè‹¥å¹²çš„å°æ–‡ä»¶ã€‚æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹å®ç°ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainForm</span> :</span> <span class="keyword">public</span> Form, <span class="keyword">public</span> IProgress</span><br><span class="line">&#123;</span><br><span class="line">    TextBox* txtFilePath;</span><br><span class="line">    TextBox* txtFileNumber;</span><br><span class="line"></span><br><span class="line">    ProgressBar* progressBar;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Button1_Click</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="built_in">string</span> filePath = txtFilePath-&gt;getText();</span><br><span class="line">        <span class="keyword">int</span> number = atoi(txtFileNumber-&gt;getText().c_str());</span><br><span class="line"></span><br><span class="line">        FileSplitter* splitter = <span class="keyword">new</span> FileSplitter(filePath, number);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œæˆ‘ä»¬åˆ›å»ºå¯¹è±¡çš„æ–¹å¼æ˜¯ç›´æ¥newçš„è¿™ä¸ªå¯¹è±¡ã€‚é‚£ä¹ˆæˆ‘ä»¬çŸ¥é“æ ¹æ®é¢å‘æ¥å£ç¼–ç¨‹åŸåˆ™ï¼Œå½“æˆ‘ä»¬éœ€è¦å¯¹ä¸€ä¸ªç±»è¿›è¡Œåˆ†ç±»æ‰©å±•æ—¶ï¼Œå¯¹è±¡çš„ç±»å‹ï¼Œæˆ‘ä»¬åº”è¯¥å°†å…¶å£°æ˜ä¸º<strong>æŠ½è±¡ç±»</strong>æˆ–è€…<strong>æ¥å£</strong>ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¿™ä¹ˆåšï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ISplitter</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">split</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">virtual</span> ~ISplitter()&#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinarySplitter</span>:</span> <span class="keyword">public</span> ISplitter&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TxtSplitter</span>:</span> <span class="keyword">public</span> ISplitter&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PictureSplitter</span>:</span> <span class="keyword">public</span> ISplitter&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VideoSplitter</span>:</span> <span class="keyword">public</span> ISplitter&#123;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ¯ä¸ªISplitterçš„å­ç±»éƒ½æœ‰å…¶å…·ä½“çš„å®ç°ã€‚é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥è¿™ä¹ˆåˆ›å»ºå¯¹è±¡ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ISplitter* splitter1 = <span class="keyword">new</span> BinarySplitter(filePath, number);</span><br><span class="line">ISplitter* splitter2 = <span class="keyword">new</span> TxtSplitter(filePath, number);</span><br><span class="line">ISplitter* splitter3 = <span class="keyword">new</span> PictureSplitter(filePath, number);</span><br><span class="line">ISplitter* splitter4 = <span class="keyword">new</span> VideoSplitter(filePath, number);</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆæ ¹æ®<strong>ä¾èµ–å€’ç½®åŸåˆ™</strong>ï¼š<strong>æˆ‘ä»¬åº”è¯¥ä¾èµ–æŠ½è±¡ï¼Œä¸è¯¥ä¾èµ–å®ç°ç»†èŠ‚</strong>ã€‚å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„åˆ›å»ºå®ä¾‹ä»£ç ï¼Œå·¦è¾¹æˆ‘ä»¬å®šä¹‰çš„æ˜¯æŠ½è±¡ç±»å‹ï¼Œä½†æ˜¯å³è¾¹æˆ‘ä»¬è¿˜æ˜¯è¦ä¾èµ–å®ç°ç»†èŠ‚ã€‚æˆ‘ä»¬çŸ¥é“ä¸Šé¢ä»£ç åˆ›å»ºå¯¹è±¡æˆ‘ä»¬éƒ½ä½¿ç”¨çš„<code>new</code>å…³é”®å­—ï¼Œé‚£ä¹ˆæˆ‘ä¹ˆå¦‚ä½•ç»•å¼€<code>new</code>ï¼Œæ¥é¿å…å¯¹è±¡åˆ›å»ºï¼ˆnewï¼‰è¿‡ç¨‹ä¸­æ‰€å¯¼è‡´çš„ç´§è€¦åˆï¼ˆä¾èµ–å…·ä½“ç±»ï¼‰ï¼Œä»è€Œæ”¯æŒå¯¹è±¡åˆ›å»ºçš„ç¨³å®šå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªå·¥å‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SplitterFactory</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ISplitter <span class="title">createSplitter</span><span class="params">(...)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BinarySplitter(...);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">... </span><br><span class="line">SplitterFactory factory;</span><br><span class="line">SpliterFactory* sp = factory.createSplitter(...);</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¯•å›¾ä»¥æ–¹æ³•çš„å½¢å¼åˆ›å»ºå¯¹è±¡ï¼Œä½†æ˜¯å¯ä»¥å‘ç°ï¼Œè¿˜æ˜¯æ— æ³•è„±ç¦»<code>new</code>çš„ â€œé­”çˆªâ€ ã€‚æˆ‘ä»¬è¿˜æ˜¯ä¾èµ–ç€å…·ä½“å®ç°â€¦ é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿä»”ç»†æƒ³æƒ³ï¼Œæˆ‘ä»¬ä¸Šé¢ç›´æ¥åˆ›å»ºå¯¹è±¡éƒ½æ˜¯ç¼–è¯‘æ—¶ä¾èµ–ï¼Œèƒ½ä¸èƒ½å°†å®ƒè½¬æ¢æˆè¿è¡Œæ—¶ä¾èµ–å‘¢ï¼Ÿ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ISplitter</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">split</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">virtual</span> ~ISplitter()&#123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SplitterFactory</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter <span class="title">createSplitter</span><span class="params">(...)</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">virtual</span> ~SplitterFactory()&#123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">// æˆ‘ä»¬åˆ›å»ºæŒ‡é’ˆ</span></span><br><span class="line">SplitterFactory* factory;</span><br><span class="line"><span class="comment">// çœŸæ­£åˆ›å»ºå¯¹è±¡æ—¶äº¤ç»™æœªæ¥ (factory)</span></span><br><span class="line">ISplitter* splitter = factory-&gt;createSplitter();</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>é’ˆå¯¹è¦åˆ›å»ºçš„å…·ä½“å¯¹è±¡ï¼Œæˆ‘ä»¬åˆ†åˆ«å®šä¹‰å…¶ç”Ÿäº§è¯¥ç±»å‹å¯¹è±¡çš„å·¥å‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinarySplitterFactory</span>:</span> <span class="keyword">public</span> SplitterFactory&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> ISplitter <span class="title">createSplitter</span><span class="params">(...)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BinarySplitter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å…¶ä»–ç±»å’Œä¸Šè¿°ç›¸ä¼¼</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸€ä¸ªå…·ä½“çš„ç±»ï¼Œéƒ½æœ‰å…¶å¯¹åº”çš„å·¥å‚ã€‚é‚£ä¹ˆä½ çœ‹åˆ°è¿™é‡Œä¹Ÿè®¸å¾ˆæ‡µï¼Œè¿™æ ·è§£å†³äº†æˆ‘ä»¬åŸå…ˆé‡åˆ°çš„é—®é¢˜äº†å—ï¼Ÿè¯·ç»§ç»­çœ‹ä¸‹é¢çš„ä»£ç æ”¹è¿›ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainForm</span> :</span> <span class="keyword">public</span> Form &#123;</span><br><span class="line">    SplitterFactory* factory;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// å…·ä½“è¦åˆ›å»ºå¯¹è±¡çš„å·¥å‚æ˜¯éœ€è¦ä¼ å…¥çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦ä»€ä¹ˆå¯¹è±¡å°±ä¼ è¯¥å¯¹è±¡çš„å·¥å‚å³å¯</span></span><br><span class="line">    MainForm(SplitterFactory* factory) &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;factory = factory;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Button_Click</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ISplitter* sp = factory-&gt;createSplitter(); <span class="comment">// å¤šæ€</span></span><br><span class="line">        sp-&gt;split();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°MainFormä¸­å·²ç»æå¤§ç¨‹åº¦çš„é™ä½äº†ä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿé‡Œé¢çš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯æŠ½è±¡çš„ã€‚ä¾èµ–æ˜¯ä¸æ˜¯å·²ç»é™ä½äº†å‘¢ï¼Ÿ</p><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Factory Methodæ¨¡å¼ç”¨äºéš”ç¦»ç±»å¯¹è±¡çš„ä½¿ç”¨è€…å’Œå…·ä½“ç±»å‹ä¹‹é—´çš„ è€¦åˆå…³ç³»ã€‚é¢å¯¹ä¸€ä¸ªç»å¸¸å˜åŒ–çš„å…·ä½“ç±»å‹ï¼Œç´§è€¦åˆå…³ç³»(new)ä¼šå¯¼ è‡´è½¯ä»¶çš„è„†å¼±ã€‚</li><li>Factory Methodæ¨¡å¼é€šè¿‡é¢å‘å¯¹è±¡çš„æ‰‹æ³•ï¼Œå°†æ‰€è¦<strong>åˆ›å»ºçš„å…·ä½“å¯¹ è±¡å·¥ä½œå»¶è¿Ÿåˆ°å­ç±»</strong>ï¼Œä»è€Œå®ç°ä¸€ç§æ‰©å±•ï¼ˆè€Œéæ›´æ”¹ï¼‰çš„ç­–ç•¥ï¼Œè¾ƒå¥½åœ°è§£å†³äº†è¿™ç§ç´§è€¦åˆå…³ç³»ã€‚</li><li>Factory Methodæ¨¡å¼è§£å†³â€œå•ä¸ªå¯¹è±¡â€çš„éœ€æ±‚å˜åŒ–ã€‚ç¼ºç‚¹åœ¨äºè¦ æ±‚åˆ›å»ºæ–¹æ³•/å‚æ•°ç›¸åŒã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;æ„¿ä¸–é—´çš„ç¾å¥½ï¼Œä¸ä½ ç¯ç¯ç›¸æ‰£ã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://18wanttobesinger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>æ¡¥æ¥æ¨¡å¼</title>
    <link href="https://18wanttobesinger.github.io/2020/06/11/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/"/>
    <id>https://18wanttobesinger.github.io/2020/06/11/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-06-11T08:30:35.000Z</published>
    <updated>2020-06-17T14:57:27.825Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¿˜æ‰ç§è¿‡çš„èŠ± å»çˆ±æœ‰ç»“æœçš„æ ‘.</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="æ¡¥æ¥æ¨¡å¼"><a href="#æ¡¥æ¥æ¨¡å¼" class="headerlink" title="æ¡¥æ¥æ¨¡å¼"></a>æ¡¥æ¥æ¨¡å¼</h2><h3 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><ul><li>ç”±äºæŸäº›ç±»å‹çš„å›ºæœ‰çš„å®ç°é€»è¾‘ï¼Œä½¿å¾—å®ƒä»¬å…·æœ‰ä¸¤ä¸ªå˜åŒ–çš„ç»´åº¦ï¼Œ ä¹ƒè‡³å¤šä¸ªçº¬åº¦çš„å˜åŒ–ã€‚ </li><li>å¦‚ä½•åº”å¯¹è¿™ç§â€œå¤šç»´åº¦çš„å˜åŒ–â€ï¼Ÿå¦‚ä½•åˆ©ç”¨é¢å‘å¯¹è±¡æŠ€æœ¯æ¥ä½¿å¾—ç±»å‹å¯ä»¥è½»æ¾åœ°æ²¿ç€ä¸¤ä¸ªä¹ƒè‡³å¤šä¸ªæ–¹å‘å˜åŒ–ï¼Œè€Œä¸å¼•å…¥é¢å¤–çš„å¤æ‚åº¦ï¼Ÿ </li></ul><h3 id="æ¨¡å¼å®šä¹‰"><a href="#æ¨¡å¼å®šä¹‰" class="headerlink" title="æ¨¡å¼å®šä¹‰"></a>æ¨¡å¼å®šä¹‰</h3><ul><li>å°†<strong>æŠ½è±¡éƒ¨åˆ†</strong>(ä¸šåŠ¡åŠŸèƒ½)ä¸<strong>å®ç°éƒ¨åˆ†</strong>(å¹³å°å®ç°)åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚ </li></ul><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><h4 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h4><p>ç°æœ‰Messagerç±»ï¼Œéœ€è¦å®ƒåœ¨ä¸åŒå¹³å°ä¸Šå®ç°ç›¸åº”çš„åŠŸèƒ½ï¼Œå¦‚ï¼šPCç«¯ï¼Œç§»åŠ¨ç«¯ç­‰ç­‰ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Messager</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ä»¥ä¸‹ä¸‰ä¸ªåŠŸèƒ½æ˜¯Messageråœ¨ä¸åŒå¹³å°ä¸Šæœ‰ç›¸åŒå®ç°: æŠ½è±¡éƒ¨åˆ†</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">string</span> username, <span class="built_in">string</span> password)</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">string</span> message)</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image <span class="built_in">image</span>)</span></span>=<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä»¥ä¸‹åŠŸèƒ½æ˜¯Messageråœ¨ä¸åŒå¹³å°ä¸Šæœ‰ä¸åŒå®ç°: å®ç°éƒ¨åˆ†</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PlaySound</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DrawShape</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">WriteText</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Connect</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">virtual</span> ~Messager()&#123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// PCç«¯å®ç°</span></span><br><span class="line"><span class="keyword">public</span> PCMessagerBase: <span class="keyword">public</span> Messager&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PlaySound</span><span class="params">()</span></span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DrawShape</span><span class="params">()</span></span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">WriteText</span><span class="params">()</span></span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Connect</span><span class="params">()</span></span>&#123; ... &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ç§»åŠ¨ç«¯å®ç°</span></span><br><span class="line"><span class="keyword">public</span> MobileMessagerBase: <span class="keyword">public</span> Messager&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PlaySound</span><span class="params">()</span></span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DrawShape</span><span class="params">()</span></span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">WriteText</span><span class="params">()</span></span>&#123; ... &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Connect</span><span class="params">()</span></span>&#123; ... &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®ç°æ ‡å‡†çš„å…·ä½“å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ‡å‡†ç‰ˆ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PCMessagerLite</span>:</span> <span class="keyword">public</span> PCMessagerBase&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">string</span> username, <span class="built_in">string</span> password)</span> </span>&#123;</span><br><span class="line">        PCMessagerBase::Connect();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">string</span> message)</span> </span>&#123;</span><br><span class="line">        PCMessagerBase::WriteText();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image <span class="built_in">image</span>)</span> </span>&#123;</span><br><span class="line">        PCMessagerBase::DrawShape();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å®Œç¾ç‰ˆ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PCMessagerPerfect</span>:</span> <span class="keyword">public</span> PCMessagerBase&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">string</span> username, <span class="built_in">string</span> password)</span> </span>&#123;</span><br><span class="line">        PCMessagerBase::PlaySound();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        PCMessagerBase::Connect();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">string</span> message)</span> </span>&#123;</span><br><span class="line">        PCMessagerBase::PlaySound();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        PCMessagerBase::WriteText();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image <span class="built_in">image</span>)</span> </span>&#123;</span><br><span class="line">        PCMessagerBase::PlaySound();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        PCMessagerBase::DrawShape();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// åŒæ ·ï¼šMobileç‰ˆæœ¬ä¹Ÿå’ŒPCç«¯ç±»ä¼¼</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Process</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç¼–è¯‘æ—¶è£…é…</span></span><br><span class="line">    Messager* messager = <span class="keyword">new</span> MobileMessagerPerfect();</span><br><span class="line">    Messager* messager = <span class="keyword">new</span> PCMessagerPerfect();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¹æ®ä¸Šä¸€æ¬¡è¯´çš„è£…é¥°ç€æ¨¡å¼ï¼Œè¿™ç±»æƒ…å†µä¹Ÿæ˜¯ç”±äºç»§æ‰¿æ‰€äº§ç”Ÿçš„ä»£ç å¤§é‡å†—ä½™ã€‚æ¯æ¬¡å¢åŠ åŠŸèƒ½æ—¶éƒ½ä¼šäº§ç”Ÿå¤§é‡çš„ç±»ã€‚è¿˜è®°å¾—æˆ‘ä»¬ä¸ŠèŠ‚è¯´è¿‡çš„å—ï¼Ÿæˆ‘ä»¬å¯ä»¥å°†ç»§æ‰¿çˆ¶ç±»ä¿®æ”¹ä¸ºå°†çˆ¶ç±»å˜æˆå­—æ®µæ¥è°ƒç”¨ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ PCMessagerLite ä¸ºä¾‹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PCMessagerLite</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    MessagerBase* messager; <span class="comment">// new PCMessagerBase() || new MoblieMessagerBase()</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">string</span> username, <span class="built_in">string</span> password)</span> </span>&#123;</span><br><span class="line">        messager-&gt;Connect();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">string</span> message)</span> </span>&#123;</span><br><span class="line">        messager-&gt;WriteText();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image <span class="built_in">image</span>)</span> </span>&#123;</span><br><span class="line">        messager-&gt;DrawShape();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å½“ç»è¿‡äº†ä¸Šé¢æ”¹è¿›ä¹‹åï¼Œæˆ‘ä»¬å‘ç°å±æ€§messagerå¯ä»¥æ˜¯PCMessagerBaseæˆ–è€…MoblieMessagerBaseï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†PCMessagerLiteå’ŒMobileMessagerLiteåˆæˆä¸€ä¸ªç›¸åŒçš„ç±»MessagerLiteï¼Œå› ä¸ºä¸¤è€…ç»è¿‡ä¿®æ”¹åå®ç°éƒ½ä¸€æ ·ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessagerLite</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Messager* messager; <span class="comment">// new PCMessagerBase() || new MoblieMessagerBase()</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">string</span> username, <span class="built_in">string</span> password)</span> </span>&#123;</span><br><span class="line">        messager-&gt;Connect();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">string</span> message)</span> </span>&#123;</span><br><span class="line">        messager-&gt;WriteText();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image <span class="built_in">image</span>)</span> </span>&#123;</span><br><span class="line">        messager-&gt;DrawShape();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è¿™é‡Œè´´å‡ºPerfectç‰ˆæœ¬</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessagerPerfect</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Messager* messager; <span class="comment">// new PCMessagerBase() || new MoblieMessagerBase()</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">string</span> username, <span class="built_in">string</span> password)</span> </span>&#123;</span><br><span class="line">        messager-&gt;PlaySound();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        messager-&gt;Connect();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">string</span> message)</span> </span>&#123;</span><br><span class="line">        messager-&gt;PlaySound();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        messager-&gt;WriteText();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image <span class="built_in">image</span>)</span> </span>&#123;</span><br><span class="line">        messager-&gt;PlaySound();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        messager-&gt;DrawShape();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ•é”çš„å‘ç°ï¼ŒMessagerLite å’Œ MessagerPerfect ä¸¤è€…éƒ½åªéœ€è¦å®ç°ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå¦å¤–æ¥è‡ªMessagerçš„å››ä¸ªæŠ½è±¡æŠ½è±¡æ–¹æ³•æˆ‘ä»¬ä¸éœ€è¦å®ç°ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å¯ä»¥å¯¹Messagerè¿›è¡Œæ‹†åˆ†ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Messager</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ä»¥ä¸‹ä¸‰ä¸ªåŠŸèƒ½æ˜¯Messageråœ¨ä¸åŒå¹³å°ä¸Šæœ‰ç›¸åŒå®ç°</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">string</span> username, <span class="built_in">string</span> password)</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">string</span> message)</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image <span class="built_in">image</span>)</span></span>=<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">virtual</span> ~Messager()&#123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessagerImp</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ä»¥ä¸‹åŠŸèƒ½æ˜¯Messageråœ¨ä¸åŒå¹³å°ä¸Šæœ‰ä¸åŒå®ç°</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">PlaySound</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">DrawShape</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">WriteText</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Connect</span><span class="params">()</span></span>=<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">virtual</span> ~Messager()&#123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PCMessagerBase</span> :</span> <span class="keyword">public</span> MessagerImp &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MobileMessagerBase</span> :</span> <span class="keyword">public</span> MessagerImp &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessagerLite</span> :</span> <span class="keyword">public</span> Messager &#123;</span><br><span class="line">    MessagerImp* messagerImp;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessagerPerfect</span> :</span> <span class="keyword">public</span> Messager &#123;</span><br><span class="line">    MessagerImp* messagerImp;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç° MessagerLite å’Œ  MessagerPerfectæ‹¥æœ‰ç›¸åŒçš„å­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å°†è¯¥å­—æ®µå‘ä¸Šå±‚<strong>è½¬ç§»</strong>ï¼Œå°†ä¸¤ä¸ªç±»ä¸­ç›¸åŒçš„å­—æ®µå–æ¶ˆæ‰ï¼Œç„¶åå°†å­—æ®µå†™åœ¨Messagerä¸­ï¼š</p><figure class="highlight c"><figcaption><span>++</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Messager</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    MessagerImp* messagerImp;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ä»¥ä¸‹ä¸‰ä¸ªåŠŸèƒ½æ˜¯Messageråœ¨ä¸åŒå¹³å°ä¸Šæœ‰ç›¸åŒå®ç°</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Login</span><span class="params">(<span class="built_in">string</span> username, <span class="built_in">string</span> password)</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="built_in">string</span> message)</span></span>=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">SendPicture</span><span class="params">(Image <span class="built_in">image</span>)</span></span>=<span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">virtual</span> ~Messager()&#123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessagerLite</span> :</span> <span class="keyword">public</span> Messager &#123;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MessagerPerfect</span> :</span> <span class="keyword">public</span> Messager &#123;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Process</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    MessagerImp* mImp1 = <span class="keyword">new</span> PCMessagerImp();</span><br><span class="line">    MessagerImp* mImp2 = <span class="keyword">new</span> MobileMessagerImp();</span><br><span class="line">    Messager*    m1    = <span class="keyword">new</span> messager(mImp1);</span><br><span class="line">    Messager*    m2    = <span class="keyword">new</span> messager(mImp2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¦ç‚¹æ€»ç»“"><a href="#è¦ç‚¹æ€»ç»“" class="headerlink" title="è¦ç‚¹æ€»ç»“"></a>è¦ç‚¹æ€»ç»“</h3><ul><li>Bridgeæ¨¡å¼ä½¿ç”¨â€œ<strong>å¯¹è±¡é—´çš„ç»„åˆå…³ç³»</strong>â€è§£è€¦äº†<strong>æŠ½è±¡å’Œå®ç°</strong>ä¹‹é—´å›º æœ‰çš„ç»‘å®šå…³ç³»ï¼Œä½¿å¾—æŠ½è±¡å’Œå®ç°å¯ä»¥æ²¿ç€å„è‡ªçš„ç»´åº¦æ¥å˜åŒ–ã€‚æ‰€è°“ æŠ½è±¡å’Œå®ç°æ²¿ç€å„è‡ªçº¬åº¦çš„å˜åŒ–ï¼Œå³â€œå­ç±»åŒ–â€å®ƒä»¬ã€‚ </li><li>Bridgeæ¨¡å¼æœ‰æ—¶å€™ç±»ä¼¼äºå¤šç»§æ‰¿æ–¹æ¡ˆï¼Œä½†æ˜¯å¤šç»§æ‰¿æ–¹æ¡ˆå¾€å¾€è¿èƒŒ å•ä¸€èŒè´£åŸåˆ™ï¼ˆå³ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå˜åŒ–çš„åŸå› ï¼‰ï¼Œå¤ç”¨æ€§æ¯”è¾ƒå·®ã€‚ Bridgeæ¨¡å¼æ˜¯æ¯”å¤šç»§æ‰¿æ–¹æ¡ˆæ›´å¥½çš„è§£å†³æ–¹æ³•ã€‚ </li><li>Bridgeæ¨¡å¼çš„åº”ç”¨ä¸€èˆ¬åœ¨â€œä¸¤ä¸ªéå¸¸å¼ºçš„å˜åŒ–ç»´åº¦â€ï¼Œæœ‰æ—¶ä¸€ä¸ª ç±»ä¹Ÿæœ‰å¤šäºä¸¤ä¸ªçš„å˜åŒ–ç»´åº¦ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨Bridgeçš„æ‰©å±•æ¨¡å¼ã€‚ </li></ul>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;å¿˜æ‰ç§è¿‡çš„èŠ± å»çˆ±æœ‰ç»“æœçš„æ ‘.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="https://18wanttobesinger.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
</feed>
