<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Fluoxetine</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="penghui.club/"/>
  <updated>2020-07-21T13:54:55.334Z</updated>
  <id>penghui.club/</id>
  
  <author>
    <name>Fluoxetine</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>RedisåŸºæœ¬å‘½ä»¤</title>
    <link href="penghui.club/2020/07/21/Redis%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/"/>
    <id>penghui.club/2020/07/21/Redis%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/</id>
    <published>2020-07-21T09:35:34.000Z</published>
    <updated>2020-07-21T13:54:55.334Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p> å¦‚æœä½ å‡ºäº‹äº†ï¼Œæˆ‘çš„å‘½èƒ½æ•‘ä½ ï¼Œæˆ‘ä¼šè±ªä¸çŠ¹è±«ï¼Œä½†æ˜¯å¦‚æœä½ å¥½å¥½çš„ï¼Œæˆ‘ä¸æ„¿åœ¨çœ‹ä½ ä¸€çœ¼ </p><p>â€‹                                                                        â€”â€“ ã€Šæ— å¿ƒæ–—è‰³ã€‹</p></blockquote><a id="more"></a><h2 id="RedisåŸºæœ¬å‘½ä»¤"><a href="#RedisåŸºæœ¬å‘½ä»¤" class="headerlink" title="RedisåŸºæœ¬å‘½ä»¤"></a>RedisåŸºæœ¬å‘½ä»¤</h2><p>Redis æ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰çš„ï¼Œ==å†…å­˜==ä¸­çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜å’Œæ¶ˆæ¯ä¸­é—´ä»¶ã€‚ å®ƒæ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¦‚ <a href="http://redis.cn/topics/data-types-intro.html#strings" target="_blank" rel="noopener">å­—ç¬¦ä¸²ï¼ˆstringsï¼‰</a>ï¼Œ <a href="http://redis.cn/topics/data-types-intro.html#hashes" target="_blank" rel="noopener">æ•£åˆ—ï¼ˆhashesï¼‰</a>ï¼Œ <a href="http://redis.cn/topics/data-types-intro.html#lists" target="_blank" rel="noopener">åˆ—è¡¨ï¼ˆlistsï¼‰</a>ï¼Œ <a href="http://redis.cn/topics/data-types-intro.html#sets" target="_blank" rel="noopener">é›†åˆï¼ˆsetsï¼‰</a>ï¼Œ <a href="http://redis.cn/topics/data-types-intro.html#sorted-sets" target="_blank" rel="noopener">æœ‰åºé›†åˆï¼ˆsorted setsï¼‰</a> ä¸èŒƒå›´æŸ¥è¯¢ï¼Œ <a href="http://redis.cn/topics/data-types-intro.html#bitmaps" target="_blank" rel="noopener">bitmaps</a>ï¼Œ <a href="http://redis.cn/topics/data-types-intro.html#hyperloglogs" target="_blank" rel="noopener">hyperloglogs</a> å’Œ <a href="http://redis.cn/commands/geoadd.html" target="_blank" rel="noopener">åœ°ç†ç©ºé—´ï¼ˆgeospatialï¼‰</a> ç´¢å¼•åŠå¾„æŸ¥è¯¢ã€‚ Redis å†…ç½®äº† <a href="http://redis.cn/topics/replication.html" target="_blank" rel="noopener">å¤åˆ¶ï¼ˆreplicationï¼‰</a>ï¼Œ<a href="http://redis.cn/commands/eval.html" target="_blank" rel="noopener">LUAè„šæœ¬ï¼ˆLua scriptingï¼‰</a>ï¼Œ <a href="http://redis.cn/topics/lru-cache.html" target="_blank" rel="noopener">LRUé©±åŠ¨äº‹ä»¶ï¼ˆLRU evictionï¼‰</a>ï¼Œ<a href="http://redis.cn/topics/transactions.html" target="_blank" rel="noopener">äº‹åŠ¡ï¼ˆtransactionsï¼‰</a> å’Œä¸åŒçº§åˆ«çš„ <a href="http://redis.cn/topics/persistence.html" target="_blank" rel="noopener">ç£ç›˜æŒä¹…åŒ–ï¼ˆpersistenceï¼‰</a>ï¼Œ å¹¶é€šè¿‡ <a href="http://redis.cn/topics/sentinel.html" target="_blank" rel="noopener">Rediså“¨å…µï¼ˆSentinelï¼‰</a>å’Œè‡ªåŠ¨ <a href="http://redis.cn/topics/cluster-tutorial.html" target="_blank" rel="noopener">åˆ†åŒºï¼ˆClusterï¼‰</a>æä¾›é«˜å¯ç”¨æ€§ï¼ˆhigh availabilityï¼‰ã€‚ </p><h3 id="çƒ­èº«è¿åŠ¨"><a href="#çƒ­èº«è¿åŠ¨" class="headerlink" title="çƒ­èº«è¿åŠ¨"></a>çƒ­èº«è¿åŠ¨</h3><h4 id="éªŒè¯å¯†ç "><a href="#éªŒè¯å¯†ç " class="headerlink" title="éªŒè¯å¯†ç "></a>éªŒè¯å¯†ç </h4><p>å½“æˆ‘ä»¬å¯åŠ¨redisæ—¶ï¼Œå¦‚æœæˆ‘ä»¬è®¾ç½®äº†ç™»é™†å¯†ç ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>auth</code>å‘½ä»¤æ¥éªŒè¯ç™»é™†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">auth password</span><br></pre></td></tr></table></figure><h4 id="åˆ¤æ–­æ˜¯å¦å­˜åœ¨key"><a href="#åˆ¤æ–­æ˜¯å¦å­˜åœ¨key" class="headerlink" title="åˆ¤æ–­æ˜¯å¦å­˜åœ¨key:"></a>åˆ¤æ–­æ˜¯å¦å­˜åœ¨<code>key</code>:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exists key</span><br></pre></td></tr></table></figure><h4 id="é€‰æ‹©æ•°æ®åº“"><a href="#é€‰æ‹©æ•°æ®åº“" class="headerlink" title="é€‰æ‹©æ•°æ®åº“"></a>é€‰æ‹©æ•°æ®åº“</h4><p>redisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“ï¼Œå¯ä½¿ç”¨<code>select</code>å‘½ä»¤é€‰æ‹©æ•°æ®åº“ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 1&#x2F;2&#x2F;3...</span><br></pre></td></tr></table></figure><h4 id="æ¸…ç©º"><a href="#æ¸…ç©º" class="headerlink" title="æ¸…ç©º"></a>æ¸…ç©º</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flushdb</span><br></pre></td></tr></table></figure><h4 id="è·å–æ‰€æœ‰keyï¼š"><a href="#è·å–æ‰€æœ‰keyï¼š" class="headerlink" title="è·å–æ‰€æœ‰keyï¼š"></a>è·å–æ‰€æœ‰<code>key</code>ï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keys *</span><br></pre></td></tr></table></figure><h4 id="è·å–keyå¯¹åº”çš„å­˜å‚¨ç±»å‹"><a href="#è·å–keyå¯¹åº”çš„å­˜å‚¨ç±»å‹" class="headerlink" title="è·å–keyå¯¹åº”çš„å­˜å‚¨ç±»å‹"></a>è·å–keyå¯¹åº”çš„å­˜å‚¨ç±»å‹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type key</span><br></pre></td></tr></table></figure><h4 id="è®¾ç½®é”®å€¼è¶…æ—¶æ—¶é—´"><a href="#è®¾ç½®é”®å€¼è¶…æ—¶æ—¶é—´" class="headerlink" title="è®¾ç½®é”®å€¼è¶…æ—¶æ—¶é—´"></a>è®¾ç½®é”®å€¼è¶…æ—¶æ—¶é—´</h4><p>å¯ä»¥å¤šæ¬¡è°ƒç”¨è¿™ä¸ªå‘½ä»¤æ”¹å˜è¶…æ—¶æ—¶é—´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expire key time</span><br></pre></td></tr></table></figure><h4 id="è·å–keyå‰©ä½™å­˜æ´»æ—¶é—´"><a href="#è·å–keyå‰©ä½™å­˜æ´»æ—¶é—´" class="headerlink" title="è·å–keyå‰©ä½™å­˜æ´»æ—¶é—´"></a>è·å–keyå‰©ä½™å­˜æ´»æ—¶é—´</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ttl key</span><br></pre></td></tr></table></figure><h4 id="é€€å‡º"><a href="#é€€å‡º" class="headerlink" title="é€€å‡º"></a>é€€å‡º</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutdown --&gt; exit</span><br></pre></td></tr></table></figure><h3 id="Stringï¼ˆå­—ç¬¦ä¸²ï¼‰"><a href="#Stringï¼ˆå­—ç¬¦ä¸²ï¼‰" class="headerlink" title="Stringï¼ˆå­—ç¬¦ä¸²ï¼‰"></a>Stringï¼ˆå­—ç¬¦ä¸²ï¼‰</h3><h4 id="è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹å„¿"><a href="#è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹å„¿" class="headerlink" title="è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹å„¿"></a>è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹å„¿</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set key value</span><br></pre></td></tr></table></figure><h4 id="è·å–é”®çš„å€¼"><a href="#è·å–é”®çš„å€¼" class="headerlink" title="è·å–é”®çš„å€¼"></a>è·å–é”®çš„å€¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get key</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤é”®å€¼å¯¹"><a href="#åˆ é™¤é”®å€¼å¯¹" class="headerlink" title="åˆ é™¤é”®å€¼å¯¹"></a>åˆ é™¤é”®å€¼å¯¹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">del key1 key2 key3</span><br></pre></td></tr></table></figure><h4 id="å¯¹å­—ç¬¦ä¸²æˆªå–"><a href="#å¯¹å­—ç¬¦ä¸²æˆªå–" class="headerlink" title="å¯¹å­—ç¬¦ä¸²æˆªå–"></a>å¯¹å­—ç¬¦ä¸²æˆªå–</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">getrange key start end</span><br><span class="line">getrange key 0 -1</span><br></pre></td></tr></table></figure><h4 id="å¯¹æ•°å­—å­—ç¬¦ä¸²é€’å¢ã€é€’å‡"><a href="#å¯¹æ•°å­—å­—ç¬¦ä¸²é€’å¢ã€é€’å‡" class="headerlink" title="å¯¹æ•°å­—å­—ç¬¦ä¸²é€’å¢ã€é€’å‡"></a>å¯¹æ•°å­—å­—ç¬¦ä¸²é€’å¢ã€é€’å‡</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set cnt 100</span><br><span class="line">incr cnt    # cnt + 1</span><br><span class="line">decr cnt    # cnt - 1</span><br></pre></td></tr></table></figure><h4 id="è®¾ç½®é€’å¢çš„æ­¥é•¿"><a href="#è®¾ç½®é€’å¢çš„æ­¥é•¿" class="headerlink" title="è®¾ç½®é€’å¢çš„æ­¥é•¿"></a>è®¾ç½®é€’å¢çš„æ­¥é•¿</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">incrby cnt 3    # cnt + 3</span><br><span class="line">decrby cnt 4    # cnt - 4</span><br></pre></td></tr></table></figure><h4 id="å­˜å‚¨å¤šä¸ªé”®å€¼"><a href="#å­˜å‚¨å¤šä¸ªé”®å€¼" class="headerlink" title="å­˜å‚¨å¤šä¸ªé”®å€¼"></a>å­˜å‚¨å¤šä¸ªé”®å€¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mset k1 v1 k2 v2 k3 v3</span><br></pre></td></tr></table></figure><h4 id="è·å–å¤šä¸ªé”®å€¼"><a href="#è·å–å¤šä¸ªé”®å€¼" class="headerlink" title="è·å–å¤šä¸ªé”®å€¼"></a>è·å–å¤šä¸ªé”®å€¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mget k1 k2 k3</span><br></pre></td></tr></table></figure><h4 id="å‘å°¾éƒ¨è¿½åŠ å€¼"><a href="#å‘å°¾éƒ¨è¿½åŠ å€¼" class="headerlink" title="å‘å°¾éƒ¨è¿½åŠ å€¼"></a>å‘å°¾éƒ¨è¿½åŠ å€¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># key &#x3D; he</span><br><span class="line">append key llo</span><br><span class="line"># key &#x3D; hello</span><br></pre></td></tr></table></figure><h4 id="è·å–å­—ç¬¦ä¸²é•¿åº¦"><a href="#è·å–å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="è·å–å­—ç¬¦ä¸²é•¿åº¦"></a>è·å–å­—ç¬¦ä¸²é•¿åº¦</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strlen key</span><br></pre></td></tr></table></figure><h3 id="Listsï¼ˆåˆ—è¡¨ï¼‰"><a href="#Listsï¼ˆåˆ—è¡¨ï¼‰" class="headerlink" title="Listsï¼ˆåˆ—è¡¨ï¼‰"></a>Listsï¼ˆåˆ—è¡¨ï¼‰</h3><h4 id="å‘listæ·»åŠ æ–°å…ƒç´ "><a href="#å‘listæ·»åŠ æ–°å…ƒç´ " class="headerlink" title="å‘listæ·»åŠ æ–°å…ƒç´ "></a>å‘listæ·»åŠ æ–°å…ƒç´ </h4><h5 id="å‘listå¤´éƒ¨æ·»åŠ æ–°å…ƒç´ "><a href="#å‘listå¤´éƒ¨æ·»åŠ æ–°å…ƒç´ " class="headerlink" title="å‘listå¤´éƒ¨æ·»åŠ æ–°å…ƒç´ "></a><strong>å‘listå¤´éƒ¨æ·»åŠ æ–°å…ƒç´ </strong></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lpush list val1 val2 val3 ...</span><br></pre></td></tr></table></figure><h5 id="å‘listå°¾éƒ¨æ·»åŠ æ–°å…ƒç´ "><a href="#å‘listå°¾éƒ¨æ·»åŠ æ–°å…ƒç´ " class="headerlink" title="å‘listå°¾éƒ¨æ·»åŠ æ–°å…ƒç´ "></a><strong>å‘listå°¾éƒ¨æ·»åŠ æ–°å…ƒç´ </strong></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpush list val1 val2 val3 ...</span><br></pre></td></tr></table></figure><h5 id="æ›´æ”¹å·²å­˜åœ¨çš„listçš„ä¸‹æ ‡å€¼"><a href="#æ›´æ”¹å·²å­˜åœ¨çš„listçš„ä¸‹æ ‡å€¼" class="headerlink" title="æ›´æ”¹å·²å­˜åœ¨çš„listçš„ä¸‹æ ‡å€¼"></a>æ›´æ”¹å·²å­˜åœ¨çš„listçš„ä¸‹æ ‡å€¼</h5><p>listå¿…é¡»å­˜åœ¨ï¼Œä»¥åŠè¯¥ä¸‹æ ‡å¿…é¡»å·²ç»èµ‹è¿‡å€¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lset list index val</span><br><span class="line"></span><br><span class="line">lpush list val1</span><br><span class="line">lset list 0 item1</span><br></pre></td></tr></table></figure><h5 id="åœ¨listä¸­æ’å…¥å€¼"><a href="#åœ¨listä¸­æ’å…¥å€¼" class="headerlink" title="åœ¨listä¸­æ’å…¥å€¼"></a>åœ¨listä¸­æ’å…¥å€¼</h5><p>åœ¨listä¸­val1ä¹‹å‰/ä¹‹åæ’å…¥val2</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">linsert list before|after val1 val2</span><br></pre></td></tr></table></figure><h4 id="è·å–listä¸­çš„å…ƒç´ "><a href="#è·å–listä¸­çš„å…ƒç´ " class="headerlink" title="è·å–listä¸­çš„å…ƒç´ "></a>è·å–listä¸­çš„å…ƒç´ </h4><h5 id="æ ¹æ®ç´¢å¼•èŒƒå›´å–å€¼"><a href="#æ ¹æ®ç´¢å¼•èŒƒå›´å–å€¼" class="headerlink" title="æ ¹æ®ç´¢å¼•èŒƒå›´å–å€¼"></a>æ ¹æ®ç´¢å¼•èŒƒå›´å–å€¼</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lrange list start end</span><br><span class="line">lrange list 0 -1</span><br></pre></td></tr></table></figure><h5 id="æŒ‰ç…§ç´¢å¼•å–å€¼"><a href="#æŒ‰ç…§ç´¢å¼•å–å€¼" class="headerlink" title="æŒ‰ç…§ç´¢å¼•å–å€¼"></a>æŒ‰ç…§ç´¢å¼•å–å€¼</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lindex list index</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤å…ƒç´ "><a href="#åˆ é™¤å…ƒç´ " class="headerlink" title="åˆ é™¤å…ƒç´ "></a>åˆ é™¤å…ƒç´ </h4><p> ä»listä¸­åˆ é™¤å…ƒç´ å¹¶åŒæ—¶è¿”å›åˆ é™¤çš„å€¼ã€‚å¯ä»¥åœ¨å·¦è¾¹æˆ–å³è¾¹æ“ä½œã€‚ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpop list</span><br><span class="line">lpop list</span><br></pre></td></tr></table></figure><h4 id="æŠŠlistä»å·¦è¾¹æˆªæ–­æŒ‡å®šé•¿åº¦"><a href="#æŠŠlistä»å·¦è¾¹æˆªæ–­æŒ‡å®šé•¿åº¦" class="headerlink" title="æŠŠlistä»å·¦è¾¹æˆªæ–­æŒ‡å®šé•¿åº¦"></a>æŠŠlistä»å·¦è¾¹æˆªæ–­æŒ‡å®šé•¿åº¦</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; list: 1 2 3 4 5</span><br><span class="line">ltrim list 0 2</span><br><span class="line">&#x2F;&#x2F; list: 1 2 3</span><br></pre></td></tr></table></figure><h4 id="è·å–listé•¿åº¦"><a href="#è·å–listé•¿åº¦" class="headerlink" title="è·å–listé•¿åº¦"></a>è·å–listé•¿åº¦</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Llen list</span><br></pre></td></tr></table></figure><h4 id="ç§»é™¤å…ƒç´ "><a href="#ç§»é™¤å…ƒç´ " class="headerlink" title="ç§»é™¤å…ƒç´ "></a>ç§»é™¤å…ƒç´ </h4><p><code>list</code>å¯ä»¥å­˜åœ¨é‡å¤çš„å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŒ‡å®šåˆ é™¤å€¼å¾—æ•°é‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lrem list count val</span><br><span class="line"></span><br><span class="line">lrem list 2 &quot;abc&quot; # ä¼šç§»é™¤æ‰2ä¸ªlistä¸­å€¼ä¸ºabcçš„å€¼</span><br></pre></td></tr></table></figure><h4 id="ç§»é™¤æ·»åŠ "><a href="#ç§»é™¤æ·»åŠ " class="headerlink" title="ç§»é™¤æ·»åŠ "></a>ç§»é™¤æ·»åŠ </h4><p>ä»å³ä¾§ç§»é™¤ä¸€ä¸ªå…ƒç´ å¹¶æ–°å¢ä¸€ä¸ªå…ƒç´ åˆ°ä¸€ä¸ªæ–°çš„listä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">rpoplpush source destination</span><br><span class="line"></span><br><span class="line"># list1: 1 2 3 4</span><br><span class="line"># list2: </span><br><span class="line">rpoplpush list1 list2</span><br><span class="line"># list1: 1 2 3</span><br><span class="line"># list2: 4</span><br></pre></td></tr></table></figure><h3 id="Set-é›†åˆ"><a href="#Set-é›†åˆ" class="headerlink" title="Set(é›†åˆ)"></a>Set(é›†åˆ)</h3><p>seté‡Œé¢çš„å€¼ä¸å¯ä»¥é‡å¤</p><h4 id="æ·»åŠ å…ƒç´ "><a href="#æ·»åŠ å…ƒç´ " class="headerlink" title="æ·»åŠ å…ƒç´ "></a>æ·»åŠ å…ƒç´ </h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sadd myset val1</span><br></pre></td></tr></table></figure><h4 id="è·å–setä¸­æ‰€æœ‰å…ƒç´ "><a href="#è·å–setä¸­æ‰€æœ‰å…ƒç´ " class="headerlink" title="è·å–setä¸­æ‰€æœ‰å…ƒç´ "></a>è·å–setä¸­æ‰€æœ‰å…ƒç´ </h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smembers myset</span><br></pre></td></tr></table></figure><h4 id="åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦å­˜åœ¨"><a href="#åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦å­˜åœ¨" class="headerlink" title="åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦å­˜åœ¨"></a>åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦å­˜åœ¨</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sismember myset val</span><br></pre></td></tr></table></figure><h4 id="è·å–setå…ƒç´ ä¸ªæ•°"><a href="#è·å–setå…ƒç´ ä¸ªæ•°" class="headerlink" title="è·å–setå…ƒç´ ä¸ªæ•°"></a>è·å–setå…ƒç´ ä¸ªæ•°</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scard myset</span><br></pre></td></tr></table></figure><h4 id="ç§»é™¤setä¸­å…ƒç´ "><a href="#ç§»é™¤setä¸­å…ƒç´ " class="headerlink" title="ç§»é™¤setä¸­å…ƒç´ "></a>ç§»é™¤setä¸­å…ƒç´ </h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">srem myset val</span><br></pre></td></tr></table></figure><h4 id="éšæœºè·å–setä¸­å…ƒç´ "><a href="#éšæœºè·å–setä¸­å…ƒç´ " class="headerlink" title="éšæœºè·å–setä¸­å…ƒç´ "></a>éšæœºè·å–setä¸­å…ƒç´ </h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">srandmember myset</span><br></pre></td></tr></table></figure><h4 id="éšæœºå¼¹å‡ºä¸€ä¸ªå…ƒç´ "><a href="#éšæœºå¼¹å‡ºä¸€ä¸ªå…ƒç´ " class="headerlink" title="éšæœºå¼¹å‡ºä¸€ä¸ªå…ƒç´ "></a>éšæœºå¼¹å‡ºä¸€ä¸ªå…ƒç´ </h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spop myset</span><br></pre></td></tr></table></figure><h4 id="å°†ä¸€ä¸ªé›†åˆä¸­æŒ‡å®šçš„å…ƒç´ ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆä¸­"><a href="#å°†ä¸€ä¸ªé›†åˆä¸­æŒ‡å®šçš„å…ƒç´ ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆä¸­" class="headerlink" title="å°†ä¸€ä¸ªé›†åˆä¸­æŒ‡å®šçš„å…ƒç´ ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆä¸­"></a>å°†ä¸€ä¸ªé›†åˆä¸­æŒ‡å®šçš„å…ƒç´ ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé›†åˆä¸­</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># myset1: h1 h2 he h3</span><br><span class="line"># myset2: hh</span><br><span class="line">smove myset1 myset2 he</span><br><span class="line"># myset1: h1 h2 h3</span><br><span class="line"># myset2: hh he</span><br></pre></td></tr></table></figure><h4 id="ä¸¤é›†åˆå·®é›†æ“ä½œ"><a href="#ä¸¤é›†åˆå·®é›†æ“ä½œ" class="headerlink" title="ä¸¤é›†åˆå·®é›†æ“ä½œ"></a>ä¸¤é›†åˆå·®é›†æ“ä½œ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># set1: a b c</span><br><span class="line"># set2: c d e</span><br><span class="line">sdiff set1 set2</span><br><span class="line"># &quot;b&quot; &quot;a&quot;</span><br></pre></td></tr></table></figure><h4 id="ä¸¤é›†åˆäº¤é›†æ“ä½œ"><a href="#ä¸¤é›†åˆäº¤é›†æ“ä½œ" class="headerlink" title="ä¸¤é›†åˆäº¤é›†æ“ä½œ"></a>ä¸¤é›†åˆäº¤é›†æ“ä½œ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># set1: a b c</span><br><span class="line"># set2: c d e</span><br><span class="line">sinter set1 set2</span><br><span class="line"># &quot;c&quot;</span><br></pre></td></tr></table></figure><h4 id="ä¸¤é›†åˆå¹¶é›†æ“ä½œ"><a href="#ä¸¤é›†åˆå¹¶é›†æ“ä½œ" class="headerlink" title="ä¸¤é›†åˆå¹¶é›†æ“ä½œ"></a>ä¸¤é›†åˆå¹¶é›†æ“ä½œ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># set1: a b c</span><br><span class="line"># set2: c d e</span><br><span class="line">sunion set1 set2</span><br><span class="line"># &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</span><br></pre></td></tr></table></figure><h3 id="Hashï¼ˆå“ˆå¸Œï¼‰"><a href="#Hashï¼ˆå“ˆå¸Œï¼‰" class="headerlink" title="Hashï¼ˆå“ˆå¸Œï¼‰"></a>Hashï¼ˆå“ˆå¸Œï¼‰</h3><p>mapé›†åˆï¼Œkey-mapï¼è¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªmapé›†åˆã€‚</p><h4 id="è®¾ç½®å€¼"><a href="#è®¾ç½®å€¼" class="headerlink" title="è®¾ç½®å€¼"></a>è®¾ç½®å€¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hmset myhash k1 v1 k2 v2</span><br><span class="line">hset myhash k3 v3</span><br></pre></td></tr></table></figure><h4 id="è·å–å€¼"><a href="#è·å–å€¼" class="headerlink" title="è·å–å€¼"></a>è·å–å€¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hmget myhash k1 k2</span><br><span class="line">hget myhash k1</span><br><span class="line">hgetall myhash</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><p>å¯¹åº”çš„valä¹Ÿå°±æ¶ˆå¤±äº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdel myhash k1</span><br></pre></td></tr></table></figure><h4 id="è·å–hashå…ƒç´ ä¸ªæ•°"><a href="#è·å–hashå…ƒç´ ä¸ªæ•°" class="headerlink" title="è·å–hashå…ƒç´ ä¸ªæ•°"></a>è·å–hashå…ƒç´ ä¸ªæ•°</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hlen myhash</span><br></pre></td></tr></table></figure><h4 id="åˆ¤æ–­hashæ˜¯å¦å­˜åœ¨æŸä¸ªkey"><a href="#åˆ¤æ–­hashæ˜¯å¦å­˜åœ¨æŸä¸ªkey" class="headerlink" title="åˆ¤æ–­hashæ˜¯å¦å­˜åœ¨æŸä¸ªkey"></a>åˆ¤æ–­hashæ˜¯å¦å­˜åœ¨æŸä¸ªkey</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexists myhash key</span><br></pre></td></tr></table></figure><h4 id="è·å–æ‰€æœ‰çš„key"><a href="#è·å–æ‰€æœ‰çš„key" class="headerlink" title="è·å–æ‰€æœ‰çš„key"></a>è·å–æ‰€æœ‰çš„key</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hkeys myhash</span><br></pre></td></tr></table></figure><h4 id="è·å–æ‰€æœ‰çš„val"><a href="#è·å–æ‰€æœ‰çš„val" class="headerlink" title="è·å–æ‰€æœ‰çš„val"></a>è·å–æ‰€æœ‰çš„val</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hvals myhash</span><br></pre></td></tr></table></figure><h4 id="å¯¹æŸä¸ªvalè‡ªå¢"><a href="#å¯¹æŸä¸ªvalè‡ªå¢" class="headerlink" title="å¯¹æŸä¸ªvalè‡ªå¢"></a>å¯¹æŸä¸ªvalè‡ªå¢</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">incr myhash key</span><br><span class="line">decr myhash key</span><br><span class="line">hincrby myhash key num</span><br><span class="line">hdecrby myhash key num</span><br><span class="line"># å¯¹é”®ä¸ºkeyçš„å€¼è‡ªå¢2</span><br><span class="line">hincrby myhash key 2</span><br></pre></td></tr></table></figure><h4 id="è®¾ç½®é”®å€¼æ—¶æŸ¥çœ‹æ˜¯å¦å­˜åœ¨"><a href="#è®¾ç½®é”®å€¼æ—¶æŸ¥çœ‹æ˜¯å¦å­˜åœ¨" class="headerlink" title="è®¾ç½®é”®å€¼æ—¶æŸ¥çœ‹æ˜¯å¦å­˜åœ¨"></a>è®¾ç½®é”®å€¼æ—¶æŸ¥çœ‹æ˜¯å¦å­˜åœ¨</h4><p>å¦‚æœä¸å­˜åœ¨å­˜å…¥key-valï¼Œå­˜åœ¨åˆ™è¿”å›0</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hsetnx myhash key val</span><br></pre></td></tr></table></figure><h3 id="Zsetï¼ˆæœ‰åºé›†åˆï¼‰"><a href="#Zsetï¼ˆæœ‰åºé›†åˆï¼‰" class="headerlink" title="Zsetï¼ˆæœ‰åºé›†åˆï¼‰"></a>Zsetï¼ˆæœ‰åºé›†åˆï¼‰</h3><p>åœ¨seté›†åˆä¸Šï¼Œå¢åŠ äº†ä¸€ä¸ªå€¼ï¼Œå¯¹æ¯”setå’Œzset</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set k1 v1</span><br><span class="line">zset k1 score v1</span><br></pre></td></tr></table></figure><h4 id="æ·»åŠ å…ƒç´ -1"><a href="#æ·»åŠ å…ƒç´ -1" class="headerlink" title="æ·»åŠ å…ƒç´ "></a>æ·»åŠ å…ƒç´ </h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">zadd key [NX|XX] [CH] [INCR] score member [score member...]</span><br><span class="line"></span><br><span class="line">zadd myzset 1 one</span><br><span class="line">zadd myzset 2 two 3 three</span><br></pre></td></tr></table></figure><h4 id="è·å–å…ƒç´ "><a href="#è·å–å…ƒç´ " class="headerlink" title="è·å–å…ƒç´ "></a>è·å–å…ƒç´ </h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># ä»å°åˆ°å¤§</span><br><span class="line">zrange myset 0 -1</span><br><span class="line"># ä»å¤§åˆ°å°</span><br><span class="line">zrevrange myset 0 -1</span><br></pre></td></tr></table></figure><h4 id="æ’åºå¦‚ä½•å®ç°ï¼Ÿ"><a href="#æ’åºå¦‚ä½•å®ç°ï¼Ÿ" class="headerlink" title="æ’åºå¦‚ä½•å®ç°ï¼Ÿ"></a>æ’åºå¦‚ä½•å®ç°ï¼Ÿ</h4><h5 id="ä»å°åˆ°å¤§æ’åº"><a href="#ä»å°åˆ°å¤§æ’åº" class="headerlink" title="ä»å°åˆ°å¤§æ’åº"></a>ä»å°åˆ°å¤§æ’åº</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zrangebyscore zset min max [withscores]</span><br></pre></td></tr></table></figure><h5 id="ä»å¤§åˆ°å°æ’åº"><a href="#ä»å¤§åˆ°å°æ’åº" class="headerlink" title="ä»å¤§åˆ°å°æ’åº"></a>ä»å¤§åˆ°å°æ’åº</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zrevrangebyscore zset min max [withscores]</span><br></pre></td></tr></table></figure><h5 id="å®ä¾‹ï¼š"><a href="#å®ä¾‹ï¼š" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">zadd salarys 2500 xiaohong</span><br><span class="line">zadd salarys 2500 zhangsan</span><br><span class="line">zadd salarys 500 kuangshen</span><br><span class="line"></span><br><span class="line"># +infå’Œ-infåˆ†åˆ«è¡¨ç¤ºæ­£è´Ÿæ— ç©·</span><br><span class="line">zrangebyscore salarys -inf +inf</span><br><span class="line"></span><br><span class="line"># è¾“å‡ºå¸¦ä¸Šscoreå€¼</span><br><span class="line">zrangebyscore salarys -inf +inf withscores</span><br><span class="line"># è¾“å‡ºscoreèŒƒå›´åœ¨[0, 2500]ä¹‹é—´çš„å€¼</span><br><span class="line">zrangebyscore salarys 0 2500 withscores</span><br></pre></td></tr></table></figure><h4 id="ç§»é™¤å…ƒç´ -1"><a href="#ç§»é™¤å…ƒç´ -1" class="headerlink" title="ç§»é™¤å…ƒç´ "></a>ç§»é™¤å…ƒç´ </h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zrem zset val</span><br></pre></td></tr></table></figure><h4 id="è·å–å…ƒç´ ä¸ªæ•°"><a href="#è·å–å…ƒç´ ä¸ªæ•°" class="headerlink" title="è·å–å…ƒç´ ä¸ªæ•°"></a>è·å–å…ƒç´ ä¸ªæ•°</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zcard zset</span><br></pre></td></tr></table></figure><h4 id="åˆ¤æ–­-min-max-åŒºé—´scoreçš„æ•°é‡"><a href="#åˆ¤æ–­-min-max-åŒºé—´scoreçš„æ•°é‡" class="headerlink" title="åˆ¤æ–­[min, max]åŒºé—´scoreçš„æ•°é‡"></a>åˆ¤æ–­[min, max]åŒºé—´scoreçš„æ•°é‡</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zcount myset min max</span><br></pre></td></tr></table></figure><h2 id="å®Œç»“æ’’èŠ±ğŸ˜¥"><a href="#å®Œç»“æ’’èŠ±ğŸ˜¥" class="headerlink" title="å®Œç»“æ’’èŠ±ğŸ˜¥"></a>å®Œç»“æ’’èŠ±ğŸ˜¥</h2>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt; å¦‚æœä½ å‡ºäº‹äº†ï¼Œæˆ‘çš„å‘½èƒ½æ•‘ä½ ï¼Œæˆ‘ä¼šè±ªä¸çŠ¹è±«ï¼Œä½†æ˜¯å¦‚æœä½ å¥½å¥½çš„ï¼Œæˆ‘ä¸æ„¿åœ¨çœ‹ä½ ä¸€çœ¼ &lt;/p&gt;
&lt;p&gt;â€‹                                                                        â€”â€“ ã€Šæ— å¿ƒæ–—è‰³ã€‹&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="redis" scheme="penghui.club/tags/redis/"/>
    
  </entry>
  
  <entry>
    <title>Javaçš„å››ç§è®¿é—®ä¿®é¥°ç¬¦</title>
    <link href="penghui.club/2020/07/21/Java%E7%9A%84%E5%9B%9B%E7%A7%8D%E8%AE%BF%E9%97%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6/"/>
    <id>penghui.club/2020/07/21/Java%E7%9A%84%E5%9B%9B%E7%A7%8D%E8%AE%BF%E9%97%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6/</id>
    <published>2020-07-20T23:24:39.000Z</published>
    <updated>2020-07-21T02:11:45.702Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>â€œä»Šå¤©æœ‰æ²¡æœ‰è·Ÿå–œæ¬¢çš„äººè¯´è¯ã€‚â€</p><p> â€œè¯´äº†ã€‚â€ </p><p>â€œè¯´äº†å•¥ï¼Ÿâ€ </p><p>â€œè¯´äº†ã€‚ä½ å‘¢ï¼Ÿâ€</p><p> â€œè¯´äº†å•¥â€</p><p>â€‹                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„</p></blockquote><a id="more"></a><h2 id="Javaçš„å››ç§è®¿é—®ä¿®é¥°ç¬¦"><a href="#Javaçš„å››ç§è®¿é—®ä¿®é¥°ç¬¦" class="headerlink" title="Javaçš„å››ç§è®¿é—®ä¿®é¥°ç¬¦"></a>Javaçš„å››ç§è®¿é—®ä¿®é¥°ç¬¦</h2><h3 id="è®¿é—®æ§åˆ¶å­˜åœ¨çš„åŸå› ï¼š"><a href="#è®¿é—®æ§åˆ¶å­˜åœ¨çš„åŸå› ï¼š" class="headerlink" title="è®¿é—®æ§åˆ¶å­˜åœ¨çš„åŸå› ï¼š"></a>è®¿é—®æ§åˆ¶å­˜åœ¨çš„åŸå› ï¼š</h3><ul><li><p>è®©å®¢æˆ·ç«¯ç¨‹åºå‘˜æ— æ³•è§¦åŠä»–ä»¬ä¸åº”è¯¥è§¦åŠçš„éƒ¨åˆ† ï¼› </p></li><li><p>å…è®¸åº“è®¾è®¡è€…å¯ä»¥æ”¹å˜ç±»å†…éƒ¨çš„å·¥ä½œæ–¹å¼è€Œä¸ç”¨æ‹…å¿ƒä¼šå½±å“åˆ°å®¢æˆ·ç«¯ç¨‹åºå‘˜</p></li></ul><h3 id="javaçš„å››ä¸ªå…³é”®å­—ï¼š"><a href="#javaçš„å››ä¸ªå…³é”®å­—ï¼š" class="headerlink" title="javaçš„å››ä¸ªå…³é”®å­—ï¼š"></a>javaçš„å››ä¸ªå…³é”®å­—ï¼š</h3><p>â€‹    <code>publicã€protectedã€defaultã€private</code></p><p>é€‚ç”¨èŒƒå›´&lt;è®¿é—®æƒé™èŒƒå›´è¶Šå°ï¼Œå®‰å…¨æ€§è¶Šé«˜&gt;</p><table><thead><tr><th>è®¿é—®æƒé™</th><th>ç±»</th><th>åŒ…</th><th>å­ç±»</th><th>å…¶ä»–åŒ…</th><th>æè¿°</th></tr></thead><tbody><tr><td>public</td><td>âˆ¨</td><td>âˆ¨</td><td>âˆ¨</td><td>âˆ¨</td><td>å¯¹ä»»ä½•äººéƒ½æ˜¯å¯ç”¨çš„</td></tr><tr><td>protect</td><td>âˆ¨</td><td>âˆ¨</td><td>âˆ¨</td><td>Ã—</td><td>ç»§æ‰¿çš„ç±»å¯ä»¥è®¿é—®ä»¥åŠå’Œprivateä¸€æ ·çš„æƒé™</td></tr><tr><td>default</td><td>âˆ¨</td><td>âˆ¨</td><td>Ã—</td><td>Ã—</td><td>åŒ…è®¿é—®æƒé™ï¼Œå³åœ¨æ•´ä¸ªåŒ…å†…å‡å¯è¢«è®¿é—®</td></tr><tr><td>private</td><td>âˆ¨</td><td>Ã—</td><td>Ã—</td><td>Ã—</td><td>é™¤ç±»å‹åˆ›å»ºè€…å’Œç±»å‹çš„å†…éƒ¨æ–¹æ³•ä¹‹å¤–çš„ä»»ä½•äººéƒ½ä¸èƒ½è®¿é—®çš„å…ƒç´ </td></tr></tbody></table><h4 id="ä¸€ã€public"><a href="#ä¸€ã€public" class="headerlink" title="ä¸€ã€public"></a>ä¸€ã€public</h4><p><strong>ï¼ˆ1ï¼‰å®šä¹‰</strong>ï¼š<code>public</code>æ˜¯å…¬å…±çš„ï¼Œè¢«<code>public</code>æ‰€ä¿®é¥°çš„æˆå‘˜å¯ä»¥åœ¨ä»»ä½•ç±»ä¸­éƒ½èƒ½è¢«è®¿é—®åˆ°ã€‚</p><p><strong>ï¼ˆ2ï¼‰ä¿®é¥°çš„æˆåˆ†</strong>ï¼š</p><p>â€‹        <code>public</code>èƒ½ç”¨æ¥ä¿®é¥°ç±»ï¼Œåœ¨ä¸€ä¸ª<code>java</code>æºæ–‡ä»¶ä¸­åªèƒ½æœ‰ä¸€ä¸ªç±»è¢«å£°æ˜ä¸º<code>public</code>ï¼Œè€Œä¸”ä¸€æ—¦æœ‰ä¸€ä¸ªç±»ä¸º<code>public</code>ï¼Œé‚£è¿™ä¸ªjavaæºæ–‡ä»¶çš„æ–‡ä»¶åå°±å¿…é¡»è¦å’Œè¿™ä¸ªè¢«<code>public</code>æ‰€ä¿®é¥°çš„ç±»çš„ç±»åç›¸åŒï¼Œå¦åˆ™ç¼–è¯‘ä¸èƒ½é€šè¿‡ã€‚è¯´åˆ°è¿™é‡Œï¼Œç©¿æ’å¤šä¸€ç‚¹çŸ¥è¯†ã€‚ä¸€ä¸ªç±»ä½œä¸ºå¤–éƒ¨ç±»çš„æ—¶å€™åªèƒ½è¢«<code>public</code>æˆ–è€…é»˜è®¤è®¿é—®ä¿®é¥°ç¬¦æ‰€ä¿®é¥°ï¼Œä½†æ˜¯ä¸€ä¸ªç±»å¦‚æœä½œä¸ºå†…éƒ¨ç±»çš„æ—¶å€™ï¼Œåˆ™å¯ä»¥è¢«å››ç§è®¿é—®ä¿®é¥°ç¬¦æ‰€ä¿®é¥°ï¼Œå› ä¸ºä¸€ä¸ªç±»ä½œä¸ºå†…éƒ¨ç±»çš„æ—¶å€™ï¼Œå°±ä½œä¸ºå¤–éƒ¨ç±»çš„ä¸€ä¸ªæˆå‘˜å±æ€§äº†ï¼Œå› æ­¤å¯ä»¥æœ‰å››ç§è®¿é—®ä¿®é¥°ç¬¦ä¿®é¥°ï¼Œè¿™æ˜¯å†…éƒ¨ç±»å’Œå¤–éƒ¨ç±»çš„ä¸€ä¸ªåŒºåˆ«ã€‚</p><p>â€‹        <code>public</code>ç”¨æ¥ä¿®é¥°ç±»ä¸­æˆå‘˜ï¼ˆå˜é‡å’Œæ–¹æ³•ï¼‰ï¼Œè¢«<code>public</code>æ‰€ä¿®é¥°çš„æˆå‘˜å¯ä»¥åœ¨ä»»ä½•ç±»ä¸­éƒ½èƒ½è¢«è®¿é—®åˆ°ã€‚é€šè¿‡æ“ä½œè¯¥ç±»çš„å¯¹è±¡èƒ½éšæ„è®¿é—®<code>public</code>æˆå‘˜ã€‚</p><p>â€‹        <code>public</code>åœ¨ç±»çš„ç»§æ‰¿ä¸Šçš„ä½“ç°ï¼Œè¢«<code>public</code>æ‰€ä¿®é¥°çš„æˆå‘˜èƒ½è¢«æ‰€æœ‰çš„å­ç±»ç»§æ‰¿ä¸‹æ¥ã€‚</p><h4 id="äºŒã€protected"><a href="#äºŒã€protected" class="headerlink" title="äºŒã€protected"></a>äºŒã€protected</h4><p><strong>ï¼ˆ1ï¼‰å®šä¹‰</strong>ï¼š<code>protected</code>æ˜¯å—ä¿æŠ¤çš„ï¼Œå—åˆ°è¯¥ç±»æ‰€åœ¨çš„åŒ…æ‰€ä¿æŠ¤ã€‚</p><p><strong>ï¼ˆ2ï¼‰ä½œç”¨åŸŸ</strong>ï¼šè¢«<code>protected</code>æ‰€ä¿®é¥°çš„æˆå‘˜ä¼šè¢«ä½äºåŒä¸€<code>package</code>ä¸­çš„æ‰€æœ‰ç±»è®¿é—®åˆ°ã€‚åŒæ—¶ï¼Œè¢«<code>protected</code>æ‰€ä¿®é¥°çš„æˆå‘˜ä¹Ÿèƒ½è¢«è¯¥ç±»çš„æ‰€æœ‰å­ç±»ç»§æ‰¿ä¸‹æ¥ã€‚ï¼ˆæ³¨æ„ï¼šè¿™é‡Œæ˜¯æŒ‡åŒä¸€ä¸ª<code>package</code>æˆ–è€…ä¸åŒçš„<code>package</code>ä¸­çš„å­ç±»éƒ½èƒ½è®¿é—®ï¼‰</p><h4 id="ä¸‰ã€defaultï¼ˆé»˜è®¤ï¼Œç¼ºçœçš„ï¼‰"><a href="#ä¸‰ã€defaultï¼ˆé»˜è®¤ï¼Œç¼ºçœçš„ï¼‰" class="headerlink" title="ä¸‰ã€defaultï¼ˆé»˜è®¤ï¼Œç¼ºçœçš„ï¼‰"></a>ä¸‰ã€defaultï¼ˆé»˜è®¤ï¼Œç¼ºçœçš„ï¼‰</h4><p><strong>ï¼ˆ1ï¼‰å®šä¹‰</strong>ï¼š<code>default</code>æ˜¯å‹å¥½çš„ï¼Œå³åœ¨æˆå‘˜çš„å‰é¢ä¸å†™ä»»ä½•çš„è®¿é—®ä¿®é¥°ç¬¦çš„æ—¶å€™ï¼Œé»˜è®¤å°±æ˜¯å‹å¥½çš„ã€‚æ‰€è°“å‹å¥½çš„ï¼Œæ˜¯å¯¹åŒä¸€<code>package</code>çš„ç±»å‹å¥½ã€‚</p><p><strong>ï¼ˆ2ï¼‰ä½œç”¨åŸŸ</strong>ï¼šåŒä¸€<code>package</code>ä¸­çš„æ‰€æœ‰ç±»éƒ½èƒ½è®¿é—®ã€‚è¢«<code>friendly</code>æ‰€ä¿®é¥°çš„æˆå‘˜åªèƒ½è¢«è¯¥ç±»æ‰€åœ¨åŒä¸€ä¸ª<code>package</code>ä¸­çš„å­ç±»æ‰€ç»§æ‰¿ä¸‹æ¥ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´åªæœ‰åœ¨åŒä¸€ä¸ª<code>package</code>ä¸­çš„å­ç±»æ‰èƒ½è®¿é—®åˆ°çˆ¶ç±»ä¸­<code>default</code>ä¿®é¥°çš„æˆå‘˜ï¼‰</p><h4 id="å››ã€private"><a href="#å››ã€private" class="headerlink" title="å››ã€private"></a>å››ã€private</h4><p><strong>ï¼ˆ1ï¼‰å®šä¹‰</strong>ï¼š<code>private</code>æ˜¯ç§æœ‰çš„ï¼Œå³åªèƒ½åœ¨å½“å‰ç±»ä¸­è¢«è®¿é—®åˆ°ï¼Œå®ƒçš„ä½œç”¨åŸŸæœ€å°ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;â€œä»Šå¤©æœ‰æ²¡æœ‰è·Ÿå–œæ¬¢çš„äººè¯´è¯ã€‚â€&lt;/p&gt;
&lt;p&gt; â€œè¯´äº†ã€‚â€ &lt;/p&gt;
&lt;p&gt;â€œè¯´äº†å•¥ï¼Ÿâ€ &lt;/p&gt;
&lt;p&gt;â€œè¯´äº†ã€‚ä½ å‘¢ï¼Ÿâ€&lt;/p&gt;
&lt;p&gt; â€œè¯´äº†å•¥â€&lt;/p&gt;
&lt;p&gt;â€‹                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="Java" scheme="penghui.club/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>åˆ¤æ–­äºŒåˆ†å›¾</title>
    <link href="penghui.club/2020/07/16/%E5%88%A4%E6%96%AD%E4%BA%8C%E5%88%86%E5%9B%BE/"/>
    <id>penghui.club/2020/07/16/%E5%88%A4%E6%96%AD%E4%BA%8C%E5%88%86%E5%9B%BE/</id>
    <published>2020-07-16T11:54:32.000Z</published>
    <updated>2020-07-16T12:36:40.014Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>æˆ‘ä¸Šå¤§å­¦æ²¡é’±ï¼Œå¹³å¸¸ä¸æ‰“ç‰Œçš„çˆ¸çˆ¸æ‹¿ç€å®¶é‡Œä»…å‰©çš„1000å—é’±å»æœ‹å‹å®¶æ‰“äº†ä¸€æ™šä¸Šéº»å°†ã€‚ç¬¬äºŒå¤©ä»–ç–²å€¦çš„æŠŠå­¦è´¹äº¤åˆ°æˆ‘æ‰‹é‡Œï¼Œæˆ‘ä¸€ç›´ä¸çŸ¥é“ä»–ä¸€ä¸ªä¸å¤§ä¼šæ‰“ç‰Œçš„äººä¸ºä»€ä¹ˆä¼šèµ¢è¿™ä¹ˆå¤šé’±ã€‚ç›´åˆ°æˆ‘é•¿å¤§åä»–æœ‹å‹å„¿å­ä¹Ÿåˆ°äº†è¯»å¤§å­¦çš„å¹´çºªï¼Œçˆ¸çˆ¸æ‹¿å‡ºäº†å®¶é‡Œç”¨æ¥ç¿»ä¿®çš„é’±åˆå»æ‰“äº†ä¸€æ™šä¸Šçš„éº»å°†ï¼Œè¾“å…‰äº†ã€‚ </p><p>â€‹                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„</p></blockquote><a id="more"></a><h2 id="785-åˆ¤æ–­äºŒåˆ†å›¾"><a href="#785-åˆ¤æ–­äºŒåˆ†å›¾" class="headerlink" title="785. åˆ¤æ–­äºŒåˆ†å›¾"></a><a href="https://leetcode-cn.com/problems/is-graph-bipartite/" target="_blank" rel="noopener">785. åˆ¤æ–­äºŒåˆ†å›¾</a></h2><p>ç»™å®šä¸€ä¸ªæ— å‘å›¾<code>graph</code>ï¼Œå½“è¿™ä¸ªå›¾ä¸ºäºŒåˆ†å›¾æ—¶è¿”å›<code>true</code>ã€‚</p><p>å¦‚æœæˆ‘ä»¬èƒ½å°†ä¸€ä¸ªå›¾çš„èŠ‚ç‚¹é›†åˆåˆ†å‰²æˆä¸¤ä¸ªç‹¬ç«‹çš„å­é›†Aå’ŒBï¼Œå¹¶ä½¿å›¾ä¸­çš„æ¯ä¸€æ¡è¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¸€ä¸ªæ¥è‡ªAé›†åˆï¼Œä¸€ä¸ªæ¥è‡ªBé›†åˆï¼Œæˆ‘ä»¬å°±å°†è¿™ä¸ªå›¾ç§°ä¸ºäºŒåˆ†å›¾ã€‚</p><p><code>graph</code>å°†ä¼šä»¥é‚»æ¥è¡¨æ–¹å¼ç»™å‡ºï¼Œ<code>graph[i]</code>è¡¨ç¤ºå›¾ä¸­ä¸èŠ‚ç‚¹<code>i</code>ç›¸è¿çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªåœ¨<code>0</code>åˆ°<code>graph.length-1</code>ä¹‹é—´çš„æ•´æ•°ã€‚è¿™å›¾ä¸­æ²¡æœ‰è‡ªç¯å’Œå¹³è¡Œè¾¹ï¼š <code>graph[i]</code> ä¸­ä¸å­˜åœ¨<code>i</code>ï¼Œå¹¶ä¸”<code>graph[i]</code>ä¸­æ²¡æœ‰é‡å¤çš„å€¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ç¤ºä¾‹ 1:</span><br><span class="line">è¾“å…¥: [[1,3], [0,2], [1,3], [0,2]]</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: </span><br><span class="line">æ— å‘å›¾å¦‚ä¸‹:</span><br><span class="line">0----1</span><br><span class="line">|    |</span><br><span class="line">|    |</span><br><span class="line">3----2</span><br><span class="line">æˆ‘ä»¬å¯ä»¥å°†èŠ‚ç‚¹åˆ†æˆä¸¤ç»„: &#123;0, 2&#125; å’Œ &#123;1, 3&#125;ã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ 2:</span><br><span class="line">è¾“å…¥: [[1,2,3], [0,2], [0,1,3], [0,2]]</span><br><span class="line">è¾“å‡º: false</span><br><span class="line">è§£é‡Š: </span><br><span class="line">æ— å‘å›¾å¦‚ä¸‹:</span><br><span class="line">0----1</span><br><span class="line">| \  |</span><br><span class="line">|  \ |</span><br><span class="line">3----2</span><br><span class="line">æˆ‘ä»¬ä¸èƒ½å°†èŠ‚ç‚¹åˆ†å‰²æˆä¸¤ä¸ªç‹¬ç«‹çš„å­é›†ã€‚</span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„:"></a><strong>æ³¨æ„:</strong></h3><ul><li><code>graph</code> çš„é•¿åº¦èŒƒå›´ä¸º <code>[1, 100]</code>ã€‚</li><li><code>graph[i]</code> ä¸­çš„å…ƒç´ çš„èŒƒå›´ä¸º <code>[0, graph.length - 1]</code>ã€‚</li><li><code>graph[i]</code> ä¸ä¼šåŒ…å« <code>i</code> æˆ–è€…æœ‰é‡å¤çš„å€¼ã€‚</li><li>å›¾æ˜¯æ— å‘çš„: å¦‚æœ<code>j</code> åœ¨ <code>graph[i]</code>é‡Œè¾¹, é‚£ä¹ˆ <code>i</code> ä¹Ÿä¼šåœ¨ <code>graph[j]</code>é‡Œè¾¹ã€‚</li></ul><h3 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h3><h4 id="1ã€å¹¶æŸ¥é›†"><a href="#1ã€å¹¶æŸ¥é›†" class="headerlink" title="1ã€å¹¶æŸ¥é›†"></a>1ã€å¹¶æŸ¥é›†</h4><p>å¦‚æœæ˜¯äºŒåˆ†å›¾çš„è¯ï¼Œé‚£ä¹ˆå›¾ä¸­æ¯ä¸ªé¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥ç‚¹éƒ½åº”è¯¥å±äºåŒä¸€é›†åˆï¼Œä¸”ä¸ä¸é¡¶ç‚¹å¤„äºåŒä¸€é›†åˆã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¹¶æŸ¥é›†æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éå†å›¾ä¸­æ¯ä¸ªé¡¶ç‚¹ï¼Œå°†å½“å‰é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥ç‚¹è¿›è¡Œåˆå¹¶ï¼Œå¹¶åˆ¤æ–­è¿™äº›é‚»æ¥ç‚¹ä¸­æ˜¯å¦å­˜åœ¨æŸä¸€é‚»æ¥ç‚¹å·²ç»å’Œå½“å‰é¡¶ç‚¹å¤„äºåŒä¸€ä¸ªé›†åˆä¸­äº†ï¼Œè‹¥æ˜¯ï¼Œåˆ™è¯´æ˜ä¸æ˜¯äºŒåˆ†å›¾ã€‚</p><h5 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UF</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] parents;</span><br><span class="line">    <span class="keyword">int</span>[] size;</span><br><span class="line">        </span><br><span class="line">    UF(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        parents = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        size    = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            parents[i] = i;</span><br><span class="line">            size[i]    = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> pp, <span class="keyword">int</span> qp)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pp == qp) <span class="keyword">return</span>;</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> (size[pp] &gt; size[qp]) &#123;</span><br><span class="line">            parents[qp] = pp;</span><br><span class="line">            size[pp]  += size[qp];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            parents[pp] = qp;</span><br><span class="line">            size[qp]  += size[pp];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getParent</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (parents[x] != x) &#123;</span><br><span class="line">            parents[x] = parents[parents[x]];</span><br><span class="line">            x = parents[x];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBipartite</span><span class="params">(<span class="keyword">int</span>[][] graph)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = graph.length;</span><br><span class="line">    UF uf = <span class="keyword">new</span> UF(n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; graph[i].length; j ++) &#123;</span><br><span class="line">            <span class="keyword">int</span> ip = uf.getParent(i);</span><br><span class="line">            <span class="keyword">int</span> pp = uf.getParent(graph[i][j - <span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">int</span> qp = uf.getParent(graph[i][j]);</span><br><span class="line">            <span class="keyword">if</span> (ip == qp || ip == pp) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            uf.union(pp, qp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2ã€DFS-BFS"><a href="#2ã€DFS-BFS" class="headerlink" title="2ã€DFS / BFS"></a>2ã€DFS / BFS</h4><p>ä»¥ä¸‹ä¸¤ç§è§£æ³•æ¥è‡ªï¼š <a href="https://leetcode-cn.com/problems/is-graph-bipartite/solution/bfs-dfs-bing-cha-ji-san-chong-fang-fa-pan-duan-er-/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/is-graph-bipartite/solution/bfs-dfs-bing-cha-ji-san-chong-fang-fa-pan-duan-er-/</a> </p><p>æˆ‘ä»¬ä½¿ç”¨å›¾æœç´¢ç®—æ³•ä»å„ä¸ªè¿é€šåŸŸçš„ä»»ä¸€é¡¶ç‚¹å¼€å§‹éå†æ•´ä¸ªè¿é€šåŸŸï¼Œéå†çš„è¿‡ç¨‹ä¸­ç”¨ä¸¤ç§ä¸åŒçš„é¢œè‰²å¯¹é¡¶ç‚¹è¿›è¡ŒæŸ“è‰²ï¼Œç›¸é‚»é¡¶ç‚¹æŸ“æˆç›¸åçš„é¢œè‰²ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­å€˜è‹¥å‘ç°ç›¸é‚»çš„é¡¶ç‚¹è¢«æŸ“æˆäº†ç›¸åŒçš„é¢œè‰²ï¼Œè¯´æ˜å®ƒä¸æ˜¯äºŒåˆ†å›¾ï¼›åä¹‹ï¼Œå¦‚æœæ‰€æœ‰çš„è¿é€šåŸŸéƒ½æŸ“è‰²æˆåŠŸï¼Œè¯´æ˜å®ƒæ˜¯äºŒåˆ†å›¾ã€‚</p><h5 id="BFSä»£ç ï¼š"><a href="#BFSä»£ç ï¼š" class="headerlink" title="BFSä»£ç ï¼š"></a>BFSä»£ç ï¼š</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBipartite</span><span class="params">(<span class="keyword">int</span>[][] graph)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰ visited æ•°ç»„ï¼Œåˆå§‹å€¼ä¸º 0 è¡¨ç¤ºæœªè¢«è®¿é—®ï¼Œèµ‹å€¼ä¸º 1 æˆ–è€… -1 è¡¨ç¤ºä¸¤ç§ä¸åŒçš„é¢œè‰²ã€‚ </span></span><br><span class="line">    <span class="keyword">int</span>[] visited = <span class="keyword">new</span> <span class="keyword">int</span>[graph.length];</span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// å› ä¸ºå›¾ä¸­å¯èƒ½å«æœ‰å¤šä¸ªè¿é€šåŸŸï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨é¡¶ç‚¹æœªè¢«è®¿é—®ï¼Œè‹¥å­˜åœ¨åˆ™ä»å®ƒå¼€å§‹å†è¿›è¡Œä¸€è½® bfs æŸ“è‰²ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; graph.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[i] != <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ¯å‡ºé˜Ÿä¸€ä¸ªé¡¶ç‚¹ï¼Œå°†å…¶æ‰€æœ‰é‚»æ¥ç‚¹æŸ“æˆç›¸åçš„é¢œè‰²å¹¶å…¥é˜Ÿã€‚</span></span><br><span class="line">        queue.offer(i);</span><br><span class="line">        visited[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> v = queue.poll();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> w: graph[v]) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœå½“å‰é¡¶ç‚¹çš„æŸä¸ªé‚»æ¥ç‚¹å·²ç»è¢«æŸ“è¿‡è‰²äº†ï¼Œä¸”é¢œè‰²å’Œå½“å‰é¡¶ç‚¹ç›¸åŒï¼Œè¯´æ˜æ­¤æ— å‘å›¾æ— æ³•è¢«æ­£ç¡®æŸ“è‰²ï¼Œè¿”å› falseã€‚</span></span><br><span class="line">                <span class="keyword">if</span> (visited[w] == visited[v]) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (visited[w] == <span class="number">0</span>) &#123;</span><br><span class="line">                    visited[w] = -visited[v];</span><br><span class="line">                    queue.offer(w);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;          </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="DFSä»£ç ï¼š"><a href="#DFSä»£ç ï¼š" class="headerlink" title="DFSä»£ç ï¼š"></a>DFSä»£ç ï¼š</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBipartite</span><span class="params">(<span class="keyword">int</span>[][] graph)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰ visited æ•°ç»„ï¼Œåˆå§‹å€¼ä¸º 0 è¡¨ç¤ºæœªè¢«è®¿é—®ï¼Œèµ‹å€¼ä¸º 1 æˆ–è€… -1 è¡¨ç¤ºä¸¤ç§ä¸åŒçš„é¢œè‰²ã€‚ </span></span><br><span class="line">    <span class="keyword">int</span>[] visited = <span class="keyword">new</span> <span class="keyword">int</span>[graph.length];</span><br><span class="line">    <span class="comment">// å› ä¸ºå›¾ä¸­å¯èƒ½å«æœ‰å¤šä¸ªè¿é€šåŸŸï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨é¡¶ç‚¹æœªè¢«è®¿é—®ï¼Œè‹¥å­˜åœ¨åˆ™ä»å®ƒå¼€å§‹å†è¿›è¡Œä¸€è½® dfs æŸ“è‰²ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; graph.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[i] == <span class="number">0</span> &amp;&amp; !dfs(graph, i, <span class="number">1</span>, visited)) </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] graph, <span class="keyword">int</span> v, <span class="keyword">int</span> color, <span class="keyword">int</span>[] visited)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœè¦å¯¹æŸé¡¶ç‚¹æŸ“è‰²æ—¶ï¼Œå‘ç°å®ƒå·²ç»è¢«æŸ“è‰²äº†ï¼Œåˆ™åˆ¤æ–­å®ƒçš„é¢œè‰²æ˜¯å¦ä¸æœ¬æ¬¡è¦æŸ“çš„é¢œè‰²ç›¸åŒï¼Œå¦‚æœçŸ›ç›¾ï¼Œè¯´æ˜æ­¤æ— å‘å›¾æ— æ³•è¢«æ­£ç¡®æŸ“è‰²ï¼Œè¿”å› falseã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (visited[v] != <span class="number">0</span>) <span class="keyword">return</span> visited[v] == color;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹å½“å‰é¡¶ç‚¹è¿›è¡ŒæŸ“è‰²ï¼Œå¹¶å°†å½“å‰é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥ç‚¹æŸ“æˆç›¸åçš„é¢œè‰²ã€‚</span></span><br><span class="line">    visited[v] = color;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> w: graph[v]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!dfs(graph, w, -color, visited)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      åˆ¤æ–­äºŒåˆ†å›¾
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="penghui.club/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="å¹¶æŸ¥é›†" scheme="penghui.club/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    
      <category term="DFS" scheme="penghui.club/tags/DFS/"/>
    
      <category term="BFS" scheme="penghui.club/tags/BFS/"/>
    
  </entry>
  
  <entry>
    <title>ä¸åŒçš„äºŒå‰æœç´¢æ ‘</title>
    <link href="penghui.club/2020/07/15/%E4%B8%8D%E5%90%8C%E7%9A%84%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    <id>penghui.club/2020/07/15/%E4%B8%8D%E5%90%8C%E7%9A%84%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/</id>
    <published>2020-07-15T05:13:22.000Z</published>
    <updated>2020-07-15T05:19:32.878Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>åˆšåˆšå·å·åœ¨æ¥¼é¡¶æŠ½çƒŸè¢«æˆ‘çˆ¸æ’è§äº†ï¼Œè§‰å¾—å°´å°¬åˆæœ‰ç‚¹æ…Œ ä»–å¾ˆæ·¡å®šçš„è¯´ä¸€èµ·ååå§ï¼Œè‡ªå·±ä¹Ÿç‚¹äº†çƒŸ ä¸€ç›´æ²¡è¯´è¯ï¼ŒæŠ½å®ŒçƒŸä»–å°±è¯´äº†ä¸€å¥è¯ æ²¡äº‹ï¼Œä¼šå¥½çš„ã€‚ä¸æ˜¯è¿˜æœ‰æˆ‘å’Œä½ å¦ˆè¿˜æœ‰å¼Ÿå¼Ÿåœ¨å˜›ã€‚ç´¯äº†æ—©ç‚¹ä¸‹æ¥¼ä¼‘æ¯â€ç¬é—´æ³ªå´©äº† å¯¹å¤ªå¤šäººæ„Ÿåˆ°æŠ±æ­‰äº†ã€‚å®¶äººï¼Œæœ‹å‹ï¼Œå‰ä»»ã€‚è¿˜æœ‰ä½  è¿˜æ˜¯æ¢å¤åŸçŠ¶æœ€å¥½ï¼Œå¦‚æœå¯ä»¥ã€‚å¸Œæœ›æ´»å¾—é¥±æ»¡</p><p>â€‹                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„</p></blockquote><a id="more"></a><h2 id="96-ä¸åŒçš„äºŒå‰æœç´¢æ ‘"><a href="#96-ä¸åŒçš„äºŒå‰æœç´¢æ ‘" class="headerlink" title="96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘"></a><a href="https://leetcode-cn.com/problems/unique-binary-search-trees/" target="_blank" rel="noopener">96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘</a></h2><p>ç»™å®šä¸€ä¸ªæ•´æ•° <em>n</em>ï¼Œæ±‚ä»¥ 1 â€¦ <em>n</em> ä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘æœ‰å¤šå°‘ç§ï¼Ÿ</p><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹:"></a><strong>ç¤ºä¾‹:</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 3</span><br><span class="line">è¾“å‡º: 5</span><br><span class="line">è§£é‡Š:</span><br><span class="line">ç»™å®š n &#x3D; 3, ä¸€å…±æœ‰ 5 ç§ä¸åŒç»“æ„çš„äºŒå‰æœç´¢æ ‘:</span><br><span class="line"></span><br><span class="line">   1         3     3      2      1</span><br><span class="line">    \       &#x2F;     &#x2F;      &#x2F; \      \</span><br><span class="line">     3     2     1      1   3      2</span><br><span class="line">    &#x2F;     &#x2F;       \                 \</span><br><span class="line">   2     1         2                 3</span><br></pre></td></tr></table></figure><h4 id="æ€è·¯è§£æï¼š"><a href="#æ€è·¯è§£æï¼š" class="headerlink" title="æ€è·¯è§£æï¼š"></a>æ€è·¯è§£æï¼š</h4><ul><li><p>æ ‡ç­¾ï¼šåŠ¨æ€è§„åˆ’</p></li><li><p>å‡è®¾<code>n</code>ä¸ªèŠ‚ç‚¹å­˜åœ¨äºŒå‰æ’åºæ ‘çš„ä¸ªæ•°æ˜¯<code>G(n)</code>ï¼Œä»¤<code>f(i)</code>ä¸ºä»¥<code>i</code>ä¸ºæ ¹çš„äºŒå‰æœç´¢æ ‘çš„ä¸ªæ•°ï¼Œåˆ™</p><p><code>G(n) = f(1) + f(2) + f(3) + f(4) + ... + f(n)G(n)=f(1)+f(2)+f(3)+f(4)+...+f(n)</code></p></li><li><p>å½“iä¸ºæ ¹èŠ‚ç‚¹æ—¶ï¼Œå…¶å·¦å­æ ‘èŠ‚ç‚¹ä¸ªæ•°ä¸º<code>i-1</code>ä¸ªï¼Œå³å­æ ‘èŠ‚ç‚¹ä¸º<code>n-i</code>ï¼Œåˆ™<br><code>f(i) = G(i-1)*G(n-i)f(i)=G(iâˆ’1)âˆ—G(nâˆ’i)</code></p></li><li><p>ç»¼åˆä¸¤ä¸ªå…¬å¼å¯ä»¥å¾—åˆ° å¡ç‰¹å…°æ•° å…¬å¼<br><code>G(n) = G(0)*G(n-1)+G(1)*(n-2)+...+G(n-1)*G(0)G(n)=G(0)âˆ—G(nâˆ’1)+G(1)âˆ—(nâˆ’2)+...+G(nâˆ’1)âˆ—G(0)</code></p></li></ul><h4 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>; dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n + <span class="number">1</span>; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; i + <span class="number">1</span>; j++) </span><br><span class="line">                dp[i] += dp[j-<span class="number">1</span>] * dp[i-j];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/unique-binary-search-trees/solution/hua-jie-suan-fa-96-bu-tong-de-er-cha-sou-suo-shu-b/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/unique-binary-search-trees/solution/hua-jie-suan-fa-96-bu-tong-de-er-cha-sou-suo-shu-b/</a></p>]]></content>
    
    <summary type="html">
    
      ä¸åŒçš„äºŒå‰æœç´¢æ ‘
    
    </summary>
    
    
    
      <category term="åŠ¨æ€è§„åˆ’" scheme="penghui.club/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
      <category term="å¡ç‰¹å…°æ•°" scheme="penghui.club/tags/%E5%8D%A1%E7%89%B9%E5%85%B0%E6%95%B0/"/>
    
  </entry>
  
  <entry>
    <title>Shellè„šæœ¬å‘½ä»¤</title>
    <link href="penghui.club/2020/07/14/Shell%E8%84%9A%E6%9C%AC%E5%91%BD%E4%BB%A4/"/>
    <id>penghui.club/2020/07/14/Shell%E8%84%9A%E6%9C%AC%E5%91%BD%E4%BB%A4/</id>
    <published>2020-07-14T12:30:47.000Z</published>
    <updated>2020-07-14T14:08:56.413Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>æˆ‘ä»¬éƒ½å¤ªæ‡¦å¼± æ°‘å›½æ—¶æœŸä¸æ•¢åšå†›é˜€ æˆ˜ä¹±æ—¶æœŸä¸æ•¢å»èµ·ä¹‰ å¤ªå¹³ç››ä¸–ä¸æ•¢è¯´æˆ‘çˆ±ä½ </p><p>â€‹                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„</p></blockquote><a id="more"></a><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/CSDN___LYY/article/details/100584638" target="_blank" rel="noopener">https://blog.csdn.net/CSDN___LYY/article/details/100584638</a></p><h2 id="shellè„šæœ¬ï¼Ÿ"><a href="#shellè„šæœ¬ï¼Ÿ" class="headerlink" title="shellè„šæœ¬ï¼Ÿ"></a>shellè„šæœ¬ï¼Ÿ</h2><p><strong>åœ¨è¯´ä»€ä¹ˆæ˜¯shellè„šæœ¬ä¹‹å‰ï¼Œå…ˆè¯´è¯´ä»€ä¹ˆæ˜¯shellã€‚</strong></p><p>shellæ˜¯å¤–å£³çš„æ„æ€ï¼Œå°±æ˜¯æ“ä½œç³»ç»Ÿçš„å¤–å£³ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡shellå‘½ä»¤æ¥æ“ä½œå’Œæ§åˆ¶æ“ä½œç³»ç»Ÿï¼Œæ¯”å¦‚Linuxä¸­çš„Shellå‘½ä»¤å°±åŒ…æ‹¬lsã€cdã€pwdç­‰ç­‰ã€‚æ€»ç»“æ¥è¯´ï¼ŒShellæ˜¯ä¸€ä¸ªå‘½ä»¤è§£é‡Šå™¨ï¼Œå®ƒé€šè¿‡æ¥å—ç”¨æˆ·è¾“å…¥çš„Shellå‘½ä»¤æ¥å¯åŠ¨ã€æš‚åœã€åœæ­¢ç¨‹åºçš„è¿è¡Œæˆ–å¯¹è®¡ç®—æœºè¿›è¡Œæ§åˆ¶ã€‚</p><p>shell æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå®ƒè¿æ¥äº†ç”¨æˆ·å’Œ Linux å†…æ ¸ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿæ›´åŠ é«˜æ•ˆã€å®‰å…¨ã€ä½æˆæœ¬åœ°ä½¿ç”¨ Linux å†…æ ¸ï¼Œè¿™å°±æ˜¯ Shell çš„æœ¬è´¨ã€‚</p><p>shell æœ¬èº«å¹¶ä¸æ˜¯å†…æ ¸çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒåªæ˜¯ç«™åœ¨å†…æ ¸çš„åŸºç¡€ä¸Šç¼–å†™çš„ä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚</p><p><strong>é‚£ä¹ˆä»€ä¹ˆæ˜¯shellè„šæœ¬å‘¢ï¼Ÿ</strong></p><p>shellè„šæœ¬å°±æ˜¯ç”±Shellå‘½ä»¤ç»„æˆçš„æ‰§è¡Œæ–‡ä»¶ï¼Œå°†ä¸€äº›å‘½ä»¤æ•´åˆåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¿›è¡Œå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè„šæœ¬ä¸ç”¨ç¼–è¯‘å³å¯è¿è¡Œã€‚å®ƒé€šè¿‡è§£é‡Šå™¨è§£é‡Šè¿è¡Œï¼Œæ‰€ä»¥é€Ÿåº¦ç›¸å¯¹æ¥è¯´æ¯”è¾ƒæ…¢ã€‚</p><p>shellè„šæœ¬ä¸­æœ€é‡è¦çš„å°±æ˜¯å¯¹shellå‘½ä»¤çš„ä½¿ç”¨ä¸ç»„åˆï¼Œå†ä½¿ç”¨shellè„šæœ¬æ”¯æŒçš„ä¸€äº›è¯­è¨€ç‰¹æ€§ï¼Œå®Œæˆæƒ³è¦çš„åŠŸèƒ½ã€‚</p><h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><p>â€œ# â€å¼€å¤´çš„å°±æ˜¯æ³¨é‡Šï¼Œè¢«ç¼–è¯‘å™¨å¿½ç•¥</p><ul><li>å•è¡Œæ³¨é‡Šï¼š #</li><li>å¤šè¡Œæ³¨é‡Šï¼š :&lt;&lt;EOF â€¦ EOF æˆ–è€… :&lt;&lt;! â€¦ ! ï¼ˆ:&lt;&lt; æ ‡è¯†å¤šè¡Œæ³¨é‡Šå¼€å§‹ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªæ ‡è¯†ç¬¦ä½œä¸ºå¼€å§‹ç»“æŸçš„æ ‡å¿—ï¼‰</li></ul><hr><h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><h4 id="å˜é‡ç±»å‹"><a href="#å˜é‡ç±»å‹" class="headerlink" title="å˜é‡ç±»å‹"></a>å˜é‡ç±»å‹</h4><p>è¿è¡Œshellæ—¶ï¼Œä¼šåŒæ—¶å­˜åœ¨ä¸‰ç§å˜é‡ï¼š</p><ul><li><strong>å±€éƒ¨å˜é‡</strong>ï¼šå±€éƒ¨å˜é‡åœ¨è„šæœ¬æˆ–å‘½ä»¤ä¸­å®šä¹‰ï¼Œä»…åœ¨å½“å‰shellå®ä¾‹ä¸­æœ‰æ•ˆï¼Œå…¶ä»–shellå¯åŠ¨çš„ç¨‹åºä¸èƒ½è®¿é—®å±€éƒ¨å˜é‡ã€‚</li><li><strong>ç¯å¢ƒå˜é‡</strong>ï¼šæ‰€æœ‰çš„ç¨‹åºï¼ŒåŒ…æ‹¬shellå¯åŠ¨çš„ç¨‹åºï¼Œéƒ½èƒ½è®¿é—®ç¯å¢ƒå˜é‡ï¼Œæœ‰äº›ç¨‹åºéœ€è¦ç¯å¢ƒå˜é‡æ¥ä¿è¯å…¶æ­£å¸¸è¿è¡Œã€‚å¿…è¦çš„æ—¶å€™shellè„šæœ¬ä¹Ÿå¯ä»¥å®šä¹‰ç¯å¢ƒå˜é‡ã€‚</li><li><strong>shellå˜é‡</strong>ï¼šshellå˜é‡æ˜¯ç”±shellç¨‹åºè®¾ç½®çš„ç‰¹æ®Šå˜é‡ã€‚shellå˜é‡ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯ç¯å¢ƒå˜é‡ï¼Œæœ‰ä¸€éƒ¨åˆ†æ˜¯å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡ä¿è¯äº†shellçš„æ­£å¸¸è¿è¡Œ</li></ul><h4 id="å˜é‡æ“ä½œ"><a href="#å˜é‡æ“ä½œ" class="headerlink" title="å˜é‡æ“ä½œ"></a>å˜é‡æ“ä½œ</h4><ul><li>åˆ›å»ºæ™®é€šå˜é‡ï¼š name=â€œtestâ€ ï¼ˆ=ä¸¤è¾¹ä¸å¯æœ‰ç©ºæ ¼ï¼‰</li><li>åˆ›å»ºåªå¯å‡½æ•°ä½“ä¸­ä½¿ç”¨çš„å±€éƒ¨å˜é‡ï¼š local name=â€œtestâ€ ï¼ˆä½¿ç”¨localä¿®é¥°çš„å˜é‡åœ¨å‡½æ•°ä½“å¤–æ— æ³•è®¿é—®ï¼Œå¹¶ä¸”localåªèƒ½åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨ï¼‰</li><li>ä½¿ç”¨å˜é‡ï¼š echo $name æˆ–è€… echo â€‹${name} ï¼ˆæ¨èä½¿ç”¨å¤§æ‹¬å·ç‰ˆï¼‰</li><li>å˜é‡é‡æ–°èµ‹å€¼ï¼š name=â€œnew_testâ€ ï¼ˆå°†åŸå€¼è¦†ç›–ï¼‰</li><li>åªè¯»å˜é‡ï¼š name=â€œonly_readâ€ -&gt; readonly nameï¼ˆä½¿ç”¨readonlyæ ‡è¯†åçš„å˜é‡ï¼Œä¸å¯è¢«ä¿®æ”¹ï¼‰</li><li>åˆ é™¤å˜é‡ï¼š <code>unset name</code>; ï¼ˆåˆ é™¤ä¹‹åä¸å¯è®¿é—®ï¼Œåˆ é™¤ä¸æ‰åªè¯»å˜é‡ï¼‰</li></ul><h4 id="å­—ç¬¦ä¸²å˜é‡"><a href="#å­—ç¬¦ä¸²å˜é‡" class="headerlink" title="å­—ç¬¦ä¸²å˜é‡"></a>å­—ç¬¦ä¸²å˜é‡</h4><h5 id="1ï¼‰å•å¼•å·"><a href="#1ï¼‰å•å¼•å·" class="headerlink" title="1ï¼‰å•å¼•å·"></a>1ï¼‰å•å¼•å·</h5><ul><li>å•å¼•å·å˜é‡<span>var=â€™testâ€™ </span>ï¼Œåªèƒ½åŸæ ·è¾“å‡ºï¼Œå˜é‡æ— æ•ˆ</li><li>å•å¼•å·ä¸­ä¸èƒ½å‡ºç°ä¸€ä¸ªå•ç‹¬çš„å•å¼•å·ï¼Œè½¬ä¹‰ä¹Ÿä¸å¯ä»¥</li></ul><h5 id="2ï¼‰åŒå¼•å·"><a href="#2ï¼‰åŒå¼•å·" class="headerlink" title="2ï¼‰åŒå¼•å·"></a>2ï¼‰åŒå¼•å·</h5><ul><li>åŒå¼•å·å˜é‡var=â€my name is ${name}â€ï¼Œå˜é‡æœ‰æ•ˆ</li><li>å¯å‡ºç°è½¬ä¹‰ç¬¦</li></ul><h5 id="3ï¼‰æ‹¼æ¥å­—ç¬¦ä¸²"><a href="#3ï¼‰æ‹¼æ¥å­—ç¬¦ä¸²" class="headerlink" title="3ï¼‰æ‹¼æ¥å­—ç¬¦ä¸²"></a>3ï¼‰æ‹¼æ¥å­—ç¬¦ä¸²</h5><ul><li>ä¸­é—´æ— ä»»ä½•+ï¼Œä¹‹ç±»çš„å­—ç¬¦</li><li>name=â€œthis isâ€â€ my nameâ€; name=â€œthis is my nameâ€; name=â€œthisâ€ is â€œmy nameâ€ ç­‰æ•ˆ</li><li>name=â€˜this isâ€™â€™ my namâ€™; name=â€˜this is my nameâ€™; name=â€˜thisâ€™ is â€˜my nameâ€™ ç­‰æ•ˆ</li></ul><h5 id="4ï¼‰è·å–å­—ç¬¦ä¸²é•¿åº¦"><a href="#4ï¼‰è·å–å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="4ï¼‰è·å–å­—ç¬¦ä¸²é•¿åº¦"></a>4ï¼‰è·å–å­—ç¬¦ä¸²é•¿åº¦</h5><ul><li><p>åœ¨${}ä¸­ä½¿ç”¨â€œ#â€è·å–é•¿åº¦</p></li><li><p>name=â€œtestâ€;</p></li><li><p>echo ${#name}; # è¾“å‡ºä¸º4</p></li></ul><h5 id="5ï¼‰æå–å­å­—ç¬¦ä¸²"><a href="#5ï¼‰æå–å­å­—ç¬¦ä¸²" class="headerlink" title="5ï¼‰æå–å­å­—ç¬¦ä¸²"></a>5ï¼‰æå–å­å­—ç¬¦ä¸²</h5><ul><li>1:4 ä»ç¬¬2ä¸ªå¼€å§‹ å¾€åæˆªå–4ä¸ªå­—ç¬¦</li><li>::4 ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ å¾€åæˆªå–4ä¸ªå­—ç¬¦</li><li>name=â€œthis is my nameâ€;</li><li>echo ${name:1:4} #è¾“å‡º is i</li><li>echo ${name::4}   #è¾“å‡º this</li></ul><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><p>bashåªæ”¯æŒä¸€ç»´æ•°ç»„ï¼Œä¸æ”¯æŒå¤šç»´æ•°ç»„</p><ul><li>å®šä¹‰æ•°ç»„ï¼šarray_name=(li wang xiang zhang) ï¼ˆå°æ‹¬å·åšè¾¹ç•Œã€ä½¿ç”¨ç©ºæ ¼åˆ†ç¦»ï¼‰</li><li>å•ç‹¬å®šä¹‰æ•°ç»„çš„å…ƒç´ ï¼š array_para[0]=â€œwâ€; array_para[3]=â€œsâ€ ï¼ˆå®šä¹‰æ—¶ä¸‹æ ‡ä¸è¿ç»­ä¹Ÿå¯ä»¥ï¼‰</li><li>èµ‹å€¼æ•°ç»„å…ƒç´ ï¼šarray_name[0]=â€œzhaoâ€;</li><li>è·å–æ•°ç»„å…ƒç´ ï¼š<ul><li>array_name[0]=â€œliâ€</li><li>array_name[3]=â€œzhangâ€</li><li>echo ${array_name[0]} # è¾“å‡ºâ€liâ€</li><li>echo ${array_name[1]} # è¾“å‡ºâ€ â€œ</li><li>echo ${array_name[3]} # è¾“å‡ºâ€zhangâ€</li><li>echo ${array_name[@]} # è¾“å‡ºâ€li zhangâ€ è¾“å‡ºæ•°ç»„æ‰€æœ‰å…ƒç´ ï¼Œæ²¡æœ‰å…ƒç´ çš„ä¸‹æ ‡çœç•¥</li></ul></li><li>å–å¾—å…ƒç´ ä¸ªæ•°ï¼š${#array_name[@]} æˆ–è€… ${#array_name[*]}</li><li>å–å¾—å•ä¸ªå…ƒç´ é•¿åº¦ï¼š${#array_name[1]}</li></ul><hr><h4 id="å‚æ•°ä¼ é€’"><a href="#å‚æ•°ä¼ é€’" class="headerlink" title="å‚æ•°ä¼ é€’"></a>å‚æ•°ä¼ é€’</h4><ul><li><p>è·å–å‚æ•°å€¼ï¼š</p><ul><li>$0 ï¼š å›ºå®šï¼Œä»£è¡¨æ‰§è¡Œçš„æ–‡ä»¶å </li></ul></li><li><p>$1 ï¼š ä»£è¡¨ä¼ å…¥çš„ç¬¬1ä¸ªå‚æ•°</p><ul><li>$n ï¼š ä»£è¡¨ä¼ å…¥çš„ç¬¬nä¸ªå‚æ•°</li><li>$#ï¼šå‚æ•°ä¸ªæ•°</li></ul></li><li><p>$*ï¼š ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°ã€‚å¦‚â€$*â€œç”¨ã€Œâ€ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥â€$1 $2 â€¦ â€‹$nâ€çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°</p></li><li><p>$@ï¼šä¸$*ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­è¿”å›æ¯ä¸ªå‚æ•°ã€‚</p></li><li><p>$$ï¼šè„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹å·</p></li><li><p>$ï¼ï¼šåå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„ID</p></li><li><p>$?ï¼š æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚</p></li><li><p>$* ä¸ $@ åŒºåˆ«<br><strong>ç›¸åŒç‚¹</strong>ï¼šéƒ½æ˜¯å¼•ç”¨æ‰€æœ‰å‚æ•°ã€‚<br><strong>ä¸åŒç‚¹</strong>ï¼šåªæœ‰åœ¨åŒå¼•å·ä¸­ä½“ç°å‡ºæ¥ã€‚å‡è®¾åœ¨è„šæœ¬è¿è¡Œæ—¶å†™äº†ä¸‰ä¸ªå‚æ•° 1ã€2ã€3ï¼Œï¼Œåˆ™ â€œ * â€œ ç­‰ä»·äº â€œ1 2 3â€ï¼ˆä¼ é€’äº†ä¸€ä¸ªå‚æ•°ï¼‰ï¼Œè€Œ â€œ@â€ ç­‰ä»·äº â€œ1â€ â€œ2â€ â€œ3â€ï¼ˆä¼ é€’äº†ä¸‰ä¸ªå‚æ•°ï¼‰ã€‚</p></li></ul><h3 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h3><h4 id="ç®—æ•°è¿ç®—"><a href="#ç®—æ•°è¿ç®—" class="headerlink" title="ç®—æ•°è¿ç®—"></a>ç®—æ•°è¿ç®—</h4><ul><li><code>+ã€-ã€*ã€\</code> ï¼š ä¹˜å·å‰å¿…é¡»åŠ \è¿›è¡Œè½¬ä¹‰æ‰å¯ä»¥è¿›è¡Œä¹˜æ³•è¿ç®—</li><li>åŠ æ³•è¿ç®—</li><li>val=<code>expr 2 + 2</code> ï¼ˆä½¿ç”¨<code>linux</code>å‘½ä»¤<code>expr</code>è¿›è¡Œè¾…åŠ©è¿ç®—ï¼‰</li><li>val=$[2+2] ï¼ˆ4ä¸ªç©ºæ ¼ä¸æ˜¯å¿…è¦çš„ï¼Œä¸åŒäºæ¡ä»¶åˆ¤æ–­ï¼‰</li><li>val=$((2+2))</li></ul><h4 id="æ•°å­—å…³ç³»è¿ç®—ç¬¦"><a href="#æ•°å­—å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="æ•°å­—å…³ç³»è¿ç®—ç¬¦"></a>æ•°å­—å…³ç³»è¿ç®—ç¬¦</h4><p>å…³ç³»è¿ç®—ç¬¦åªæ”¯æŒæ•°å­—ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²ï¼Œé™¤éå­—ç¬¦ä¸²çš„å€¼æ˜¯æ•°å­—ã€‚<br>ä¸‹é¢å‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20</p><ul><li><code>-eq</code> ï¼šæ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚ [ $a -eq $b ] è¿”å› falseã€‚</li><li><code>-ne</code>ï¼š æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ä¸ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚ [ $a -ne $b ] è¿”å› trueã€‚</li><li><code>-gt</code>ï¼š æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ $a -gt $b ] è¿”å› falseã€‚</li><li><code>-lt</code> ï¼š æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ $a -lt $b ] è¿”å› trueã€‚</li><li><code>-ge</code>ï¼š æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ $a -ge $b ] è¿”å› falseã€‚</li><li><code>-le</code> ï¼š æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ $a -le $b ] è¿”å› trueã€‚</li></ul><h4 id="å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>å­—ç¬¦ä¸²è¿ç®—ç¬¦</h4><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å­—ç¬¦ä¸²è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º â€œabcâ€ï¼Œå˜é‡ b ä¸º â€œefgâ€ï¼š</p><ul><li><code>=</code> ï¼šæ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚ [ $a = $b ] è¿”å› falseã€‚</li><li><code>!=</code> ï¼šæ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚ [ $a != $b ] è¿”å› trueã€‚</li><li><code>-z</code> ï¼šæ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸º0è¿”å› trueã€‚ [ -z $a ] è¿”å› falseã€‚</li><li><code>-n</code> ï¼šæ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸ä¸º0è¿”å› trueã€‚ [ -n â€œ$aâ€ ] è¿”å› trueã€‚</li><li>$ ï¼šæ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚ [ $a ] è¿”å› trueã€‚</li></ul><h4 id="å¸ƒå°”è¿ç®—ç¬¦"><a href="#å¸ƒå°”è¿ç®—ç¬¦" class="headerlink" title="å¸ƒå°”è¿ç®—ç¬¦"></a>å¸ƒå°”è¿ç®—ç¬¦</h4><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å¸ƒå°”è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p><ul><li><code>!</code> ï¼šéè¿ç®—ï¼Œè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› trueã€‚ [ ! false ] è¿”å› trueã€‚</li><li><code>-o</code> ï¼šæˆ–è¿ç®—ï¼Œæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› trueã€‚ [ $a -lt 20 -o $b -gt 100 ] è¿”å› trueã€‚</li><li><code>-a</code> ï¼šä¸è¿ç®—ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼éƒ½ä¸º true æ‰è¿”å› trueã€‚ [ $a -lt 20 -a $b -gt 100 ] è¿”å› falseã€‚</li></ul><h4 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h4><p>ä»¥ä¸‹ä»‹ç» Shell çš„é€»è¾‘è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20:</p><ul><li><code>&amp;&amp;</code> ï¼šé€»è¾‘çš„ AND [[ $a -lt 100 &amp;&amp; $b -gt 100 ]] è¿”å› false</li><li><code>||</code> ï¼šé€»è¾‘çš„ OR [[ $a -lt 100 || $b -gt 100 ]] è¿”å› true</li></ul><h4 id="æ–‡ä»¶è¿ç®—ç¬¦"><a href="#æ–‡ä»¶è¿ç®—ç¬¦" class="headerlink" title="æ–‡ä»¶è¿ç®—ç¬¦"></a>æ–‡ä»¶è¿ç®—ç¬¦</h4><ul><li><code>-b file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ -b $file ]`è¿”å› falseã€‚</li><li><code>-c file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ -c $file ] è¿”å› falseã€‚</li><li><code>-d file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ -d $file ] è¿”å› falseã€‚</li><li><code>-f file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ -f $file ]è¿”å› trueã€‚</li><li><code>-g file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SGID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚[ -g $file ] è¿”å› falseã€‚</li><li><code>-k file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½(Sticky Bit)ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ -k $file ] è¿”å› falseã€‚</li><li><code>-p file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ -p $file ]`è¿”å› falseã€‚</li><li><code>-u file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SUID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ -u $file ]è¿”å› falseã€‚</li><li><code>-r file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ -r $file ] è¿”å› trueã€‚</li><li><code>-w file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ -w $file ] è¿”å› trueã€‚</li><li><code>-x file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ -x $file ] è¿”å› trueã€‚</li><li><code>-s file</code> ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº0ï¼‰ï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚ [ -s $file ] è¿”å› trueã€‚</li><li><code>-e file</code> ï¼šæ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚ [ -e $file ] è¿”å› trueã€‚</li></ul><hr><h3 id="æ‰§è¡Œç›¸å…³"><a href="#æ‰§è¡Œç›¸å…³" class="headerlink" title="æ‰§è¡Œç›¸å…³"></a>æ‰§è¡Œç›¸å…³</h3><h4 id="å‘½ä»¤æ›¿æ¢"><a href="#å‘½ä»¤æ›¿æ¢" class="headerlink" title="å‘½ä»¤æ›¿æ¢"></a>å‘½ä»¤æ›¿æ¢</h4><p>å‘½ä»¤æ›¿æ¢ä¸å˜é‡æ›¿æ¢å·®ä¸å¤šï¼Œéƒ½æ˜¯ç”¨æ¥é‡ç»„å‘½ä»¤è¡Œçš„ï¼Œå…ˆå®Œæˆå¼•å·é‡Œçš„å‘½ä»¤è¡Œï¼Œç„¶åå°†å…¶ç»“æœæ›¿æ¢å‡ºæ¥ï¼Œå†é‡ç»„æˆæ–°çš„å‘½ä»¤è¡Œã€‚<br>æ‰§è¡Œå‘½ä»¤ï¼š</p><ol><li>ls /etc ï¼š åå¼•å· ï¼ˆæ‰€æœ‰çš„unixç³»ç»Ÿéƒ½æ”¯æŒï¼‰</li><li>$(ls /etc) ï¼š $+() ï¼ˆéƒ¨åˆ†unixç³»ç»Ÿä¸æ”¯æŒï¼‰<br>å¤šä¸ªåµŒå¥—ä½¿ç”¨æ—¶ï¼Œä»å†…å‘å¤–æ‰§è¡Œ</li></ol><h4 id="ç®—æœ¯è¿ç®—"><a href="#ç®—æœ¯è¿ç®—" class="headerlink" title="ç®—æœ¯è¿ç®—"></a>ç®—æœ¯è¿ç®—</h4><ul><li><code>$[ ]</code> : åŠ å‡ä¹˜é™¤,ä¸å¿…æ·»åŠ ç©ºæ ¼</li><li><code>$(( ))</code> ï¼šåŠ å‡ä¹˜é™¤ç­‰,ä¸å¿…æ·»åŠ ç©ºæ ¼</li></ul><h4 id="é€»è¾‘åˆ¤æ–­"><a href="#é€»è¾‘åˆ¤æ–­" class="headerlink" title="é€»è¾‘åˆ¤æ–­"></a>é€»è¾‘åˆ¤æ–­</h4><ul><li><code>[]</code>ï¼š ä¸­æ‹¬å·æ—è¾¹å’Œè¿ç®—ç¬¦ä¸¤è¾¹å¿…é¡»æ·»åŠ ç©ºæ ¼ ï¼ˆå¯ä»¥ä½¿ç”¨ï¼Œä¸æ¨èï¼‰</li><li><code>[[ ]]</code>ï¼šä¸­æ‹¬å·æ—è¾¹å’Œè¿ç®—ç¬¦ä¸¤è¾¹å¿…é¡»æ·»åŠ ç©ºæ ¼ ï¼ˆå­—ç¬¦ä¸²éªŒè¯æ—¶ï¼Œæ¨èä½¿ç”¨ï¼‰</li><li><code>(())</code> ï¼š ä¸­æ‹¬å·æ—è¾¹å’Œè¿ç®—ç¬¦ä¸¤è¾¹å¿…é¡»æ·»åŠ ç©ºæ ¼ ï¼ˆæ•°å­—éªŒè¯æ—¶ï¼Œæ¨èä½¿ç”¨ï¼‰</li><li><code>[[]]</code>å’Œ <code>(())</code> åˆ†åˆ«æ˜¯[ ]çš„é’ˆå¯¹æ•°å­¦æ¯”è¾ƒè¡¨è¾¾å¼å’Œå­—ç¬¦ä¸²è¡¨è¾¾å¼çš„åŠ å¼ºç‰ˆã€‚</li><li>ä½¿ç”¨[[ â€¦ ]]æ¡ä»¶åˆ¤æ–­ç»“æ„ï¼Œè€Œä¸æ˜¯[ â€¦ ]ï¼Œèƒ½å¤Ÿé˜²æ­¢è„šæœ¬ä¸­çš„è®¸å¤šé€»è¾‘é”™è¯¯ã€‚æ¯”å¦‚ï¼Œ&amp;&amp;ã€||ã€&lt;å’Œ&gt; æ“ä½œç¬¦èƒ½å¤Ÿæ­£å¸¸å­˜åœ¨äº[[ ]]æ¡ä»¶åˆ¤æ–­ç»“æ„ä¸­ï¼Œä½†æ˜¯å¦‚æœå‡ºç°åœ¨[ ]ç»“æ„ä¸­çš„è¯ï¼Œä¼šæŠ¥é”™ã€‚æ¯”å¦‚å¯ä»¥ç›´æ¥ä½¿ç”¨if [[ $a != 1 &amp;&amp; â€‹$a != 2 ]], å¦‚æœä¸é€‚ç”¨åŒæ‹¬å·, åˆ™ä¸ºif [ â€‹$a -ne 1] &amp;&amp; [ â€‹$a != 2 ]æˆ–è€…if [ â€‹$a -ne 1 -a $a != 2 ]ã€‚<br>[[ ]]ä¸­å¢åŠ æ¨¡å¼åŒ¹é…ç‰¹æ•ˆï¼›</li></ul><hr><h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><h4 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h4><p>ä»…ç”¨äºå­—ç¬¦ä¸²çš„è¾“å‡ºï¼Œæ²¡æœ‰ä½¿ç”¨printfä½œä¸ºè¾“å‡ºçš„ç§»æ¤æ€§å¥½ï¼Œå»ºè®®ä½¿ç”¨printf</p><h4 id="printf"><a href="#printf" class="headerlink" title="printf"></a>printf</h4><blockquote><p>printf ä¸ä¼šåƒ echo è‡ªåŠ¨æ·»åŠ æ¢è¡Œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ·»åŠ  \n<br>æ— å¤§æ‹¬å·ï¼Œç›´æ¥ä»¥ç©ºæ ¼åˆ†éš”</p></blockquote><ul><li>æ ¼å¼ï¼šprintf format-string [argumentsâ€¦] å…¶ä¸­ï¼ˆformat-string: æ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²ã€arguments: å‚æ•°åˆ—è¡¨ï¼‰</li><li>æ¡ˆä¾‹ï¼šprintf â€œ%-10s %-8s %-4.2f\nâ€ éƒ­é– ç”· 66.1234</li><li>%s %c %d %f éƒ½æ˜¯æ ¼å¼æ›¿ä»£ç¬¦<ul><li>dï¼šDecimal åè¿›åˆ¶æ•´æ•° å¯¹åº”ä½ç½®å‚æ•°å¿…é¡»æ˜¯åè¿›åˆ¶æ•´æ•°ï¼Œå¦åˆ™æŠ¥é”™!</li><li>sï¼šString å­—ç¬¦ä¸² å¯¹åº”ä½ç½®å‚æ•°å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦å‹ å¦åˆ™æŠ¥é”™</li><li>cï¼šChar å­—ç¬¦ å¯¹åº”ä½ç½®å‚æ•°å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦å‹ å¦åˆ™æŠ¥é”™</li><li>fï¼šFloat æµ®ç‚¹ å¯¹åº”ä½ç½®å‚æ•°å¿…é¡»æ˜¯æ•°å­—å‹ å¦åˆ™æŠ¥é”™</li></ul></li><li>%-10s ï¼š æŒ‡ä¸€ä¸ªå®½åº¦ä¸º10ä¸ªå­—ç¬¦ï¼ˆ-è¡¨ç¤ºå·¦å¯¹é½ï¼Œæ²¡æœ‰åˆ™è¡¨ç¤ºå³å¯¹é½ï¼‰ï¼Œä»»ä½•å­—ç¬¦éƒ½ä¼šè¢«æ˜¾ç¤ºåœ¨10ä¸ªå­—ç¬¦å®½çš„å­—ç¬¦å†…ï¼Œå¦‚æœä¸è¶³åˆ™è‡ªåŠ¨ä»¥ç©ºæ ¼å¡«å……ï¼Œè¶…è¿‡ä¹Ÿä¼šå°†å†…å®¹å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ã€‚</li><li>%-4.2f ï¼šæŒ‡æ ¼å¼åŒ–ä¸ºå°æ•°ï¼Œå®½åº¦ä¸º4ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­.2æŒ‡ä¿ç•™2ä½å°æ•°ã€‚</li><li>è½¬ä¹‰ç¬¦ï¼š<ul><li>\a ï¼šè­¦å‘Šå­—ç¬¦ï¼Œé€šå¸¸ä¸ºASCIIçš„BELå­—ç¬¦</li><li>\b ï¼šåé€€</li><li>\c ï¼šæŠ‘åˆ¶ï¼ˆä¸æ˜¾ç¤ºï¼‰è¾“å‡ºç»“æœä¸­ä»»ä½•ç»“å°¾çš„æ¢è¡Œå­—ç¬¦ï¼ˆåªåœ¨%bæ ¼å¼æŒ‡ç¤ºç¬¦æ§åˆ¶ä¸‹çš„å‚æ•°å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆï¼‰ï¼Œè€Œä¸”ï¼Œä»»ä½•ç•™åœ¨å‚æ•°é‡Œçš„å­—ç¬¦ã€ä»»ä½•æ¥ä¸‹æ¥çš„å‚æ•°ä»¥åŠä»»ä½•ç•™åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œéƒ½è¢«å¿½ç•¥</li><li>\f ï¼šæ¢é¡µï¼ˆformfeedï¼‰<br>\n ï¼šæ¢è¡Œ</li><li>\r ï¼šå›è½¦ï¼ˆCarriage returnï¼‰</li><li>\t ï¼šæ°´å¹³åˆ¶è¡¨ç¬¦</li><li>\v ï¼šå‚ç›´åˆ¶è¡¨ç¬¦</li><li>\ ï¼šä¸€ä¸ªå­—é¢ä¸Šçš„åæ–œæ å­—ç¬¦</li><li>\ddd ï¼šè¡¨ç¤º1åˆ°3ä½æ•°å…«è¿›åˆ¶å€¼çš„å­—ç¬¦ã€‚ä»…åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆ</li><li>\0ddd ï¼šè¡¨ç¤º1åˆ°3ä½çš„å…«è¿›åˆ¶å€¼å­—ç¬¦</li></ul></li></ul><hr><h3 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h3><p>å’ŒJavaã€PHPç­‰è¯­è¨€ä¸ä¸€æ ·ï¼Œshçš„æµç¨‹æ§åˆ¶ä¸å¯ä¸ºç©ºï¼Œå³ifæˆ–è€…elseçš„å¤§æ‹¬å·ä¸­æ— ä»»ä½•è¯­å¥</p><h4 id="if-else"><a href="#if-else" class="headerlink" title="if else"></a>if else</h4><ul><li>if</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command1 </span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN </span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><ul><li>if else</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command1 </span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><ul><li>if else-if else</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition1</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command1</span><br><span class="line"><span class="keyword">elif</span> condition2 </span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line">    command2</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><ul><li>for</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> item1 item2 ... itemN</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><ul><li>while</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> condition</span><br><span class="line"><span class="keyword">while</span> condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><ul><li>while æ— é™å¾ªç¯</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> :</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><ul><li>until<br>until å¾ªç¯æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤ç›´è‡³æ¡ä»¶ä¸º true æ—¶åœæ­¢ã€‚<br>until å¾ªç¯ä¸ while å¾ªç¯åœ¨å¤„ç†æ–¹å¼ä¸Šåˆšå¥½ç›¸åã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">until condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><h4 id="case"><a href="#case" class="headerlink" title="case"></a>case</h4><p>Shell caseè¯­å¥ä¸ºå¤šé€‰æ‹©è¯­å¥ã€‚å¯ä»¥ç”¨caseè¯­å¥åŒ¹é…ä¸€ä¸ªå€¼ä¸ä¸€ä¸ªæ¨¡å¼ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œæ‰§è¡Œç›¸åŒ¹é…çš„å‘½ä»¤ã€‚<br>caseéœ€è¦ä¸€ä¸ªesacï¼ˆå°±æ˜¯caseåè¿‡æ¥ï¼‰ä½œä¸ºç»“æŸæ ‡è®°ï¼Œæ¯ä¸ªcaseåˆ†æ”¯ç”¨å³åœ†æ‹¬å·ï¼Œç”¨ä¸¤ä¸ªåˆ†å·è¡¨ç¤ºbreakï¼Œå…¶ä¸­â€œ;;â€ä¸æ˜¯è·³å‡ºå¾ªç¯ï¼Œæ˜¯ä¸åœ¨å»åŒ¹é…ä¸‹é¢çš„æ¨¡å¼<br>caseè¯­å¥æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> å€¼ <span class="keyword">in</span></span><br><span class="line">  æ¨¡å¼1)</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">  æ¨¡å¼2ï¼‰</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><h4 id="è·³å‡ºå¾ªç¯"><a href="#è·³å‡ºå¾ªç¯" class="headerlink" title="è·³å‡ºå¾ªç¯"></a>è·³å‡ºå¾ªç¯</h4><ul><li>break ï¼šè·³å‡ºæ€»å¾ªç¯</li><li>continueï¼šè·³å‡ºå½“å‰å¾ªç¯ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯</li></ul><h4 id="å®šä¹‰å‡½æ•°"><a href="#å®šä¹‰å‡½æ•°" class="headerlink" title="å®šä¹‰å‡½æ•°"></a>å®šä¹‰å‡½æ•°</h4><p>å¯ä»¥å¸¦function fun() å®šä¹‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥fun() å®šä¹‰,ä¸å¸¦ä»»ä½•å‚æ•°ã€‚</p><ul><li>å‡½æ•°å®šä¹‰</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="keyword">function</span> ] funname()</span><br><span class="line">&#123;</span><br><span class="line">    action;</span><br><span class="line">    [<span class="built_in">return</span> int;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°ä¼ é€’<ul><li>è°ƒç”¨å‡½æ•°: <code>fun_name 2 3 4</code></li><li>å‡½æ•°ä¸­ä½¿ç”¨ï¼šå’Œ<code>shell</code>å–ç”¨å‡½æ•°ç›¸åŒ <code>$n $# $* $?</code>æˆ–è€…åŠ ä¸Š<code>{}</code></li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">funWithParam</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"ç¬¬ä¸€ä¸ªå‚æ•°ä¸º 1 !"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"ç¬¬äºŒä¸ªå‚æ•°ä¸º 2 !"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"ç¬¬åä¸ªå‚æ•°ä¸º 10 !"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"ç¬¬åä¸ªå‚æ•°ä¸º &#123;10&#125; !"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"ç¬¬åä¸€ä¸ªå‚æ•°ä¸º &#123;11&#125; !"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"å‚æ•°æ€»æ•°æœ‰ # ä¸ª!"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° * !"</span>&#125;</span><br><span class="line">funWithParam 1 2 3 4 5 6 7 8 9 34 73</span><br><span class="line"><span class="built_in">echo</span> ?  <span class="comment"># åˆ¤æ–­æ‰§è¡Œæ˜¯å¦æˆåŠŸ</span></span><br></pre></td></tr></table></figure><ul><li>å‡½æ•°è¿”å›å€¼<ul><li>returnå­—æ ·å¯å­˜åœ¨ä¹Ÿå¯ä¸å­˜åœ¨</li><li>return åªèƒ½ä¸º return [0-255]ï¼Œæ­¤å¤„çš„è¿”å›å¯ä½œä¸ºå‡½æ•°æ‰§è¡Œçš„çŠ¶æ€ï¼Œé€šè¿‡<code>$?</code>è·å–çš„ä¾¿æ˜¯è¿™ä¸ªè¿”å›å€¼</li><li>å¦‚æœä¸åŠ return ï¼Œ åˆ™é»˜è®¤æœ€åä¸€æ¡è¯­å¥çš„æ‰§è¡ŒçŠ¶æ€æ‰€ä¸ºå‡½æ•°æ‰§è¡ŒçŠ¶æ€çš„è¿”å›å€¼ï¼Œå¦‚æœæœ€åä¸€æ¡è¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œåˆ™<code>$?</code>ä¸º0ï¼Œå¦åˆ™ä¸ä¸º0</li></ul></li><li>ä½¿ç”¨å‡½æ•°è¿”å›å€¼ï¼ˆ<code>Janusgraph</code>å›¾æ•°æ®åº“å®˜æ–¹å¯åŠ¨æœåŠ¡è„šæœ¬ç‰‡æ®µï¼‰<ul><li><code>return</code>è¿”å›çš„æ•°å­—ï¼Œåªæ˜¯ä½œä¸ºå‡½æ•°æ‰§è¡ŒçŠ¶æ€çš„è¿”å›å€¼ï¼Œä¹Ÿå°±æ˜¯æ¥ä¸‹æ¥<code>$?</code>è·å–çš„å€¼</li><li>å¯¹äºç±»ä¼¼äºä¸‹é¢çš„<code>BIN=\abs_path</code>è¯­å¥ï¼Œè·å–çš„æ˜¯å‡½æ•°ä½“å†…æ‰€æœ‰çš„<code>echoã€printf</code>è¾“å‡ºç»„åˆæˆçš„ä¸€ä¸ªå­—ç¬¦ä¸²</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">abs_path</span></span>() &#123;</span><br><span class="line">    SOURCE=<span class="string">"&#123;BASH_SOURCE[0]&#125;"</span></span><br><span class="line">    <span class="keyword">while</span> [ -h <span class="string">"SOURCE"</span> ]; <span class="keyword">do</span></span><br><span class="line">        DIR=<span class="string">"( cd -P "</span>( dirname <span class="string">"SOURCE"</span> )<span class="string">" &amp;&amp; pwd )"</span></span><br><span class="line">        SOURCE=<span class="string">"(readlink "</span>SOURCE<span class="string">")"</span></span><br><span class="line">        [[ SOURCE != /* ]] &amp;&amp; SOURCE=<span class="string">"DIR/SOURCE"</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"test"</span>  </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"( cd -P "</span>( dirname <span class="string">"<span class="variable">$SOURCE</span>"</span> )<span class="string">" &amp;&amp; pwd )"</span>  </span><br><span class="line">    æ­¤å‡½æ•°çš„ä¸¤ä¸ª<span class="built_in">echo</span>è¾“å‡ºä¼šç»„åˆæˆä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºä¸‹è¿°BINçš„å€¼</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BIN=abs_path <span class="comment"># BINèµ‹å€¼å‡½æ•°è¿”å›å€¼ï¼Œå¦‚æœæ²¡æœ‰returnï¼Œåˆ™å‡½æ•°ä¸­æ‰€æœ‰çš„echoã€printfè¾“å‡ºç»„åˆæˆä¸€ä¸ªå­—ç¬¦ä¸²ä¼ å…¥BIN</span></span><br><span class="line">path=<span class="variable">$&#123;BIN&#125;</span>/nodetool <span class="comment"># å¯ç›´æ¥ä½¿ç”¨</span></span><br></pre></td></tr></table></figure><h3 id="è¾“å…¥è¾“å‡ºé‡å®šå‘"><a href="#è¾“å…¥è¾“å‡ºé‡å®šå‘" class="headerlink" title="è¾“å…¥è¾“å‡ºé‡å®šå‘"></a>è¾“å…¥è¾“å‡ºé‡å®šå‘</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸ª Unix/Linux å‘½ä»¤è¿è¡Œæ—¶éƒ½ä¼šæ‰“å¼€ä¸‰ä¸ªæ–‡ä»¶ï¼š</p><ul><li>æ ‡å‡†è¾“å…¥æ–‡ä»¶(stdin)ï¼šstdinçš„æ–‡ä»¶æè¿°ç¬¦ä¸º0ï¼ŒUnixç¨‹åºé»˜è®¤ä»stdinè¯»å–æ•°æ®ã€‚</li><li>æ ‡å‡†è¾“å‡ºæ–‡ä»¶(stdout)ï¼šstdout çš„æ–‡ä»¶æè¿°ç¬¦ä¸º1ï¼ŒUnixç¨‹åºé»˜è®¤å‘stdoutè¾“å‡ºæ•°æ®ã€‚</li><li>æ ‡å‡†é”™è¯¯æ–‡ä»¶(stderr)ï¼šstderrçš„æ–‡ä»¶æè¿°ç¬¦ä¸º2ï¼ŒUnixç¨‹åºä¼šå‘stderræµä¸­å†™å…¥é”™è¯¯ä¿¡æ¯ã€‚</li></ul><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œcommand &gt; file å°† stdout é‡å®šå‘åˆ° fileï¼Œcommand &lt; file å°†stdin é‡å®šå‘åˆ° fileã€‚<br>å¦‚æœå¸Œæœ›æ‰§è¡ŒæŸä¸ªå‘½ä»¤ï¼Œä½†åˆä¸å¸Œæœ›åœ¨å±å¹•ä¸Šæ˜¾ç¤ºè¾“å‡ºç»“æœï¼Œé‚£ä¹ˆå¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ° /dev/nullï¼š</p><h4 id="è¾“å…¥é‡å®šå‘"><a href="#è¾“å…¥é‡å®šå‘" class="headerlink" title="è¾“å…¥é‡å®šå‘"></a>è¾“å…¥é‡å®šå‘</h4><ul><li>bash.sh &lt; file ï¼š å°†è„šæœ¬çš„è¾“å…¥é‡å®šå‘åˆ°fileï¼Œç”±fileæä¾›å‚æ•°</li></ul><h4 id="è¾“å‡ºé‡å®šå‘"><a href="#è¾“å‡ºé‡å®šå‘" class="headerlink" title="è¾“å‡ºé‡å®šå‘"></a>è¾“å‡ºé‡å®šå‘</h4><ul><li>bash.sh &gt; file ï¼š å°†è„šæœ¬çš„è¾“å‡ºæ•°æ®é‡å®šå‘åˆ°fileä¸­ï¼Œè¦†ç›–æ•°æ®</li><li>bash.sh &gt;&gt; file ï¼š å°†è„šæœ¬çš„è¾“å‡ºæ•°æ®é‡å®šå‘åˆ°fileä¸­ï¼Œè¿½åŠ æ•°æ®</li><li>command &gt;&gt; file 2&gt;&amp;1 ï¼š å°† stdout å’Œ stderr åˆå¹¶åé‡å®šå‘åˆ° file</li></ul><h4 id="è¯»å–å¤–éƒ¨è¾“å…¥"><a href="#è¯»å–å¤–éƒ¨è¾“å…¥" class="headerlink" title="è¯»å–å¤–éƒ¨è¾“å…¥"></a>è¯»å–å¤–éƒ¨è¾“å…¥</h4><p>å‘½ä»¤ï¼š<code>read arg</code> ï¼ˆè„šæœ¬è¯»å–å¤–éƒ¨è¾“å…¥å¹¶èµ‹å€¼åˆ°å˜é‡ä¸Šï¼‰<br>åœ¨shellè„šæœ¬æ‰§è¡Œåˆ°ä¸Šè¿°å‘½ä»¤æ—¶ï¼Œåœæ­¢è„šæœ¬æ‰§è¡Œå¹¶ç­‰å¾…å¤–éƒ¨è¾“å…¥ï¼Œå°†å¤–éƒ¨è¾“å…¥èµ‹å€¼åˆ°argå˜é‡ä¸Šï¼Œç»§ç»­æ‰§è¡Œè„šæœ¬</p><h3 id="æ–‡ä»¶å¼•ç”¨"><a href="#æ–‡ä»¶å¼•ç”¨" class="headerlink" title="æ–‡ä»¶å¼•ç”¨"></a>æ–‡ä»¶å¼•ç”¨</h3><p>å¼•ç”¨å…¶ä»–çš„æ–‡ä»¶ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨å…¶å˜é‡ã€å‡½æ•°ç­‰ç­‰ï¼Œç›¸å½“äºå°†å¼•ç”¨çš„æ–‡ä»¶åŒ…å«è¿›äº†å½“å‰æ–‡ä»¶<br>ä¸¤ç§æ–¹å¼ï¼š</p><ul><li><code>. file_path\file_name</code></li><li><code>source file_path\file_name</code></li></ul><h3 id="é¢œè‰²æ ‡è¯†"><a href="#é¢œè‰²æ ‡è¯†" class="headerlink" title="é¢œè‰²æ ‡è¯†"></a>é¢œè‰²æ ‡è¯†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>  <span class="string">"\033[32m SUCCESS: yay \033[0m\n"</span>;</span><br><span class="line"><span class="built_in">printf</span>  <span class="string">"\033[33m WARNING: hmm \033[0m\n"</span>;</span><br><span class="line"><span class="built_in">printf</span>  <span class="string">"\033[31m ERROR: fubar \033[0m\n"</span>;</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºç»“æœï¼š"><a href="#è¾“å‡ºç»“æœï¼š" class="headerlink" title="è¾“å‡ºç»“æœï¼š"></a><strong>è¾“å‡ºç»“æœï¼š</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SUCCESS: yay</span><br><span class="line">WARNING: hmm</span><br><span class="line">ERROR: fubar</span><br></pre></td></tr></table></figure><h3 id="é•¿å¥æ¢è¡Œ"><a href="#é•¿å¥æ¢è¡Œ" class="headerlink" title="é•¿å¥æ¢è¡Œ"></a>é•¿å¥æ¢è¡Œ</h3><p>åœ¨shellä¸­ä¸ºé¿å…ä¸€ä¸ªè¯­å¥è¿‡é•¿ï¼Œå¯ä»¥ä½¿ç”¨â€œ\â€è¿›è¡Œæ¢è¡Œ<br>ä½¿ç”¨â€œ\â€æ¢è¡Œï¼Œåœ¨è„šæœ¬æ‰§è¡Œè¿‡ç¨‹ä¸­è¿˜æ˜¯å½“åšä¸€è¡Œä¸€ä¸ªè¯­å¥æ‰§è¡Œï¼Œä¸åŒäºenterç›´æ¥æ¢è¡Œ</p><blockquote><p>æ³¨æ„ï¼š\ å‰æ·»åŠ ä¸€ä¸ªç©ºæ ¼ ã€‚ \ åæ— ç©ºæ ¼ç›´æ¥æ¢è¡Œã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/mysql/bin/mysql \</span><br><span class="line"> -h test_host  -P 000 \</span><br><span class="line"> -u test_user -ptest_password ;</span><br></pre></td></tr></table></figure><h3 id="shellæ“ä½œmysql"><a href="#shellæ“ä½œmysql" class="headerlink" title="shellæ“ä½œmysql"></a>shellæ“ä½œmysql</h3><p>ä¸‹é¢æ¡ˆä¾‹ä¸ºç™»å½•mysqlï¼Œå¹¶é€‰æ‹©æ“ä½œæ•°æ®åº“ï¼Œä¹‹åè¿›è¡Œå¯¼å…¥æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/mysql/mysql/bin/mysql \</span><br><span class="line"> -h test_host  -P 000 \</span><br><span class="line"> -u test_user -ptest_password \</span><br><span class="line"> -e<span class="string">"use test_database; source data_faile; "</span> <span class="comment"># -e ä»£è¡¨æ‰§è¡Œsqlè¯­å¥</span></span><br></pre></td></tr></table></figure><blockquote><p>-u ç”¨æˆ·å<br>-p ç”¨æˆ·å¯†ç <br>-h æœåŠ¡å™¨ipåœ°å€<br>-D è¿æ¥çš„æ•°æ®åº“<br>-N ä¸è¾“å‡ºåˆ—ä¿¡æ¯<br>-B ä½¿ç”¨tabé”® ä»£æ›¿ åˆ†éš”ç¬¦<br>-e æ‰§è¡Œçš„SQLè¯­å¥</p></blockquote><h3 id="é€€å‡ºè„šæœ¬"><a href="#é€€å‡ºè„šæœ¬" class="headerlink" title="é€€å‡ºè„šæœ¬"></a>é€€å‡ºè„šæœ¬</h3><p><strong>å‘½ä»¤ï¼šexit</strong></p><p>åœ¨é€€å‡ºè„šæœ¬æ—¶ä½¿ç”¨ä¸åŒçš„é”™è¯¯ç ï¼Œè¿™æ ·å¯ä»¥æ ¹æ®é”™è¯¯ç æ¥åˆ¤æ–­å‘ç”Ÿäº†ä»€ä¹ˆé”™è¯¯ã€‚</p><blockquote><p>åœ¨ç»å¤§å¤šæ•° shell è„šæœ¬ä¸­ï¼Œexit 0 è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸï¼Œexit 1 è¡¨ç¤ºå‘ç”Ÿé”™è¯¯ã€‚<br>å¯¹é”™è¯¯ä¸é”™è¯¯ç è¿›è¡Œä¸€å¯¹ä¸€çš„æ˜ å°„ï¼Œè¿™æ ·æœ‰åŠ©äºè„šæœ¬è°ƒè¯•ã€‚</p></blockquote><p><strong>å‘½ä»¤ï¼šset -e æˆ–è€… set +e</strong></p><p>set -eè¡¨ç¤ºä»å½“å‰ä½ç½®å¼€å§‹ï¼Œå¦‚æœå‡ºç°ä»»ä½•é”™è¯¯éƒ½å°†è§¦å‘exitã€‚ç›¸åï¼Œset +eè¡¨ç¤ºä¸ç®¡å‡ºç°ä»»ä½•é”™è¯¯ç»§ç»­æ‰§è¡Œè„šæœ¬ã€‚</p><blockquote><p>å¦‚æœè„šæœ¬æ˜¯æœ‰çŠ¶æ€çš„ï¼ˆæ¯ä¸ªåç»­æ­¥éª¤éƒ½ä¾èµ–å‰ä¸€ä¸ªæ­¥éª¤ï¼‰ï¼Œé‚£ä¹ˆè¯·ä½¿ç”¨set -eï¼Œåœ¨è„šæœ¬å‡ºç°é”™è¯¯æ—¶ç«‹å³é€€å‡ºè„šæœ¬ã€‚<br>å¦‚æœè¦æ±‚æ‰€æœ‰å‘½ä»¤éƒ½è¦æ‰§è¡Œå®Œï¼ˆå¾ˆå°‘ä¼šè¿™æ ·ï¼‰ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨set +eã€‚</p></blockquote><h3 id="shellè„šæœ¬è°ƒè¯•"><a href="#shellè„šæœ¬è°ƒè¯•" class="headerlink" title="shellè„šæœ¬è°ƒè¯•"></a>shellè„šæœ¬è°ƒè¯•</h3><p>æ£€æŸ¥æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯<code>-n</code>ï¼š<br><code>bash -n script_name.sh</code><br>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æ‰§è¡Œå¹¶è°ƒè¯• Shell è„šæœ¬<code>-x</code>ï¼š<br><code>bash -x script_name.sh</code><br><strong>è°ƒè¯•count_odd_number.sh ç¨‹åºæ¡ˆä¾‹ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin.env bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨äºè®¡ç®—æ•°ç»„ä¸­å¥‡æ•°çš„å’Œ</span></span><br><span class="line"><span class="comment"># @author liyangyang</span></span><br><span class="line"><span class="comment"># @time 2019/09/17</span></span><br><span class="line"></span><br><span class="line">sum=0</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> 1 2 3 4;<span class="keyword">do</span></span><br><span class="line">    re=&#123;num&#125;%2</span><br><span class="line">    <span class="keyword">if</span> (( &#123;re&#125; == 1 ));<span class="keyword">then</span></span><br><span class="line">        sum=[&#123;sum&#125;+&#123;num&#125;]</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> &#123;sum&#125;</span><br></pre></td></tr></table></figure><ol><li>é¦–å…ˆæ£€æŸ¥æœ‰æ— è¯­æ³•é”™è¯¯ï¼š<br><code>bash -n count_odd_number.sh</code></li><li>æ²¡æœ‰è¾“å‡ºï¼Œè¯´æ˜æ²¡æœ‰é”™è¯¯ï¼Œå¼€å§‹å®é™…è°ƒè¯•ï¼š<br><code>bash -x count_odd_number.sh</code></li><li>è°ƒè¯•ç»“æœå¦‚ä¸‹ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">+ sum=0</span><br><span class="line">+ <span class="keyword">for</span> num <span class="keyword">in</span> 1 2 3 4</span><br><span class="line">+ re=1%2</span><br><span class="line">+ ((  1%2 == 1  ))</span><br><span class="line">+ sum=1</span><br><span class="line">+ <span class="keyword">for</span> num <span class="keyword">in</span> 1 2 3 4</span><br><span class="line">+ re=2%2</span><br><span class="line">+ ((  2%2 == 1  ))</span><br><span class="line">+ <span class="keyword">for</span> num <span class="keyword">in</span> 1 2 3 4</span><br><span class="line">+ re=3%2</span><br><span class="line">+ ((  3%2 == 1  ))</span><br><span class="line">+ sum=4</span><br><span class="line">+ <span class="keyword">for</span> num <span class="keyword">in</span> 1 2 3 4</span><br><span class="line">+ re=4%2</span><br><span class="line">+ ((  4%2 == 1  ))</span><br><span class="line">+ <span class="built_in">echo</span> 4</span><br><span class="line">4</span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„è¾“å‡ºæ˜¾ç¤ºäº†ç¨‹åºæ‰§è¡Œçš„æ¯ä¸€æ­¥ï¼Œé€šè¿‡è§‚å¯Ÿç¨‹åºæ‰§è¡Œçš„æ­¥éª¤æ˜¯å¦æ»¡è¶³é¢„æœŸä»è€Œè¾¾åˆ°è°ƒè¯•çš„æ•ˆæœ<br>å¸¦æœ‰ + è¡¨ç¤ºçš„æ˜¯ Shell è°ƒè¯•å™¨çš„è¾“å‡ºï¼Œä¸å¸¦ + è¡¨ç¤ºç¨‹åºçš„è¾“å‡ºã€‚</p><h3 id="æ¡ˆä¾‹ï¼š"><a href="#æ¡ˆä¾‹ï¼š" class="headerlink" title="æ¡ˆä¾‹ï¼š"></a>æ¡ˆä¾‹ï¼š</h3><p>è¿™æ˜¯esï¼ˆElasticSearchï¼‰å®˜æ–¹å¯åŠ¨æœåŠ¡çš„è„šæœ¬ï¼Œçœ‹å¯ä¸å¯ä»¥ç†è§£å§~</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># CONTROLLING STARTUP:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This script relies on a few environment variables to determine startup</span></span><br><span class="line"><span class="comment"># behavior, those variables are:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   ES_PATH_CONF -- Path to config directory</span></span><br><span class="line"><span class="comment">#   ES_JAVA_OPTS -- External Java Opts on top of the defaults set</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Optionally, exact memory values can be set using the `ES_JAVA_OPTS`. Note that</span></span><br><span class="line"><span class="comment"># the Xms and Xmx lines in the JVM options file must be commented out. Example</span></span><br><span class="line"><span class="comment"># values are "512m", and "10g".</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   ES_JAVA_OPTS="-Xms8g -Xmx8g" ./bin/elasticsearch</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> <span class="string">"`dirname "</span><span class="variable">$0</span><span class="string">"`"</span>/elasticsearch-env</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">parse_jvm_options</span></span>() &#123;</span><br><span class="line">  <span class="keyword">if</span> [ -f <span class="string">"<span class="variable">$1</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"`grep "</span>^-<span class="string">" "</span><span class="variable">$1</span><span class="string">" | tr '\n' ' '`"</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ES_JVM_OPTIONS=<span class="string">"<span class="variable">$ES_PATH_CONF</span>"</span>/jvm.options</span><br><span class="line"></span><br><span class="line">ES_JAVA_OPTS=<span class="string">"`parse_jvm_options "</span><span class="variable">$ES_JVM_OPTIONS</span><span class="string">"` <span class="variable">$ES_JAVA_OPTS</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># manual parsing to find out, if process should be detached</span></span><br><span class="line"><span class="keyword">if</span> ! <span class="built_in">echo</span> $* | grep -E <span class="string">'(^-d |-d$| -d |--daemonize$|--daemonize )'</span> &gt; /dev/null; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">exec</span> \</span><br><span class="line">    <span class="string">"<span class="variable">$JAVA</span>"</span> \</span><br><span class="line">    <span class="variable">$ES_JAVA_OPTS</span> \</span><br><span class="line">    -Des.path.home=<span class="string">"<span class="variable">$ES_HOME</span>"</span> \</span><br><span class="line">    -Des.path.conf=<span class="string">"<span class="variable">$ES_PATH_CONF</span>"</span> \</span><br><span class="line">    -cp <span class="string">"<span class="variable">$ES_CLASSPATH</span>"</span> \</span><br><span class="line">    org.elasticsearch.bootstrap.Elasticsearch \</span><br><span class="line">    <span class="string">"<span class="variable">$@</span>"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">exec</span> \</span><br><span class="line">    <span class="string">"<span class="variable">$JAVA</span>"</span> \</span><br><span class="line">    <span class="variable">$ES_JAVA_OPTS</span> \</span><br><span class="line">    -Des.path.home=<span class="string">"<span class="variable">$ES_HOME</span>"</span> \</span><br><span class="line">    -Des.path.conf=<span class="string">"<span class="variable">$ES_PATH_CONF</span>"</span> \</span><br><span class="line">    -cp <span class="string">"<span class="variable">$ES_CLASSPATH</span>"</span> \</span><br><span class="line">    org.elasticsearch.bootstrap.Elasticsearch \</span><br><span class="line">    <span class="string">"<span class="variable">$@</span>"</span> \</span><br><span class="line">    &lt;&amp;- &amp;</span><br><span class="line">  retval=$?</span><br><span class="line">  pid=$!</span><br><span class="line">  [ <span class="variable">$retval</span> -eq 0 ] || <span class="built_in">exit</span> <span class="variable">$retval</span></span><br><span class="line">  <span class="keyword">if</span> [ ! -z <span class="string">"<span class="variable">$ES_STARTUP_SLEEP_TIME</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">    sleep <span class="variable">$ES_STARTUP_SLEEP_TIME</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="keyword">if</span> ! ps -p <span class="variable">$pid</span> &gt; /dev/null ; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> $?</span><br></pre></td></tr></table></figure><h3 id="ç»å¸¸æ¥çœ‹çœ‹æ‰èƒ½è®°ä½ğŸ˜­"><a href="#ç»å¸¸æ¥çœ‹çœ‹æ‰èƒ½è®°ä½ğŸ˜­" class="headerlink" title="ç»å¸¸æ¥çœ‹çœ‹æ‰èƒ½è®°ä½ğŸ˜­"></a>ç»å¸¸æ¥çœ‹çœ‹æ‰èƒ½è®°ä½ğŸ˜­</h3>]]></content>
    
    <summary type="html">
    
      Shellè„šæœ¬å‘½ä»¤
    
    </summary>
    
    
    
      <category term="Shell" scheme="penghui.club/tags/Shell/"/>
    
  </entry>
  
  <entry>
    <title>å¿«é€Ÿæ’åº</title>
    <link href="penghui.club/2020/07/13/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/"/>
    <id>penghui.club/2020/07/13/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/</id>
    <published>2020-07-13T12:06:19.000Z</published>
    <updated>2020-07-13T13:33:14.131Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>æˆ‘æƒ³å¼€ä¸€å®¶é…’é¦† åå­—å°±å«é™ˆå¹´æ—§äº‹å§ è¿™å®¶åº—åªæ·±å¤œå¼€é—¨åŠå¤œæ‰“çƒŠ è¿™å®¶åº—æ²¡æœ‰æ¿€æƒ…çš„éŸ³ä¹ è¿™å®¶åº—ä¼šæœ‰ä½ å–œæ¬¢çš„è£…ä¿® è¿™å®¶åº—ä¸æ‘‡å¤´ä¸è¹¦è¿ª è¿™å®¶åº—é•¿ä¼šè·Ÿæ¯ä¸€ä¸ªé¡¾å®¢åˆ†äº«æ•…äº‹ è¿™å®¶åº—ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„å…è´¹ä¼šå‘˜ è¿™å®¶åº—æ˜¯å¹´å°‘æ—¶æˆ‘ä»¬ä¸€èµ·çš„ç©ç¬‘è¯ è¿™å®¶åº—æˆ‘æƒ³å¼€åœ¨éƒ‘å· ä»Šå¹´æˆ‘äºŒåå² æˆ‘æƒ³åœ¨äºŒåäº”å²å¼€ã€‚</p><p>â€‹                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„</p></blockquote><a id="more"></a><h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><p>è¿™æ¬¡çš„æ’åºæ²¡æœ‰é€¼æ ¼ï¼ï¼ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] sort(<span class="keyword">int</span>[] a) &#123;</span><br><span class="line">    quickSort(a, <span class="number">0</span>, a.length - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> le, <span class="keyword">int</span> ri)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (le &gt;= ri) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> j = partition(a, le, ri);</span><br><span class="line">    quickSort(a, le, j - <span class="number">1</span>);</span><br><span class="line">    quickSort(a, j + <span class="number">1</span>, ri);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> le, <span class="keyword">int</span> ri)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> base = a[le];</span><br><span class="line">    <span class="keyword">int</span> i = le, j = ri + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (less(a[++i], base)) <span class="keyword">if</span> (i == ri) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">while</span> (less(base, a[--j])) <span class="keyword">if</span> (j == le) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= j) <span class="keyword">break</span>;</span><br><span class="line">        exch(a, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    exch(a, le, j);</span><br><span class="line">    <span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">less</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123; <span class="keyword">return</span> a &lt; b; &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exch</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp = a[i]; a[i] = a[j]; a[j] = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…³äºä»¥ä¸Šæ ‡å‡†å¿«æ’çš„ä¼˜åŒ–ï¼š"><a href="#å…³äºä»¥ä¸Šæ ‡å‡†å¿«æ’çš„ä¼˜åŒ–ï¼š" class="headerlink" title="å…³äºä»¥ä¸Šæ ‡å‡†å¿«æ’çš„ä¼˜åŒ–ï¼š"></a>å…³äºä»¥ä¸Šæ ‡å‡†å¿«æ’çš„ä¼˜åŒ–ï¼š</h3><p>ä»¥ä¸‹ä½¿ç”¨ä¸‰å‘åˆ‡åˆ†çš„æ€è·¯è¿›è¡Œä¼˜åŒ–ï¼Œä»–ä»å·¦åˆ°å³éå†æ•°ç»„ä¸€æ¬¡ï¼Œç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆ<code>lt</code>ä½¿å¾—<code>a[lo..lt-1]</code>ä¸­çš„å…ƒç´ éƒ½å°äº<code>v</code>ï¼Œä¸€ä¸ªæŒ‡é’ˆ<code>gt</code>ä½¿å¾—<code>a[gt+1..hi]</code>ä¸­çš„å…ƒç´ éƒ½å¤§äº<code>v</code>ï¼Œä¸€ä¸ªæŒ‡é’ˆ<code>i</code>ä½¿å¾—<code>a[lt..i-1]</code>ä¸­çš„å…ƒç´ éƒ½ç­‰äº<code>v</code>ï¼Œ<code>a[i..gt]</code>ä¸­çš„å…ƒç´ éƒ½è¿˜æœªç¡®å®šã€‚åˆ†ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š</p><ul><li><code>a[i]</code> &lt; <code>v</code>ï¼Œå°†<code>a[lt]</code>å’Œ<code>a[i]</code>äº¤æ¢ï¼Œå°†<code>lt</code>å’Œ<code>i</code>åŠ ä¸€ã€‚</li><li><code>a[i]</code> &gt; <code>v</code>ï¼Œå°†<code>a[gt]</code>å’Œ<code>a[i]</code>äº¤æ¢ï¼Œå°†<code>gt</code>å‡ä¸€ã€‚</li><li><code>a[i]</code> == vï¼Œå°†<code>i</code>åŠ ä¸€ã€‚</li></ul><h4 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> le, <span class="keyword">int</span> ri)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (le &gt;= ri) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> lt = le, i = le + <span class="number">1</span>, gt = ri;</span><br><span class="line">    <span class="keyword">int</span> v = a[le];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt;= gt) &#123;</span><br><span class="line">        <span class="keyword">int</span> cmp = less(a[i], v);</span><br><span class="line">        <span class="keyword">if</span>      (cmp &lt; <span class="number">0</span>) exch(a, lt ++, i ++);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) exch(a, i, gt --);</span><br><span class="line">        <span class="keyword">else</span>              i ++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    quickSort(a, le, lt - <span class="number">1</span>);</span><br><span class="line">    quickSort(a, gt + <span class="number">1</span>, ri);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">less</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>      (x &lt; y) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x &gt; y) <span class="keyword">return</span>  <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exch</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp = a[i]; a[i] = a[j]; a[j] = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æˆ‘æƒ³å¼€ä¸€å®¶é…’é¦† åå­—å°±å«é™ˆå¹´æ—§äº‹å§ è¿™å®¶åº—åªæ·±å¤œå¼€é—¨åŠå¤œæ‰“çƒŠ è¿™å®¶åº—æ²¡æœ‰æ¿€æƒ…çš„éŸ³ä¹ è¿™å®¶åº—ä¼šæœ‰ä½ å–œæ¬¢çš„è£…ä¿® è¿™å®¶åº—ä¸æ‘‡å¤´ä¸è¹¦è¿ª è¿™å®¶åº—é•¿ä¼šè·Ÿæ¯ä¸€ä¸ªé¡¾å®¢åˆ†äº«æ•…äº‹ è¿™å®¶åº—ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„å…è´¹ä¼šå‘˜ è¿™å®¶åº—æ˜¯å¹´å°‘æ—¶æˆ‘ä»¬ä¸€èµ·çš„ç©ç¬‘è¯ è¿™å®¶åº—æˆ‘æƒ³å¼€åœ¨éƒ‘å· ä»Šå¹´æˆ‘äºŒåå² æˆ‘æƒ³åœ¨äºŒåäº”å²å¼€ã€‚&lt;/p&gt;
&lt;p&gt;â€‹                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="penghui.club/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="æ’åº" scheme="penghui.club/tags/%E6%8E%92%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>ä¿„ç½—æ–¯æ–¹å—çš„Shellè„šæœ¬</title>
    <link href="penghui.club/2020/07/13/%E4%BF%84%E7%BD%97%E6%96%AF%E6%96%B9%E5%9D%97%E7%9A%84Shell%E8%84%9A%E6%9C%AC/"/>
    <id>penghui.club/2020/07/13/%E4%BF%84%E7%BD%97%E6%96%AF%E6%96%B9%E5%9D%97%E7%9A%84Shell%E8%84%9A%E6%9C%AC/</id>
    <published>2020-07-13T03:06:29.000Z</published>
    <updated>2020-07-13T12:36:33.400Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>äººç”Ÿä¸€ä¸– è‰æœ¨ä¸€ç§‹ å³æ˜¯äº‹è¿‡ä¸‰è€Œè™‘ é†’æ¥æ—¶æŠ¬å¤´ ç€è§‰æ—¶å›é¦– é†‰é…’æ—¶å¿˜å¿§</p><p>   â€‹                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„</p></blockquote><a id="more"></a><h2 id="ä¿„ç½—æ–¯æ–¹å—"><a href="#ä¿„ç½—æ–¯æ–¹å—" class="headerlink" title="ä¿„ç½—æ–¯æ–¹å—"></a>ä¿„ç½—æ–¯æ–¹å—</h2><p>æ­¤ç¯‡çº¯ç²¹ä¸ºäº†å¥½ç©ï¼</p><h3 id="ç¬¬ä¸€æ­¥ï¼š"><a href="#ç¬¬ä¸€æ­¥ï¼š" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼š"></a>ç¬¬ä¸€æ­¥ï¼š</h3><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªshellè„šæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim Tetris.sh</span><br></pre></td></tr></table></figure><h3 id="ç¬¬äºŒæ­¥ï¼š"><a href="#ç¬¬äºŒæ­¥ï¼š" class="headerlink" title="ç¬¬äºŒæ­¥ï¼š"></a>ç¬¬äºŒæ­¥ï¼š</h3><p>å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼Œç²˜è´´åˆ°è„šæœ¬ä¸­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Tetris Game</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 10.21.2003 xhchen&lt;[email]xhchen@winbond.com.tw[/email]&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">APP declaration</span></span><br><span class="line">APP_NAME="$&#123;0##*[\\/]&#125;"</span><br><span class="line">APP_VERSION="1.0"</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">é¢œè‰²å®šä¹‰</span></span><br><span class="line">cRed=1</span><br><span class="line">cGreen=2</span><br><span class="line">cYellow=3</span><br><span class="line">cBlue=4</span><br><span class="line">cFuchsia=5</span><br><span class="line">cCyan=6</span><br><span class="line">cWhite=7</span><br><span class="line">colorTable=($cRed $cGreen $cYellow $cBlue $cFuchsia $cCyan $cWhite)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">ä½ç½®å’Œå¤§å°</span></span><br><span class="line">iLeft=3</span><br><span class="line">iTop=2</span><br><span class="line">((iTrayLeft = iLeft + 2))</span><br><span class="line">((iTrayTop = iTop + 1))</span><br><span class="line">((iTrayWidth = 10))</span><br><span class="line">((iTrayHeight = 15))</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">é¢œè‰²è®¾ç½®</span></span><br><span class="line">cBorder=$cGreen</span><br><span class="line">cScore=$cFuchsia</span><br><span class="line">cScoreValue=$cCyan</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ§åˆ¶ä¿¡å·</span></span><br><span class="line"><span class="meta">#</span><span class="bash">æ”¹æ¸¸æˆä½¿ç”¨ä¸¤ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªç”¨äºæ¥æ”¶è¾“å…¥ï¼Œä¸€ä¸ªç”¨äºæ¸¸æˆæµç¨‹å’Œæ˜¾ç¤ºç•Œé¢;</span></span><br><span class="line"><span class="meta">#</span><span class="bash">å½“å‰è€…æ¥æ”¶åˆ°ä¸Šä¸‹å·¦å³ç­‰æŒ‰é”®æ—¶ï¼Œé€šè¿‡å‘åè€…å‘é€signalçš„æ–¹å¼é€šçŸ¥åè€…ã€‚</span></span><br><span class="line">sigRotate=25</span><br><span class="line">sigLeft=26</span><br><span class="line">sigRight=27</span><br><span class="line">sigDown=28</span><br><span class="line">sigAllDown=29</span><br><span class="line">sigExit=30</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">ä¸ƒä¸­ä¸åŒçš„æ–¹å—çš„å®šä¹‰</span></span><br><span class="line"><span class="meta">#</span><span class="bash">é€šè¿‡æ—‹è½¬ï¼Œæ¯ç§æ–¹å—çš„æ˜¾ç¤ºçš„æ ·å¼å¯èƒ½æœ‰å‡ ç§</span></span><br><span class="line">box0=(0 0 0 1 1 0 1 1)</span><br><span class="line">box1=(0 2 1 2 2 2 3 2 1 0 1 1 1 2 1 3)</span><br><span class="line">box2=(0 0 0 1 1 1 1 2 0 1 1 0 1 1 2 0)</span><br><span class="line">box3=(0 1 0 2 1 0 1 1 0 0 1 0 1 1 2 1)</span><br><span class="line">box4=(0 1 0 2 1 1 2 1 1 0 1 1 1 2 2 2 0 1 1 1 2 0 2 1 0 0 1 0 1 1 1 2)</span><br><span class="line">box5=(0 1 1 1 2 1 2 2 1 0 1 1 1 2 2 0 0 0 0 1 1 1 2 1 0 2 1 0 1 1 1 2)</span><br><span class="line">box6=(0 1 1 1 1 2 2 1 1 0 1 1 1 2 2 1 0 1 1 0 1 1 2 1 0 1 1 0 1 1 1 2)</span><br><span class="line"><span class="meta">#</span><span class="bash">æ‰€æœ‰å…¶ä¸­æ–¹å—çš„å®šä¹‰éƒ½æ”¾åˆ°boxå˜é‡ä¸­</span></span><br><span class="line">box=($&#123;box0[@]&#125; $&#123;box1[@]&#125; $&#123;box2[@]&#125; $&#123;box3[@]&#125; $&#123;box4[@]&#125; $&#123;box5[@]&#125; $&#123;box6[@]&#125;)</span><br><span class="line"><span class="meta">#</span><span class="bash">å„ç§æ–¹å—æ—‹è½¬åå¯èƒ½çš„æ ·å¼æ•°ç›®</span></span><br><span class="line">countBox=(1 2 2 2 4 4 4)</span><br><span class="line"><span class="meta">#</span><span class="bash">å„ç§æ–¹å—å†boxæ•°ç»„ä¸­çš„åç§»</span></span><br><span class="line">offsetBox=(0 1 3 5 7 11 15)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ¯æé«˜ä¸€ä¸ªé€Ÿåº¦çº§éœ€è¦ç§¯ç´¯çš„åˆ†æ•°</span></span><br><span class="line">iScoreEachLevel=50        #be greater than 7</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">è¿è¡Œæ—¶æ•°æ®</span></span><br><span class="line">sig=0                #æ¥æ”¶åˆ°çš„signal</span><br><span class="line">iScore=0        #æ€»åˆ†</span><br><span class="line">iLevel=0        #é€Ÿåº¦çº§</span><br><span class="line">boxNew=()        #æ–°ä¸‹è½çš„æ–¹å—çš„ä½ç½®å®šä¹‰</span><br><span class="line">cBoxNew=0        #æ–°ä¸‹è½çš„æ–¹å—çš„é¢œè‰²</span><br><span class="line">iBoxNewType=0        #æ–°ä¸‹è½çš„æ–¹å—çš„ç§ç±»</span><br><span class="line">iBoxNewRotate=0        #æ–°ä¸‹è½çš„æ–¹å—çš„æ—‹è½¬è§’åº¦</span><br><span class="line">boxCur=()        #å½“å‰æ–¹å—çš„ä½ç½®å®šä¹‰</span><br><span class="line">cBoxCur=0        #å½“å‰æ–¹å—çš„é¢œè‰²</span><br><span class="line">iBoxCurType=0        #å½“å‰æ–¹å—çš„ç§ç±»</span><br><span class="line">iBoxCurRotate=0        #å½“å‰æ–¹å—çš„æ—‹è½¬è§’åº¦</span><br><span class="line">boxCurX=-1        #å½“å‰æ–¹å—çš„xåæ ‡ä½ç½®</span><br><span class="line">boxCurY=-1        #å½“å‰æ–¹å—çš„yåæ ‡ä½ç½®</span><br><span class="line">iMap=()                #èƒŒæ™¯æ–¹å—å›¾è¡¨</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">åˆå§‹åŒ–æ‰€æœ‰èƒŒæ™¯æ–¹å—ä¸º-1, è¡¨ç¤ºæ²¡æœ‰æ–¹å—</span></span><br><span class="line">for ((i = 0; i &lt; iTrayHeight * iTrayWidth; i++)); do iMap[$i]=-1; done</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ¥æ”¶è¾“å…¥çš„è¿›ç¨‹çš„ä¸»å‡½æ•°</span></span><br><span class="line">function RunAsKeyReceiver()</span><br><span class="line">&#123;</span><br><span class="line">        local pidDisplayer key aKey sig cESC sTTY</span><br><span class="line"></span><br><span class="line">        pidDisplayer=$1</span><br><span class="line">        aKey=(0 0 0)</span><br><span class="line"></span><br><span class="line">        cESC=`echo -ne "\033"`</span><br><span class="line">        cSpace=`echo -ne "\040"`</span><br><span class="line"></span><br><span class="line">        #ä¿å­˜ç»ˆç«¯å±æ€§ã€‚åœ¨read -sè¯»å–ç»ˆç«¯é”®æ—¶ï¼Œç»ˆç«¯çš„å±æ€§ä¼šè¢«æš‚æ—¶æ”¹å˜ã€‚</span><br><span class="line">        #å¦‚æœåœ¨read -sæ—¶ç¨‹åºè¢«ä¸å¹¸æ€æ‰ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç»ˆç«¯æ··ä¹±ï¼Œ</span><br><span class="line">        #éœ€è¦åœ¨ç¨‹åºé€€å‡ºæ—¶æ¢å¤ç»ˆç«¯å±æ€§ã€‚</span><br><span class="line">        sTTY=`stty -g`</span><br><span class="line"></span><br><span class="line">        #æ•æ‰é€€å‡ºä¿¡å·</span><br><span class="line">        trap "MyExit;" INT TERM</span><br><span class="line">        trap "MyExitNoSub;" $sigExit</span><br><span class="line"></span><br><span class="line">        #éšè—å…‰æ ‡</span><br><span class="line">        echo -ne "\033[?25l"</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        while :</span><br><span class="line">        do</span><br><span class="line">                #è¯»å–è¾“å…¥ã€‚æ³¨-sä¸å›æ˜¾ï¼Œ-nè¯»åˆ°ä¸€ä¸ªå­—ç¬¦ç«‹å³è¿”å›</span><br><span class="line">                read -s -n 1 key</span><br><span class="line"></span><br><span class="line">                aKey[0]=$&#123;aKey[1]&#125;</span><br><span class="line">                aKey[1]=$&#123;aKey[2]&#125;</span><br><span class="line">                aKey[2]=$key</span><br><span class="line">                sig=0</span><br><span class="line"></span><br><span class="line">                #åˆ¤æ–­è¾“å…¥äº†ä½•ç§é”®</span><br><span class="line">                if [[ $key == $cESC &amp;&amp; $&#123;aKey[1]&#125; == $cESC ]]</span><br><span class="line">                then</span><br><span class="line">                        #ESCé”®</span><br><span class="line">                        MyExit</span><br><span class="line">                elif [[ $&#123;aKey[0]&#125; == $cESC &amp;&amp; $&#123;aKey[1]&#125; == "[" ]]</span><br><span class="line">                then</span><br><span class="line">                        if [[ $key == "A" ]]; then sig=$sigRotate        #&lt;å‘ä¸Šé”®&gt;</span><br><span class="line">                        elif [[ $key == "B" ]]; then sig=$sigDown        #&lt;å‘ä¸‹é”®&gt;</span><br><span class="line">                        elif [[ $key == "D" ]]; then sig=$sigLeft        #&lt;å‘å·¦é”®&gt;</span><br><span class="line">                        elif [[ $key == "C" ]]; then sig=$sigRight        #&lt;å‘å³é”®&gt;</span><br><span class="line">                        fi</span><br><span class="line">                elif [[ $key == "W" || $key == "w" ]]; then sig=$sigRotate        #W, w</span><br><span class="line">                elif [[ $key == "S" || $key == "s" ]]; then sig=$sigDown        #S, s</span><br><span class="line">                elif [[ $key == "A" || $key == "a" ]]; then sig=$sigLeft        #A, a</span><br><span class="line">                elif [[ $key == "D" || $key == "d" ]]; then sig=$sigRight        #D, d</span><br><span class="line">                elif [[ "[$key]" == "[]" ]]; then sig=$sigAllDown        #ç©ºæ ¼é”®</span><br><span class="line">                elif [[ $key == "Q" || $key == "q" ]]                        #Q, q</span><br><span class="line">                then</span><br><span class="line">                        MyExit</span><br><span class="line">                fi</span><br><span class="line"></span><br><span class="line">                if [[ $sig != 0 ]]</span><br><span class="line">                then</span><br><span class="line">                        #å‘å¦ä¸€è¿›ç¨‹å‘é€æ¶ˆæ¯</span><br><span class="line">                        kill -$sig $pidDisplayer</span><br><span class="line">                fi</span><br><span class="line">        done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">é€€å‡ºå‰çš„æ¢å¤</span></span><br><span class="line">function MyExitNoSub()</span><br><span class="line">&#123;</span><br><span class="line">        local y</span><br><span class="line"></span><br><span class="line">        #æ¢å¤ç»ˆç«¯å±æ€§</span><br><span class="line">        stty $sTTY</span><br><span class="line">        ((y = iTop + iTrayHeight + 4))</span><br><span class="line"></span><br><span class="line">        #æ˜¾ç¤ºå…‰æ ‡</span><br><span class="line">        echo -e "\033[?25h\033[$&#123;y&#125;;0H"</span><br><span class="line">        exit</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function MyExit()</span><br><span class="line">&#123;</span><br><span class="line">        #é€šçŸ¥æ˜¾ç¤ºè¿›ç¨‹éœ€è¦é€€å‡º</span><br><span class="line">        kill -$sigExit $pidDisplayer</span><br><span class="line"></span><br><span class="line">        MyExitNoSub</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å¤„ç†æ˜¾ç¤ºå’Œæ¸¸æˆæµç¨‹çš„ä¸»å‡½æ•°</span></span><br><span class="line">function RunAsDisplayer()</span><br><span class="line">&#123;</span><br><span class="line">        local sigThis</span><br><span class="line">        InitDraw</span><br><span class="line"></span><br><span class="line">        #æŒ‚è½½å„ç§ä¿¡å·çš„å¤„ç†å‡½æ•°</span><br><span class="line">        trap "sig=$sigRotate;" $sigRotate</span><br><span class="line">        trap "sig=$sigLeft;" $sigLeft</span><br><span class="line">        trap "sig=$sigRight;" $sigRight</span><br><span class="line">        trap "sig=$sigDown;" $sigDown</span><br><span class="line">        trap "sig=$sigAllDown;" $sigAllDown</span><br><span class="line">        trap "ShowExit;" $sigExit</span><br><span class="line"></span><br><span class="line">        while :</span><br><span class="line">        do</span><br><span class="line">                #æ ¹æ®å½“å‰çš„é€Ÿåº¦çº§iLevelä¸åŒï¼Œè®¾å®šç›¸åº”çš„å¾ªç¯çš„æ¬¡æ•°</span><br><span class="line">                for ((i = 0; i &lt; 21 - iLevel; i++))</span><br><span class="line">                do</span><br><span class="line">                        sleep 0.02</span><br><span class="line">                        sigThis=$sig</span><br><span class="line">                        sig=0</span><br><span class="line"></span><br><span class="line">                        #æ ¹æ®sigå˜é‡åˆ¤æ–­æ˜¯å¦æ¥å—åˆ°ç›¸åº”çš„ä¿¡å·</span><br><span class="line">                        if ((sigThis == sigRotate)); then BoxRotate;        #æ—‹è½¬</span><br><span class="line">                        elif ((sigThis == sigLeft)); then BoxLeft;        #å·¦ç§»ä¸€åˆ—</span><br><span class="line">                        elif ((sigThis == sigRight)); then BoxRight;        #å³ç§»ä¸€åˆ—</span><br><span class="line">                        elif ((sigThis == sigDown)); then BoxDown;        #ä¸‹è½ä¸€è¡Œ</span><br><span class="line">                        elif ((sigThis == sigAllDown)); then BoxAllDown;        #ä¸‹è½åˆ°åº•</span><br><span class="line">                        fi</span><br><span class="line">                done</span><br><span class="line">                #kill -$sigDown $$</span><br><span class="line">                BoxDown        #ä¸‹è½ä¸€è¡Œ</span><br><span class="line">        done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">BoxMove(y, x), æµ‹è¯•æ˜¯å¦å¯ä»¥æŠŠç§»åŠ¨ä¸­çš„æ–¹å—ç§»åˆ°(x, y)çš„ä½ç½®, è¿”å›0åˆ™å¯ä»¥, 1ä¸å¯ä»¥</span></span><br><span class="line">function BoxMove()</span><br><span class="line">&#123;</span><br><span class="line">        local j i x y xTest yTest</span><br><span class="line">        yTest=$1</span><br><span class="line">        xTest=$2</span><br><span class="line">        for ((j = 0; j &lt; 8; j += 2))</span><br><span class="line">        do</span><br><span class="line">                ((i = j + 1))</span><br><span class="line">                ((y = $&#123;boxCur[$j]&#125; + yTest))</span><br><span class="line">                ((x = $&#123;boxCur[$i]&#125; + xTest))</span><br><span class="line">                if (( y &lt; 0 || y &gt;= iTrayHeight || x &lt; 0 || x &gt;= iTrayWidth))</span><br><span class="line">                then</span><br><span class="line">                        #æ’åˆ°å¢™å£äº†</span><br><span class="line">                        return 1</span><br><span class="line">                fi</span><br><span class="line">                if (($&#123;iMap[y * iTrayWidth + x]&#125; != -1 ))</span><br><span class="line">                then</span><br><span class="line">                        #æ’åˆ°å…¶ä»–å·²ç»å­˜åœ¨çš„æ–¹å—äº†</span><br><span class="line">                        return 1</span><br><span class="line">                fi</span><br><span class="line">        done</span><br><span class="line">        return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å°†å½“å‰ç§»åŠ¨ä¸­çš„æ–¹å—æ”¾åˆ°èƒŒæ™¯æ–¹å—ä¸­å»,</span></span><br><span class="line"><span class="meta">#</span><span class="bash">å¹¶è®¡ç®—æ–°çš„åˆ†æ•°å’Œé€Ÿåº¦çº§ã€‚(å³ä¸€æ¬¡æ–¹å—è½åˆ°åº•éƒ¨)</span></span><br><span class="line">function Box2Map()</span><br><span class="line">&#123;</span><br><span class="line">        local j i x y xp yp line</span><br><span class="line"></span><br><span class="line">        #å°†å½“å‰ç§»åŠ¨ä¸­çš„æ–¹å—æ”¾åˆ°èƒŒæ™¯æ–¹å—ä¸­å»</span><br><span class="line">        for ((j = 0; j &lt; 8; j += 2))</span><br><span class="line">        do</span><br><span class="line">                ((i = j + 1))</span><br><span class="line">                ((y = $&#123;boxCur[$j]&#125; + boxCurY))</span><br><span class="line">                ((x = $&#123;boxCur[$i]&#125; + boxCurX))</span><br><span class="line">                ((i = y * iTrayWidth + x))</span><br><span class="line">                iMap[$i]=$cBoxCur</span><br><span class="line">        done</span><br><span class="line"></span><br><span class="line">        #æ¶ˆå»å¯è¢«æ¶ˆå»çš„è¡Œ</span><br><span class="line">        line=0</span><br><span class="line">        for ((j = 0; j &lt; iTrayWidth * iTrayHeight; j += iTrayWidth))</span><br><span class="line">        do</span><br><span class="line">                for ((i = j + iTrayWidth - 1; i &gt;= j; i--))</span><br><span class="line">                do</span><br><span class="line">                        if (($&#123;iMap[$i]&#125; == -1)); then break; fi</span><br><span class="line">                done</span><br><span class="line">                if ((i &gt;= j)); then continue; fi</span><br><span class="line"></span><br><span class="line">                ((line++))</span><br><span class="line">                for ((i = j - 1; i &gt;= 0; i--))</span><br><span class="line">                do</span><br><span class="line">                        ((x = i + iTrayWidth))</span><br><span class="line">                        iMap[$x]=$&#123;iMap[$i]&#125;</span><br><span class="line">                done</span><br><span class="line">                for ((i = 0; i &lt; iTrayWidth; i++))</span><br><span class="line">                do</span><br><span class="line">                        iMap[$i]=-1</span><br><span class="line">                done</span><br><span class="line">        done</span><br><span class="line"></span><br><span class="line">        if ((line == 0)); then return; fi</span><br><span class="line"></span><br><span class="line">        #æ ¹æ®æ¶ˆå»çš„è¡Œæ•°lineè®¡ç®—åˆ†æ•°å’Œé€Ÿåº¦çº§</span><br><span class="line">        ((x = iLeft + iTrayWidth * 2 + 7))</span><br><span class="line">        ((y = iTop + 11))</span><br><span class="line">        ((iScore += line * 2 - 1))</span><br><span class="line">        #æ˜¾ç¤ºæ–°çš„åˆ†æ•°</span><br><span class="line">        echo -ne "\033[1m\033[3$&#123;cScoreValue&#125;m\033[$&#123;y&#125;;$&#123;x&#125;H$&#123;iScore&#125;         "</span><br><span class="line">        if ((iScore % iScoreEachLevel &lt; line * 2 - 1))</span><br><span class="line">        then</span><br><span class="line">                if ((iLevel &lt; 20))</span><br><span class="line">                then</span><br><span class="line">                        ((iLevel++))</span><br><span class="line">                        ((y = iTop + 14))</span><br><span class="line">                        #æ˜¾ç¤ºæ–°çš„é€Ÿåº¦çº§</span><br><span class="line">                        echo -ne "\033[3$&#123;cScoreValue&#125;m\033[$&#123;y&#125;;$&#123;x&#125;H$&#123;iLevel&#125;        "</span><br><span class="line">                fi</span><br><span class="line">        fi</span><br><span class="line">        echo -ne "\033[0m"</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        #é‡æ–°æ˜¾ç¤ºèƒŒæ™¯æ–¹å—</span><br><span class="line">        for ((y = 0; y &lt; iTrayHeight; y++))</span><br><span class="line">        do</span><br><span class="line">                ((yp = y + iTrayTop + 1))</span><br><span class="line">                ((xp = iTrayLeft + 1))</span><br><span class="line">                ((i = y * iTrayWidth))</span><br><span class="line">                echo -ne "\033[$&#123;yp&#125;;$&#123;xp&#125;H"</span><br><span class="line">                for ((x = 0; x &lt; iTrayWidth; x++))</span><br><span class="line">                do</span><br><span class="line">                        ((j = i + x))</span><br><span class="line">                        if (($&#123;iMap[$j]&#125; == -1))</span><br><span class="line">                        then</span><br><span class="line">                                echo -ne "  "</span><br><span class="line">                        else</span><br><span class="line">                                echo -ne "\033[1m\033[7m\033[3$&#123;iMap[$j]&#125;m\033[4$&#123;iMap[$j]&#125;m[]\033[0m"</span><br><span class="line">                        fi</span><br><span class="line">                done</span><br><span class="line">        done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">ä¸‹è½ä¸€è¡Œ</span></span><br><span class="line">function BoxDown()</span><br><span class="line">&#123;</span><br><span class="line">        local y s</span><br><span class="line">        ((y = boxCurY + 1))        #æ–°çš„yåæ ‡</span><br><span class="line">        if BoxMove $y $boxCurX        #æµ‹è¯•æ˜¯å¦å¯ä»¥ä¸‹è½ä¸€è¡Œ</span><br><span class="line">        then</span><br><span class="line">                s="`DrawCurBox 0`"        #å°†æ—§çš„æ–¹å—æŠ¹å»</span><br><span class="line">                ((boxCurY = y))</span><br><span class="line">                s="$s`DrawCurBox 1`"        #æ˜¾ç¤ºæ–°çš„ä¸‹è½åæ–¹å—</span><br><span class="line">                echo -ne $s</span><br><span class="line">        else</span><br><span class="line">                #èµ°åˆ°è¿™å„¿, å¦‚æœä¸èƒ½ä¸‹è½äº†</span><br><span class="line">                Box2Map                #å°†å½“å‰ç§»åŠ¨ä¸­çš„æ–¹å—è´´åˆ°èƒŒæ™¯æ–¹å—ä¸­</span><br><span class="line">                RandomBox        #äº§ç”Ÿæ–°çš„æ–¹å—</span><br><span class="line">        fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å·¦ç§»ä¸€åˆ—</span></span><br><span class="line">function BoxLeft()</span><br><span class="line">&#123;</span><br><span class="line">        local x s</span><br><span class="line">        ((x = boxCurX - 1))</span><br><span class="line">        if BoxMove $boxCurY $x</span><br><span class="line">        then</span><br><span class="line">                s=`DrawCurBox 0`</span><br><span class="line">                ((boxCurX = x))</span><br><span class="line">                s=$s`DrawCurBox 1`</span><br><span class="line">                echo -ne $s</span><br><span class="line">        fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">å³ç§»ä¸€åˆ—</span></span><br><span class="line">function BoxRight()</span><br><span class="line">&#123;</span><br><span class="line">        local x s</span><br><span class="line">        ((x = boxCurX + 1))</span><br><span class="line">        if BoxMove $boxCurY $x</span><br><span class="line">        then</span><br><span class="line">                s=`DrawCurBox 0`</span><br><span class="line">                ((boxCurX = x))</span><br><span class="line">                s=$s`DrawCurBox 1`</span><br><span class="line">                echo -ne $s</span><br><span class="line">        fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">ä¸‹è½åˆ°åº•</span></span><br><span class="line">function BoxAllDown()</span><br><span class="line">&#123;</span><br><span class="line">        local k j i x y iDown s</span><br><span class="line">        iDown=$iTrayHeight</span><br><span class="line"></span><br><span class="line">        #è®¡ç®—ä¸€å…±éœ€è¦ä¸‹è½å¤šå°‘è¡Œ</span><br><span class="line">        for ((j = 0; j &lt; 8; j += 2))</span><br><span class="line">        do</span><br><span class="line">                ((i = j + 1))</span><br><span class="line">                ((y = $&#123;boxCur[$j]&#125; + boxCurY))</span><br><span class="line">                ((x = $&#123;boxCur[$i]&#125; + boxCurX))</span><br><span class="line">                for ((k = y + 1; k &lt; iTrayHeight; k++))</span><br><span class="line">                do</span><br><span class="line">                        ((i = k * iTrayWidth + x))</span><br><span class="line">                        if (( $&#123;iMap[$i]&#125; != -1)); then break; fi</span><br><span class="line">                done</span><br><span class="line">                ((k -= y + 1))</span><br><span class="line">                if (( $iDown &gt; $k )); then iDown=$k; fi</span><br><span class="line">        done</span><br><span class="line"></span><br><span class="line">        s=`DrawCurBox 0`        #å°†æ—§çš„æ–¹å—æŠ¹å»</span><br><span class="line">        ((boxCurY += iDown))</span><br><span class="line">        s=$s`DrawCurBox 1`        #æ˜¾ç¤ºæ–°çš„ä¸‹è½åçš„æ–¹å—</span><br><span class="line">        echo -ne $s</span><br><span class="line">        Box2Map                #å°†å½“å‰ç§»åŠ¨ä¸­çš„æ–¹å—è´´åˆ°èƒŒæ™¯æ–¹å—ä¸­</span><br><span class="line">        RandomBox        #äº§ç”Ÿæ–°çš„æ–¹å—</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ—‹è½¬æ–¹å—</span></span><br><span class="line">function BoxRotate()</span><br><span class="line">&#123;</span><br><span class="line">        local iCount iTestRotate boxTest j i s</span><br><span class="line">        iCount=$&#123;countBox[$iBoxCurType]&#125;        #å½“å‰çš„æ–¹å—ç»æ—‹è½¬å¯ä»¥äº§ç”Ÿçš„æ ·å¼çš„æ•°ç›®</span><br><span class="line"></span><br><span class="line">        #è®¡ç®—æ—‹è½¬åçš„æ–°çš„æ ·å¼</span><br><span class="line">        ((iTestRotate = iBoxCurRotate + 1))</span><br><span class="line">        if ((iTestRotate &gt;= iCount))</span><br><span class="line">        then</span><br><span class="line">                ((iTestRotate = 0))</span><br><span class="line">        fi</span><br><span class="line"></span><br><span class="line">        #æ›´æ–°åˆ°æ–°çš„æ ·å¼, ä¿å­˜è€çš„æ ·å¼(ä½†ä¸æ˜¾ç¤º)</span><br><span class="line">        for ((j = 0, i = ($&#123;offsetBox[$iBoxCurType]&#125; + $iTestRotate) * 8; j &lt; 8; j++, i++))</span><br><span class="line">        do</span><br><span class="line">                boxTest[$j]=$&#123;boxCur[$j]&#125;</span><br><span class="line">                boxCur[$j]=$&#123;box[$i]&#125;</span><br><span class="line">        done</span><br><span class="line"></span><br><span class="line">        if BoxMove $boxCurY $boxCurX        #æµ‹è¯•æ—‹è½¬åæ˜¯å¦æœ‰ç©ºé—´æ”¾çš„ä¸‹</span><br><span class="line">        then</span><br><span class="line">                #æŠ¹å»æ—§çš„æ–¹å—</span><br><span class="line">                for ((j = 0; j &lt; 8; j++))</span><br><span class="line">                do</span><br><span class="line">                        boxCur[$j]=$&#123;boxTest[$j]&#125;</span><br><span class="line">                done</span><br><span class="line">                s=`DrawCurBox 0`</span><br><span class="line"></span><br><span class="line">                #ç”»ä¸Šæ–°çš„æ–¹å—</span><br><span class="line">                for ((j = 0, i = ($&#123;offsetBox[$iBoxCurType]&#125; + $iTestRotate) * 8; j &lt; 8; j++, i++))</span><br><span class="line">                do</span><br><span class="line">                        boxCur[$j]=$&#123;box[$i]&#125;</span><br><span class="line">                done</span><br><span class="line">                s=$s`DrawCurBox 1`</span><br><span class="line">                echo -ne $s</span><br><span class="line">                iBoxCurRotate=$iTestRotate</span><br><span class="line">        else</span><br><span class="line">                #ä¸èƒ½æ—‹è½¬ï¼Œè¿˜æ˜¯ç»§ç»­ä½¿ç”¨è€çš„æ ·å¼</span><br><span class="line">                for ((j = 0; j &lt; 8; j++))</span><br><span class="line">                do</span><br><span class="line">                        boxCur[$j]=$&#123;boxTest[$j]&#125;</span><br><span class="line">                done</span><br><span class="line">        fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">DrawCurBox(bDraw), ç»˜åˆ¶å½“å‰ç§»åŠ¨ä¸­çš„æ–¹å—, bDrawä¸º1, ç”»ä¸Š, bDrawä¸º0, æŠ¹å»æ–¹å—ã€‚</span></span><br><span class="line">function DrawCurBox()</span><br><span class="line">&#123;</span><br><span class="line">        local i j t bDraw sBox s</span><br><span class="line">        bDraw=$1</span><br><span class="line"></span><br><span class="line">        s=""</span><br><span class="line">        if (( bDraw == 0 ))</span><br><span class="line">        then</span><br><span class="line">                sBox="\040\040"</span><br><span class="line">        else</span><br><span class="line">                sBox="[]"</span><br><span class="line">                s=$s"\033[1m\033[7m\033[3$&#123;cBoxCur&#125;m\033[4$&#123;cBoxCur&#125;m"</span><br><span class="line">        fi</span><br><span class="line"></span><br><span class="line">        for ((j = 0; j &lt; 8; j += 2))</span><br><span class="line">        do</span><br><span class="line">                ((i = iTrayTop + 1 + $&#123;boxCur[$j]&#125; + boxCurY))</span><br><span class="line">                ((t = iTrayLeft + 1 + 2 * (boxCurX + $&#123;boxCur[$j + 1]&#125;)))</span><br><span class="line">                #\033[y;xH, å…‰æ ‡åˆ°(x, y)å¤„</span><br><span class="line">                s=$s"\033[$&#123;i&#125;;$&#123;t&#125;H$&#123;sBox&#125;"</span><br><span class="line">        done</span><br><span class="line">        s=$s"\033[0m"</span><br><span class="line">        echo -n $s</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ›´æ–°æ–°çš„æ–¹å—</span></span><br><span class="line">function RandomBox()</span><br><span class="line">&#123;</span><br><span class="line">        local i j t</span><br><span class="line"></span><br><span class="line">        #æ›´æ–°å½“å‰ç§»åŠ¨çš„æ–¹å—</span><br><span class="line">        iBoxCurType=$&#123;iBoxNewType&#125;</span><br><span class="line">        iBoxCurRotate=$&#123;iBoxNewRotate&#125;</span><br><span class="line">        cBoxCur=$&#123;cBoxNew&#125;</span><br><span class="line">        for ((j = 0; j &lt; $&#123;#boxNew[@]&#125;; j++))</span><br><span class="line">        do</span><br><span class="line">                boxCur[$j]=$&#123;boxNew[$j]&#125;</span><br><span class="line">        done</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        #æ˜¾ç¤ºå½“å‰ç§»åŠ¨çš„æ–¹å—</span><br><span class="line">        if (( $&#123;#boxCur[@]&#125; == 8 ))</span><br><span class="line">        then</span><br><span class="line">                #è®¡ç®—å½“å‰æ–¹å—è¯¥ä»é¡¶ç«¯å“ªä¸€è¡Œ"å†’"å‡ºæ¥</span><br><span class="line">                for ((j = 0, t = 4; j &lt; 8; j += 2))</span><br><span class="line">                do</span><br><span class="line">                        if (($&#123;boxCur[$j]&#125; &lt; t)); then t=$&#123;boxCur[$j]&#125;; fi</span><br><span class="line">                done</span><br><span class="line">                ((boxCurY = -t))</span><br><span class="line">                for ((j = 1, i = -4, t = 20; j &lt; 8; j += 2))</span><br><span class="line">                do</span><br><span class="line">                        if (($&#123;boxCur[$j]&#125; &gt; i)); then i=$&#123;boxCur[$j]&#125;; fi</span><br><span class="line">                        if (($&#123;boxCur[$j]&#125; &lt; t)); then t=$&#123;boxCur[$j]&#125;; fi</span><br><span class="line">                done</span><br><span class="line">                ((boxCurX = (iTrayWidth - 1 - i - t) / 2))</span><br><span class="line"></span><br><span class="line">                #æ˜¾ç¤ºå½“å‰ç§»åŠ¨çš„æ–¹å—</span><br><span class="line">                echo -ne `DrawCurBox 1`</span><br><span class="line"></span><br><span class="line">                #å¦‚æœæ–¹å—ä¸€å‡ºæ¥å°±æ²¡å¤„æ”¾ï¼ŒGame over!</span><br><span class="line">                if ! BoxMove $boxCurY $boxCurX</span><br><span class="line">                then</span><br><span class="line">                        kill -$sigExit $&#123;PPID&#125;</span><br><span class="line">                        ShowExit</span><br><span class="line">                fi</span><br><span class="line">        fi</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        #æ¸…é™¤å³è¾¹é¢„æ˜¾ç¤ºçš„æ–¹å—</span><br><span class="line">        for ((j = 0; j &lt; 4; j++))</span><br><span class="line">        do</span><br><span class="line">                ((i = iTop + 1 + j))</span><br><span class="line">                ((t = iLeft + 2 * iTrayWidth + 7))</span><br><span class="line">                echo -ne "\033[$&#123;i&#125;;$&#123;t&#125;H        "</span><br><span class="line">        done</span><br><span class="line"></span><br><span class="line">        #éšæœºäº§ç”Ÿæ–°çš„æ–¹å—</span><br><span class="line">        ((iBoxNewType = RANDOM % $&#123;#offsetBox[@]&#125;))</span><br><span class="line">        ((iBoxNewRotate = RANDOM % $&#123;countBox[$iBoxNewType]&#125;))</span><br><span class="line">        for ((j = 0, i = ($&#123;offsetBox[$iBoxNewType]&#125; + $iBoxNewRotate) * 8; j &lt; 8; j++, i++))</span><br><span class="line">        do</span><br><span class="line">                boxNew[$j]=$&#123;box[$i]&#125;;</span><br><span class="line">        done</span><br><span class="line"></span><br><span class="line">        ((cBoxNew = $&#123;colorTable[RANDOM % $&#123;#colorTable[@]&#125;]&#125;))</span><br><span class="line"></span><br><span class="line">        #æ˜¾ç¤ºå³è¾¹é¢„æ˜¾ç¤ºçš„æ–¹å—</span><br><span class="line">        echo -ne "\033[1m\033[7m\033[3$&#123;cBoxNew&#125;m\033[4$&#123;cBoxNew&#125;m"</span><br><span class="line">        for ((j = 0; j &lt; 8; j += 2))</span><br><span class="line">        do</span><br><span class="line">                ((i = iTop + 1 + $&#123;boxNew[$j]&#125;))</span><br><span class="line">                ((t = iLeft + 2 * iTrayWidth + 7 + 2 * $&#123;boxNew[$j + 1]&#125;))</span><br><span class="line">                echo -ne "\033[$&#123;i&#125;;$&#123;t&#125;H[]"</span><br><span class="line">        done</span><br><span class="line">        echo -ne "\033[0m"</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">åˆå§‹ç»˜åˆ¶</span></span><br><span class="line">function InitDraw()</span><br><span class="line">&#123;</span><br><span class="line">        clear</span><br><span class="line">        RandomBox        #éšæœºäº§ç”Ÿæ–¹å—ï¼Œè¿™æ—¶å³è¾¹é¢„æ˜¾ç¤ºçª—å£ä¸­æœ‰æ–¹å¿«äº†</span><br><span class="line">        RandomBox        #å†éšæœºäº§ç”Ÿæ–¹å—ï¼Œå³è¾¹é¢„æ˜¾ç¤ºçª—å£ä¸­çš„æ–¹å—è¢«æ›´æ–°ï¼ŒåŸå…ˆçš„æ–¹å—å°†å¼€å§‹ä¸‹è½</span><br><span class="line">        local i t1 t2 t3</span><br><span class="line"></span><br><span class="line">        #æ˜¾ç¤ºè¾¹æ¡†</span><br><span class="line">        echo -ne "\033[1m"</span><br><span class="line">        echo -ne "\033[3$&#123;cBorder&#125;m\033[4$&#123;cBorder&#125;m"</span><br><span class="line"></span><br><span class="line">        ((t2 = iLeft + 1))</span><br><span class="line">        ((t3 = iLeft + iTrayWidth * 2 + 3))</span><br><span class="line">        for ((i = 0; i &lt; iTrayHeight; i++))</span><br><span class="line">        do</span><br><span class="line">                ((t1 = i + iTop + 2))</span><br><span class="line">                echo -ne "\033[$&#123;t1&#125;;$&#123;t2&#125;H||"</span><br><span class="line">                echo -ne "\033[$&#123;t1&#125;;$&#123;t3&#125;H||"</span><br><span class="line">        done</span><br><span class="line"></span><br><span class="line">        ((t2 = iTop + iTrayHeight + 2))</span><br><span class="line">        for ((i = 0; i &lt; iTrayWidth + 2; i++))</span><br><span class="line">        do</span><br><span class="line">                ((t1 = i * 2 + iLeft + 1))</span><br><span class="line">                echo -ne "\033[$&#123;iTrayTop&#125;;$&#123;t1&#125;H=="</span><br><span class="line">                echo -ne "\033[$&#123;t2&#125;;$&#123;t1&#125;H=="</span><br><span class="line">        done</span><br><span class="line">        echo -ne "\033[0m"</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        #æ˜¾ç¤º"Score"å’Œ"Level"å­—æ ·</span><br><span class="line">        echo -ne "\033[1m"</span><br><span class="line">        ((t1 = iLeft + iTrayWidth * 2 + 7))</span><br><span class="line">        ((t2 = iTop + 10))</span><br><span class="line">        echo -ne "\033[3$&#123;cScore&#125;m\033[$&#123;t2&#125;;$&#123;t1&#125;HScore"</span><br><span class="line">        ((t2 = iTop + 11))</span><br><span class="line">        echo -ne "\033[3$&#123;cScoreValue&#125;m\033[$&#123;t2&#125;;$&#123;t1&#125;H$&#123;iScore&#125;"</span><br><span class="line">        ((t2 = iTop + 13))</span><br><span class="line">        echo -ne "\033[3$&#123;cScore&#125;m\033[$&#123;t2&#125;;$&#123;t1&#125;HLevel"</span><br><span class="line">        ((t2 = iTop + 14))</span><br><span class="line">        echo -ne "\033[3$&#123;cScoreValue&#125;m\033[$&#123;t2&#125;;$&#123;t1&#125;H$&#123;iLevel&#125;"</span><br><span class="line">        echo -ne "\033[0m"</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">é€€å‡ºæ—¶æ˜¾ç¤ºGameOVer!</span></span><br><span class="line">function ShowExit()</span><br><span class="line">&#123;</span><br><span class="line">        local y</span><br><span class="line">        ((y = iTrayHeight + iTrayTop + 3))</span><br><span class="line">        echo -e "\033[$&#123;y&#125;;0HGameOver!\033[0m"</span><br><span class="line">        exit</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ˜¾ç¤ºç”¨æ³•.</span></span><br><span class="line">function Usage</span><br><span class="line">&#123;</span><br><span class="line">        cat &lt;&lt; EOF</span><br><span class="line">Usage: $APP_NAME</span><br><span class="line">Start tetris game.</span><br><span class="line"></span><br><span class="line">  -h, --help              display this help and exit</span><br><span class="line">      --version           output version information and exit</span><br><span class="line">EOF</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æ¸¸æˆä¸»ç¨‹åºåœ¨è¿™å„¿å¼€å§‹.</span></span><br><span class="line">if [[ "$1" == "-h" || "$1" == "--help" ]]; then</span><br><span class="line">        Usage</span><br><span class="line">elif [[ "$1" == "--version" ]]; then</span><br><span class="line">        echo "$APP_NAME $APP_VERSION"</span><br><span class="line">elif [[ "$1" == "--show" ]]; then</span><br><span class="line">        #å½“å‘ç°å…·æœ‰å‚æ•°--showæ—¶ï¼Œè¿è¡Œæ˜¾ç¤ºå‡½æ•°</span><br><span class="line">        RunAsDisplayer</span><br><span class="line">else</span><br><span class="line">        bash $0 --show&amp;        #ä»¥å‚æ•°--showå°†æœ¬ç¨‹åºå†è¿è¡Œä¸€é</span><br><span class="line">        RunAsKeyReceiver $!        #ä»¥ä¸Šä¸€è¡Œäº§ç”Ÿçš„è¿›ç¨‹çš„è¿›ç¨‹å·ä½œä¸ºå‚æ•°</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h3 id="ç¬¬ä¸‰æ­¥ï¼š"><a href="#ç¬¬ä¸‰æ­¥ï¼š" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼š"></a>ç¬¬ä¸‰æ­¥ï¼š</h3><p>ç»™å½“å‰ç”¨æˆ·æ‰§è¡Œæ­¤æ–‡ä»¶çš„æƒé™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 775 ./Tetris.sh</span><br></pre></td></tr></table></figure><h3 id="ç¬¬å››æ­¥ï¼š"><a href="#ç¬¬å››æ­¥ï¼š" class="headerlink" title="ç¬¬å››æ­¥ï¼š"></a>ç¬¬å››æ­¥ï¼š</h3><p>æœ‰äº†æ‰§è¡Œæ­¤æ–‡ä»¶çš„æƒé™ä¹‹åï¼Œå¼€å§‹æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./Tetris.sh</span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœï¼š"><a href="#æ•ˆæœï¼š" class="headerlink" title="æ•ˆæœï¼š"></a>æ•ˆæœï¼š</h3><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1594896756.jpg" alt="1594896756"></p>]]></content>
    
    <summary type="html">
    
      ä¿„ç½—æ–¯æ–¹å—çš„Shellè„šæœ¬
    
    </summary>
    
    
    
      <category term="Shell" scheme="penghui.club/tags/Shell/"/>
    
  </entry>
  
  <entry>
    <title>æœ‰é€¼æ ¼çš„å¸Œå°”æ’åº</title>
    <link href="penghui.club/2020/07/13/%E6%9C%89%E9%80%BC%E6%A0%BC%E7%9A%84%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F/"/>
    <id>penghui.club/2020/07/13/%E6%9C%89%E9%80%BC%E6%A0%BC%E7%9A%84%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F/</id>
    <published>2020-07-12T23:42:30.000Z</published>
    <updated>2020-07-13T00:21:47.953Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>é²¸è½â€œå½“é²¸é±¼åœ¨æµ·æ´‹ä¸­æ­»å»ï¼Œå®ƒçš„å°¸ä½“ä¼šæœ€ç»ˆæ²‰å…¥æµ·åº•ã€‚ç”Ÿç‰©å­¦å®¶èµ‹äºˆè¿™ä¸ªè¿‡ç¨‹ä¸€ä¸ªåå­—â€”â€”é²¸è½ï¼ˆWhale Fallï¼‰ã€‚ä¸€åº§é²¸é±¼çš„å°¸ä½“å¯ä»¥ä¾›å…»æ•´å¥—ç”Ÿå‘½ç³»ç»Ÿé•¿è¾¾ç™¾å¹´ï¼Œè¿™æ˜¯å®ƒç•™ç»™å¤§æµ·æœ€åçš„æ¸©æŸ”ã€‚â€ </p><p>â€‹                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„</p></blockquote><a id="more"></a><h2 id="æœ‰é€¼æ ¼çš„å¸Œå°”æ’åº"><a href="#æœ‰é€¼æ ¼çš„å¸Œå°”æ’åº" class="headerlink" title="æœ‰é€¼æ ¼çš„å¸Œå°”æ’åº"></a>æœ‰é€¼æ ¼çš„å¸Œå°”æ’åº</h2><p>å¸Œå°”æ’åºæ˜¯ä¸€ç§åŸºäºæ’å…¥æ’åºçš„å¿«é€Ÿçš„æ’åºç®—æ³•ã€‚å¸Œå°”æ’åºä¸ºäº†åŠ å¿«é€Ÿåº¦ç®€å•çš„æ”¹è¿›äº†æ’å…¥æ’åºï¼Œ<span style="background-color: yellow; color: red;">äº¤æ¢ä¸ç›¸é‚»çš„å…ƒç´ ä»¥å¯¹æ•°ç»„çš„å±€éƒ¨è¿›è¡Œæ’åºï¼Œå¹¶æœ€ç»ˆç”¨æ’å…¥æ’åºå°†å±€éƒ¨æœ‰åºçš„æ•°ç»„æ’åºã€‚</span></p><p>å¸Œå°”æ’åºçš„æ€æƒ³æ˜¯ä½¿æ•°ç»„ä¸­ä»»æ„<code>é—´éš”ä¸º h</code> çš„å…ƒç´ éƒ½æ˜¯æœ‰åºçš„ã€‚è¿™æ ·çš„æ•°ç»„æˆä¸º <code>h</code> æœ‰åºæ•°ç»„ã€‚å¯ä»¥è¿™ä¹ˆç†è§£ï¼šä¸€ä¸ª<code>h</code> æœ‰åºæ•°ç»„å°±æ˜¯<code>h</code> ä¸ªäº’ç›¸ç‹¬ç«‹çš„æœ‰åºæ•°ç»„ç¼–ç»‡åœ¨ä¸€èµ·ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/xier.jpg" alt="xier"></p><p>å®ç°å¸Œå°”æ’åºçš„ä¸€ç§æ–¹æ³•æ˜¯å¯¹æ¯ä¸€ä¸ª<code>h</code>ï¼Œç”¨æ’å…¥æ’åºå°†<code>h</code>ä¸ªå­æ•°ç»„ç‹¬ç«‹çš„æ’åºã€‚ä½†å› ä¸ºå­æ•°ç»„æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•æ˜¯åœ¨<code>h-</code>å­æ•°ç»„ä¸­å°†æ¯ä¸€ä¸ªå…ƒç´ äº¤æ¢åˆ°æ¯”å®ƒå¤§çš„å…ƒç´ ä¹‹å‰ã€‚åªéœ€è¦åœ¨æ’å…¥æ’åºçš„ä»£ç ä¸­å°†ç§»åŠ¨å…ƒç´ çš„è·ç¦»ç”±<code>1</code>æ”¹ä¸º<code>h</code>å³å¯ã€‚</p><h3 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shellSort</span><span class="params">(<span class="keyword">int</span>[] a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = a.length;</span><br><span class="line">    <span class="keyword">int</span> h = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (h &lt; N / <span class="number">3</span>) h = <span class="number">3</span> * h + <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (h &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = h; i &lt; N; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &gt;= h &amp;&amp; less(a[j], a[j - h]); j -= h) &#123;</span><br><span class="line">                exch(a, j, j - h);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        h = h / <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">less</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123; <span class="keyword">return</span> a &lt; b; &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">exch</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> ind1, <span class="keyword">int</span> ind2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp = a[ind1]; a[ind1] = a[ind2]; a[ind2] = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;é²¸è½â€œå½“é²¸é±¼åœ¨æµ·æ´‹ä¸­æ­»å»ï¼Œå®ƒçš„å°¸ä½“ä¼šæœ€ç»ˆæ²‰å…¥æµ·åº•ã€‚ç”Ÿç‰©å­¦å®¶èµ‹äºˆè¿™ä¸ªè¿‡ç¨‹ä¸€ä¸ªåå­—â€”â€”é²¸è½ï¼ˆWhale Fallï¼‰ã€‚ä¸€åº§é²¸é±¼çš„å°¸ä½“å¯ä»¥ä¾›å…»æ•´å¥—ç”Ÿå‘½ç³»ç»Ÿé•¿è¾¾ç™¾å¹´ï¼Œè¿™æ˜¯å®ƒç•™ç»™å¤§æµ·æœ€åçš„æ¸©æŸ”ã€‚â€ &lt;/p&gt;
&lt;p&gt;â€‹                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="penghui.club/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="æ’åº" scheme="penghui.club/tags/%E6%8E%92%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>åœ°ä¸‹åŸæ¸¸æˆ</title>
    <link href="penghui.club/2020/07/12/%E5%9C%B0%E4%B8%8B%E5%9F%8E%E6%B8%B8%E6%88%8F/"/>
    <id>penghui.club/2020/07/12/%E5%9C%B0%E4%B8%8B%E5%9F%8E%E6%B8%B8%E6%88%8F/</id>
    <published>2020-07-11T23:30:47.000Z</published>
    <updated>2020-07-12T00:04:03.461Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>æˆ‘å°šæœªé‡è§æ›´å¥½çš„ï¼Œåªå¥½æ„¿æˆ‘æƒ¦å¿µä¹‹äººå²å²å¹³å®‰</p><p>â€‹                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„</p></blockquote><a id="more"></a><h2 id="174-åœ°ä¸‹åŸæ¸¸æˆ"><a href="#174-åœ°ä¸‹åŸæ¸¸æˆ" class="headerlink" title="174. åœ°ä¸‹åŸæ¸¸æˆ"></a><a href="https://leetcode-cn.com/problems/dungeon-game/" target="_blank" rel="noopener">174. åœ°ä¸‹åŸæ¸¸æˆ</a></h2><p>åˆæ˜¯ 7 æœˆçš„æ¯æ—¥ä¸€é¢˜ï¼Œä¸€çœ‹é¢˜ç›®å°±æ˜¯å…¸å‹çš„<code>dp</code>ã€‚ä¸€èˆ¬<code>éš¾åº¦</code>å§<del>~</del>(è®©æˆ‘è£…ä¸ªé€¼d=====(ï¿£â–½ï¿£*)b)ã€‚</p><h3 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h3><p>ä¸€äº›æ¶é­”æŠ“ä½äº†å…¬ä¸»ï¼ˆPï¼‰å¹¶å°†å¥¹å…³åœ¨äº†åœ°ä¸‹åŸçš„å³ä¸‹è§’ã€‚åœ°ä¸‹åŸæ˜¯ç”± M x N ä¸ªæˆ¿é—´ç»„æˆçš„äºŒç»´ç½‘æ ¼ã€‚æˆ‘ä»¬è‹±å‹‡çš„éª‘å£«ï¼ˆKï¼‰æœ€åˆè¢«å®‰ç½®åœ¨å·¦ä¸Šè§’çš„æˆ¿é—´é‡Œï¼Œä»–å¿…é¡»ç©¿è¿‡åœ°ä¸‹åŸå¹¶é€šè¿‡å¯¹æŠ—æ¶é­”æ¥æ‹¯æ•‘å…¬ä¸»ã€‚</p><p>éª‘å£«çš„åˆå§‹å¥åº·ç‚¹æ•°ä¸ºä¸€ä¸ªæ­£æ•´æ•°ã€‚å¦‚æœä»–çš„å¥åº·ç‚¹æ•°åœ¨æŸä¸€æ—¶åˆ»é™è‡³ 0 æˆ–ä»¥ä¸‹ï¼Œä»–ä¼šç«‹å³æ­»äº¡ã€‚</p><p>æœ‰äº›æˆ¿é—´ç”±æ¶é­”å®ˆå«ï¼Œå› æ­¤éª‘å£«åœ¨è¿›å…¥è¿™äº›æˆ¿é—´æ—¶ä¼šå¤±å»å¥åº·ç‚¹æ•°ï¼ˆè‹¥æˆ¿é—´é‡Œçš„å€¼ä¸ºè´Ÿæ•´æ•°ï¼Œåˆ™è¡¨ç¤ºéª‘å£«å°†æŸå¤±å¥åº·ç‚¹æ•°ï¼‰ï¼›å…¶ä»–æˆ¿é—´è¦ä¹ˆæ˜¯ç©ºçš„ï¼ˆæˆ¿é—´é‡Œçš„å€¼ä¸º 0ï¼‰ï¼Œè¦ä¹ˆåŒ…å«å¢åŠ éª‘å£«å¥åº·ç‚¹æ•°çš„é­”æ³•çƒï¼ˆè‹¥æˆ¿é—´é‡Œçš„å€¼ä¸ºæ­£æ•´æ•°ï¼Œåˆ™è¡¨ç¤ºéª‘å£«å°†å¢åŠ å¥åº·ç‚¹æ•°ï¼‰ã€‚</p><p>ä¸ºäº†å°½å¿«åˆ°è¾¾å…¬ä¸»ï¼Œéª‘å£«å†³å®šæ¯æ¬¡åª<strong>å‘å³</strong>æˆ–<strong>å‘ä¸‹</strong>ç§»åŠ¨ä¸€æ­¥ã€‚</p><p><strong>ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—ç¡®ä¿éª‘å£«èƒ½å¤Ÿæ‹¯æ•‘åˆ°å…¬ä¸»æ‰€éœ€çš„æœ€ä½åˆå§‹å¥åº·ç‚¹æ•°ã€‚</strong></p><p>ä¾‹å¦‚ï¼Œè€ƒè™‘åˆ°å¦‚ä¸‹å¸ƒå±€çš„åœ°ä¸‹åŸï¼Œå¦‚æœéª‘å£«éµå¾ªæœ€ä½³è·¯å¾„ å³ -&gt; å³ -&gt; ä¸‹ -&gt; ä¸‹ï¼Œåˆ™éª‘å£«çš„åˆå§‹å¥åº·ç‚¹æ•°è‡³å°‘ä¸º 7ã€‚</p><table><thead><tr><th>-2 (K)</th><th>-3</th><th>3</th></tr></thead><tbody><tr><td>-5</td><td>-10</td><td>1</td></tr><tr><td>10</td><td>30</td><td>-5 (P)</td></tr></tbody></table><p>è¯´æ˜:</p><ul><li><p>éª‘å£«çš„å¥åº·ç‚¹æ•°æ²¡æœ‰ä¸Šé™ã€‚</p></li><li><p>ä»»ä½•æˆ¿é—´éƒ½å¯èƒ½å¯¹éª‘å£«çš„å¥åº·ç‚¹æ•°é€ æˆå¨èƒï¼Œä¹Ÿå¯èƒ½å¢åŠ éª‘å£«çš„å¥åº·ç‚¹æ•°ï¼ŒåŒ…æ‹¬éª‘å£«è¿›å…¥çš„å·¦ä¸Šè§’æˆ¿é—´ä»¥åŠå…¬ä¸»è¢«ç›‘ç¦çš„å³ä¸‹è§’æˆ¿é—´ã€‚</p></li></ul><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±è®²è®²å¦‚ä½•<span style="color: red;background-color: yellow;">è‹±é›„æ•‘ç¾:</span></p><h4 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h4><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥çœ‹å‡ºè¿™æ˜¯é“åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œåœ¨æˆ‘è®¤ä¸ºï¼šåŠ¨æ€è§„åˆ’å°±æ˜¯åœ¨<strong>ç©·ä¸¾</strong>äº†æ‰€æœ‰æƒ…å†µçš„æ—¶å€™åŠ äº†ä¸ª<strong>å¤‡å¿˜å½•</strong>ï¼Œå³æœ‰çŠ¶æ€çš„è®°å½•æ¯ä¸€æ­¥çš„ç»“æœï¼Œå½“ä¸€æ­¥çš„å€¼å–å†³äºæˆ‘ä»¬å·²æ±‚å‡ºçš„ç»“æœã€‚</p><h5 id="å®šä¹‰dpï¼š"><a href="#å®šä¹‰dpï¼š" class="headerlink" title="å®šä¹‰dpï¼š"></a>å®šä¹‰dpï¼š</h5><p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„ <code>dp[m + 1][n + 1]</code>; åˆ™<code>dp[j][j]</code>å°±è¡¨ç¤ºæˆ‘ä»¬ç§»åŠ¨åˆ°åæ ‡<code>[i][j]</code>çš„ä½ç½®æ—¶ï¼Œéœ€è¦çš„æœ€å°‘è¡€é‡ã€‚</p><p>é¢˜ç›®ä¸Šè¯´äº†ï¼Œéª‘å£«æ¯æ¬¡åª<strong>å‘å³</strong>æˆ–<strong>å‘ä¸‹</strong>ç§»åŠ¨ä¸€æ­¥ã€‚é‚£ä¹ˆå½“å‰çŠ¶æ€å°±å’Œ<code>å³è¾¹çš„çŠ¶æ€</code>å’Œ<code>ä¸‹é¢çš„çŠ¶æ€</code>æœ‰å…³ã€‚æ‰€ä»¥æˆ‘ä»¬åº”é€†å‘æ¥æœç´¢ï¼ˆå³ä»<strong>å…¬ä¸»çš„ä½ç½®â€”&gt;&gt;éª‘å£«çš„ä½ç½®</strong>ï¼‰ï¼Œè¿™ä¸å˜æˆäº†<span style="color: red;background-color: yellow;">ç¾æ•‘è‹±é›„</span>äº†å—ï¼Ÿ</p><p>é‚£ä¹ˆçŠ¶æ€è½¬ç§»æ–¹å¼æ€ä¹ˆå¾—å‡ºï¼Ÿæ¥ä¸‹æ¥å°±åˆ†æƒ…å†µè€Œå®šï¼š</p><p>é¢˜ç›®ç»™å‡ºçš„åæ ‡æ•°ç»„æ˜¯ï¼š<code>int[][] dungeon</code>;</p><p>å½“<code>dungeon[i][j] &gt;= dp[i + 1][j] || dungeon[i][j] &gt;= dp[i][j + 1]</code>çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦å°†<code>dp[i][j] = 1</code>å³å¯ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬ä¸è®ºæ˜¯è¦èµ°åˆ°å³è¾¹è¿˜æ˜¯ä¸‹è¾¹ï¼Œå½“å‰çš„è¡€é‡å·²ç»å……è¶³å¤Ÿç”¨äº†ï¼Œåªéœ€è¦ <code>1</code>ç‚¹è¡€é‡èµ°åˆ°<code>dungeon[i][j]</code>ä½ç½®å³å¯ã€‚å¹¶ä¸”æ— éœ€åšå…¶ä»–åˆ¤æ–­ï¼Œå› ä¸º <code>1</code>æ˜¯æœ€ä½è¡€é‡äº†ã€‚</p><p>å…¶å®ƒæƒ…å†µï¼šå½“å‰<code>dp[i + 1][j]</code>å°±å’Œå³è¾¹çŠ¶æ€ã€ä¸‹è¾¹çŠ¶æ€æœ‰å…³äº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dp[i][j] = Math.min(dp[i + <span class="number">1</span>][j] - dungeon[i][j], dp[i][j + <span class="number">1</span>] - dungeon[i][j]);</span><br></pre></td></tr></table></figure><h4 id="å®Œæ•´ä»£ç ï¼š"><a href="#å®Œæ•´ä»£ç ï¼š" class="headerlink" title="å®Œæ•´ä»£ç ï¼š"></a>å®Œæ•´ä»£ç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculateMinimumHP</span><span class="params">(<span class="keyword">int</span>[][] dungeon)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = dungeon.length;</span><br><span class="line">    <span class="keyword">int</span> n = dungeon[<span class="number">0</span>].length;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// base case</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = m; i &gt;= <span class="number">0</span>; i --) dp[i][n] = <span class="number">1000000</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = n; j &gt;= <span class="number">0</span>; j --) dp[m][j] = <span class="number">1000000</span>;</span><br><span class="line">    dp[m - <span class="number">1</span>][n] = <span class="number">1</span>; dp[m][n - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i --) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = n - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j --) &#123;</span><br><span class="line">            <span class="keyword">if</span> (dungeon[i][j] &gt;= dp[i + <span class="number">1</span>][j] || dungeon[i][j] &gt;= dp[i][j + <span class="number">1</span>]) dp[i][j] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                dp[i][j] = Math.min(dp[i + <span class="number">1</span>][j] - dungeon[i][j], dp[i][j + <span class="number">1</span>] - dungeon[i][j]);</span><br><span class="line">                </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      åœ°ä¸‹åŸæ¸¸æˆ
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="penghui.club/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="åŠ¨æ€è§„åˆ’" scheme="penghui.club/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>springç›¸å…³çŸ¥è¯†ç‚¹</title>
    <link href="penghui.club/2020/07/06/spring%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
    <id>penghui.club/2020/07/06/spring%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9/</id>
    <published>2020-07-06T10:22:17.000Z</published>
    <updated>2020-07-08T07:06:35.763Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>è¿™é¦–æ­Œï¼ˆè€è¡—ï¼‰å¬äº†å››å¹´äº†ï¼Œå¯å¿˜ä¸æ‰çš„æ˜¯ä»€ä¹ˆæˆ‘è¿˜æ˜¯ä¹Ÿä¸çŸ¥é“ã€‚</p><p>â€‹                                                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„</p></blockquote><a id="more"></a><h3 id="çƒ­èº«"><a href="#çƒ­èº«" class="headerlink" title="çƒ­èº«"></a>çƒ­èº«</h3><h4 id="ä»€ä¹ˆæ˜¯-Spring-Frameworkï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Spring-Frameworkï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Spring Frameworkï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Spring Frameworkï¼Ÿ</h4><ul><li>Spring æ˜¯ä¸€ä¸ªå¼€æºåº”ç”¨æ¡†æ¶ï¼Œæ—¨åœ¨é™ä½åº”ç”¨ç¨‹åºå¼€å‘çš„å¤æ‚åº¦ã€‚</li><li>å®ƒæ˜¯è½»é‡çº§ã€æ¾æ•£è€¦åˆçš„ã€‚</li><li>å®ƒå…·æœ‰åˆ†å±‚ä½“ç³»ç»“æ„ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©ç»„ä»¶ï¼ŒåŒæ—¶è¿˜ä¸º J2EE åº”ç”¨ç¨‹åºå¼€å‘æä¾›äº†ä¸€ä¸ªæœ‰å‡èšåŠ›çš„æ¡†æ¶ã€‚</li><li>å®ƒå¯ä»¥é›†æˆå…¶ä»–æ¡†æ¶ï¼Œå¦‚ Structsã€Hibernateã€EJB ç­‰ï¼Œæ‰€ä»¥åˆç§°ä¸ºæ¡†æ¶çš„æ¡†æ¶ã€‚</li></ul><h4 id="Spring-Framework-æœ‰å“ªäº›ä¸åŒçš„åŠŸèƒ½ï¼Ÿ"><a href="#Spring-Framework-æœ‰å“ªäº›ä¸åŒçš„åŠŸèƒ½ï¼Ÿ" class="headerlink" title="Spring Framework æœ‰å“ªäº›ä¸åŒçš„åŠŸèƒ½ï¼Ÿ"></a>Spring Framework æœ‰å“ªäº›ä¸åŒçš„åŠŸèƒ½ï¼Ÿ</h4><ul><li>è½»é‡çº§ - Spring åœ¨ä»£ç é‡å’Œé€æ˜åº¦æ–¹é¢éƒ½å¾ˆè½»ä¾¿ã€‚</li><li>OC - æ§åˆ¶åè½¬</li><li>AOP - é¢å‘åˆ‡é¢ç¼–ç¨‹å¯ä»¥å°†åº”ç”¨ä¸šåŠ¡é€»è¾‘å’Œç³»ç»ŸæœåŠ¡åˆ†ç¦»ï¼Œä»¥å®ç°é«˜å†…èšã€‚</li><li>å®¹å™¨ - Spring è´Ÿè´£åˆ›å»ºå’Œç®¡ç†å¯¹è±¡ï¼ˆBeanï¼‰çš„ç”Ÿå‘½å‘¨æœŸå’Œé…ç½®ã€‚</li><li>MVC - å¯¹ web åº”ç”¨æä¾›äº†é«˜åº¦å¯é…ç½®æ€§ï¼Œå…¶ä»–æ¡†æ¶çš„é›†æˆä¹Ÿååˆ†æ–¹ä¾¿ã€‚</li><li>äº‹åŠ¡ç®¡ç† - æä¾›äº†ç”¨äºäº‹åŠ¡ç®¡ç†çš„é€šç”¨æŠ½è±¡å±‚ã€‚Spring çš„äº‹åŠ¡æ”¯æŒä¹Ÿå¯ç”¨äºå®¹å™¨è¾ƒå°‘çš„ç¯å¢ƒã€‚</li><li>JDBC å¼‚å¸¸ - Spring çš„ JDBC æŠ½è±¡å±‚æä¾›äº†ä¸€ä¸ªå¼‚å¸¸å±‚æ¬¡ç»“æ„ï¼Œç®€åŒ–äº†é”™è¯¯å¤„ç†ç­–ç•¥ã€‚</li></ul><h4 id="ä»€ä¹ˆæ˜¯-Spring-é…ç½®æ–‡ä»¶ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Spring-é…ç½®æ–‡ä»¶ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Spring é…ç½®æ–‡ä»¶ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Spring é…ç½®æ–‡ä»¶ï¼Ÿ</h4><p>â€‹        Spring é…ç½®æ–‡ä»¶æ˜¯ XML æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶ä¸»è¦åŒ…å«ç±»ä¿¡æ¯ã€‚å®ƒæè¿°äº†è¿™äº›ç±»æ˜¯å¦‚ä½•é…ç½®ä»¥åŠç›¸äº’å¼•å…¥çš„ã€‚</p><h3 id="ä¾èµ–æ³¨å…¥ï¼ˆIOCï¼‰"><a href="#ä¾èµ–æ³¨å…¥ï¼ˆIOCï¼‰" class="headerlink" title="ä¾èµ–æ³¨å…¥ï¼ˆIOCï¼‰"></a>ä¾èµ–æ³¨å…¥ï¼ˆIOCï¼‰</h3><h4 id="ä»€ä¹ˆæ˜¯-Spring-IOC-å®¹å™¨ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Spring-IOC-å®¹å™¨ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Spring IOC å®¹å™¨ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Spring IOC å®¹å™¨ï¼Ÿ</h4><p>â€‹        Spring æ¡†æ¶çš„æ ¸å¿ƒæ˜¯ Spring å®¹å™¨ã€‚å®¹å™¨åˆ›å»ºå¯¹è±¡ï¼Œå°†å®ƒä»¬è£…é…åœ¨ä¸€èµ·ï¼Œé…ç½®å®ƒä»¬å¹¶ç®¡ç†å®ƒä»¬çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸã€‚Spring å®¹å™¨ä½¿ç”¨ä¾èµ–æ³¨å…¥æ¥ç®¡ç†ç»„æˆåº”ç”¨ç¨‹åºçš„ç»„ä»¶ã€‚å®¹å™¨é€šè¿‡è¯»å–æä¾›çš„é…ç½®å…ƒæ•°æ®æ¥æ¥æ”¶å¯¹è±¡è¿›è¡Œå®ä¾‹åŒ–ï¼Œé…ç½®å’Œç»„è£…çš„æŒ‡ä»¤ã€‚è¯¥å…ƒæ•°æ®å¯ä»¥é€šè¿‡ XMLï¼ŒJava æ³¨è§£æˆ– Java ä»£ç æä¾›ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ï¼Ÿ</h4><p>â€‹        åœ¨ä¾èµ–æ³¨å…¥ä¸­ï¼Œæ‚¨ä¸å¿…åˆ›å»ºå¯¹è±¡ï¼Œä½†å¿…é¡»æè¿°å¦‚ä½•åˆ›å»ºå®ƒä»¬ã€‚æ‚¨ä¸æ˜¯ç›´æ¥åœ¨ä»£ç ä¸­å°†ç»„ä»¶å’ŒæœåŠ¡è¿æ¥åœ¨ä¸€èµ·ï¼Œè€Œæ˜¯æè¿°é…ç½®æ–‡ä»¶ä¸­å“ªäº›ç»„ä»¶éœ€è¦å“ªäº›æœåŠ¡ã€‚ç”± IoC å®¹å™¨å°†å®ƒä»¬è£…é…åœ¨ä¸€èµ·ã€‚</p><h4 id="å¯ä»¥é€šè¿‡å¤šå°‘ç§æ–¹å¼å®Œæˆä¾èµ–æ³¨å…¥ï¼Ÿ"><a href="#å¯ä»¥é€šè¿‡å¤šå°‘ç§æ–¹å¼å®Œæˆä¾èµ–æ³¨å…¥ï¼Ÿ" class="headerlink" title="å¯ä»¥é€šè¿‡å¤šå°‘ç§æ–¹å¼å®Œæˆä¾èµ–æ³¨å…¥ï¼Ÿ"></a>å¯ä»¥é€šè¿‡å¤šå°‘ç§æ–¹å¼å®Œæˆä¾èµ–æ³¨å…¥ï¼Ÿ</h4><p>é€šå¸¸ï¼Œä¾èµ–æ³¨å…¥å¯ä»¥é€šè¿‡ä¸‰ç§æ–¹å¼å®Œæˆï¼Œå³ï¼š</p><ul><li>æ„é€ å‡½æ•°æ³¨å…¥</li><li>setter æ³¨å…¥</li><li>æ¥å£æ³¨å…¥</li></ul><h4 id="åŒºåˆ†æ„é€ å‡½æ•°æ³¨å…¥å’Œ-setter-æ³¨å…¥ã€‚"><a href="#åŒºåˆ†æ„é€ å‡½æ•°æ³¨å…¥å’Œ-setter-æ³¨å…¥ã€‚" class="headerlink" title="åŒºåˆ†æ„é€ å‡½æ•°æ³¨å…¥å’Œ setter æ³¨å…¥ã€‚"></a>åŒºåˆ†æ„é€ å‡½æ•°æ³¨å…¥å’Œ setter æ³¨å…¥ã€‚</h4><table><thead><tr><th align="left">æ„é€ å‡½æ•°æ³¨å…¥</th><th align="left">setter æ³¨å…¥</th></tr></thead><tbody><tr><td align="left">ä»»æ„ä¿®æ”¹éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹</td><td align="left">ä»»æ„ä¿®æ”¹ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹</td></tr><tr><td align="left">é€‚ç”¨äºè®¾ç½®å¾ˆå¤šå±æ€§</td><td align="left">é€‚ç”¨äºè®¾ç½®å°‘é‡å±æ€§</td></tr></tbody></table><h4 id="spring-ä¸­æœ‰å¤šå°‘ç§-IOC-å®¹å™¨ï¼Ÿ"><a href="#spring-ä¸­æœ‰å¤šå°‘ç§-IOC-å®¹å™¨ï¼Ÿ" class="headerlink" title="spring ä¸­æœ‰å¤šå°‘ç§ IOC å®¹å™¨ï¼Ÿ"></a>spring ä¸­æœ‰å¤šå°‘ç§ IOC å®¹å™¨ï¼Ÿ</h4><ul><li>BeanFactory - BeanFactory å°±åƒä¸€ä¸ªåŒ…å« bean é›†åˆçš„å·¥å‚ç±»ã€‚å®ƒä¼šåœ¨å®¢æˆ·ç«¯è¦æ±‚æ—¶å®ä¾‹åŒ– beanã€‚</li><li>ApplicationContext - ApplicationContext æ¥å£æ‰©å±•äº† BeanFactory æ¥å£ã€‚å®ƒåœ¨ BeanFactory åŸºç¡€ä¸Šæä¾›äº†ä¸€äº›é¢å¤–çš„åŠŸèƒ½ã€‚</li></ul><h4 id="åŒºåˆ†-BeanFactory-å’Œ-ApplicationContextã€‚"><a href="#åŒºåˆ†-BeanFactory-å’Œ-ApplicationContextã€‚" class="headerlink" title="åŒºåˆ† BeanFactory å’Œ ApplicationContextã€‚"></a>åŒºåˆ† BeanFactory å’Œ ApplicationContextã€‚</h4><table><thead><tr><th>BeanFactory</th><th>ApplicationContext</th></tr></thead><tbody><tr><td>å®ƒä½¿ç”¨æ‡’åŠ è½½</td><td>å®ƒä½¿ç”¨å³æ—¶åŠ è½½</td></tr><tr><td>å®ƒä½¿ç”¨è¯­æ³•æ˜¾å¼æä¾›èµ„æºå¯¹è±¡</td><td>å®ƒè‡ªå·±åˆ›å»ºå’Œç®¡ç†èµ„æºå¯¹è±¡</td></tr><tr><td>ä¸æ”¯æŒå›½é™…åŒ–</td><td>æ”¯æŒå›½é™…åŒ–</td></tr><tr><td>ä¸æ”¯æŒåŸºäºä¾èµ–çš„æ³¨è§£</td><td>æ”¯æŒåŸºäºä¾èµ–çš„æ³¨è§£</td></tr></tbody></table><h4 id="Spring-IoC-çš„å®ç°æœºåˆ¶ã€‚"><a href="#Spring-IoC-çš„å®ç°æœºåˆ¶ã€‚" class="headerlink" title="Spring IoC çš„å®ç°æœºåˆ¶ã€‚"></a>Spring IoC çš„å®ç°æœºåˆ¶ã€‚</h4><p>â€‹        Spring ä¸­çš„ IoC çš„å®ç°åŸç†å°±æ˜¯<strong>å·¥å‚æ¨¡å¼åŠ åå°„æœºåˆ¶</strong>ã€‚</p><h3 id="Beans"><a href="#Beans" class="headerlink" title="Beans"></a>Beans</h3><h4 id="spring-æä¾›äº†å“ªäº›é…ç½®æ–¹å¼ï¼Ÿ"><a href="#spring-æä¾›äº†å“ªäº›é…ç½®æ–¹å¼ï¼Ÿ" class="headerlink" title="spring æä¾›äº†å“ªäº›é…ç½®æ–¹å¼ï¼Ÿ"></a>spring æä¾›äº†å“ªäº›é…ç½®æ–¹å¼ï¼Ÿ</h4><h5 id="1ã€åŸºäº-xml-é…ç½®"><a href="#1ã€åŸºäº-xml-é…ç½®" class="headerlink" title="1ã€åŸºäº xml é…ç½®"></a>1ã€åŸºäº xml é…ç½®</h5><p>â€‹        bean æ‰€éœ€çš„ä¾èµ–é¡¹å’ŒæœåŠ¡åœ¨ XML æ ¼å¼çš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šã€‚è¿™äº›é…ç½®æ–‡ä»¶é€šå¸¸åŒ…å«è®¸å¤š bean å®šä¹‰å’Œç‰¹å®šäºåº”ç”¨ç¨‹åºçš„é…ç½®é€‰é¡¹ã€‚å®ƒä»¬é€šå¸¸ä»¥ bean æ ‡ç­¾å¼€å¤´ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"studentbean"</span> <span class="attr">class</span>=<span class="string">"org.edureka.firstSpring.StudentBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"Edureka"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="2ã€åŸºäºæ³¨è§£é…ç½®"><a href="#2ã€åŸºäºæ³¨è§£é…ç½®" class="headerlink" title="2ã€åŸºäºæ³¨è§£é…ç½®"></a>2ã€åŸºäºæ³¨è§£é…ç½®</h5><p>â€‹        æ‚¨å¯ä»¥é€šè¿‡åœ¨ç›¸å…³çš„ç±»ï¼Œæ–¹æ³•æˆ–å­—æ®µå£°æ˜ä¸Šä½¿ç”¨æ³¨è§£ï¼Œå°† bean é…ç½®ä¸ºç»„ä»¶ç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ XML æ¥æè¿° bean è£…é…ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring å®¹å™¨ä¸­æœªæ‰“å¼€æ³¨è§£è£…é…ã€‚å› æ­¤ï¼Œæ‚¨éœ€è¦åœ¨ä½¿ç”¨å®ƒä¹‹å‰åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å¯ç”¨å®ƒã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- bean definitions go here --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="3ã€åŸºäº-Java-API-é…ç½®"><a href="#3ã€åŸºäº-Java-API-é…ç½®" class="headerlink" title="3ã€åŸºäº Java API é…ç½®"></a>3ã€åŸºäº Java API é…ç½®</h5><p>Spring çš„ Java é…ç½®æ˜¯é€šè¿‡ä½¿ç”¨ @Bean å’Œ @Configuration æ¥å®ç°ã€‚</p><ol><li>@Bean æ³¨è§£æ‰®æ¼”ä¸ <bean /> å…ƒç´ ç›¸åŒçš„è§’è‰²ã€‚</li><li>@Configuration ç±»å…è®¸é€šè¿‡ç®€å•åœ°è°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„å…¶ä»– @Bean æ–¹æ³•æ¥å®šä¹‰ bean é—´ä¾èµ–å…³ç³»ã€‚<br>ä¾‹å¦‚ï¼š</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> StudentBean <span class="title">myStudent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> StudentBean();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="spring-æ”¯æŒé›†ä¸­-bean-scopeï¼Ÿ"><a href="#spring-æ”¯æŒé›†ä¸­-bean-scopeï¼Ÿ" class="headerlink" title="spring æ”¯æŒé›†ä¸­ bean scopeï¼Ÿ"></a>spring æ”¯æŒé›†ä¸­ bean scopeï¼Ÿ</h4><p> Spring bean æ”¯æŒ 5 ç§ scopeï¼š </p><ul><li>Singleton - æ¯ä¸ª Spring IoC å®¹å™¨ä»…æœ‰ä¸€ä¸ªå•å®ä¾‹ã€‚</li><li>Prototype - æ¯æ¬¡è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚</li><li>Request - æ¯ä¸€æ¬¡ HTTP è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œå¹¶ä¸”è¯¥ bean ä»…åœ¨å½“å‰ HTTP è¯·æ±‚å†…æœ‰æ•ˆã€‚</li><li>Session - æ¯ä¸€æ¬¡ HTTP è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ beanï¼ŒåŒæ—¶è¯¥ bean ä»…åœ¨å½“å‰ HTTP session å†…æœ‰æ•ˆã€‚</li><li>Global-session - ç±»ä¼¼äºæ ‡å‡†çš„ HTTP Session ä½œç”¨åŸŸï¼Œä¸è¿‡å®ƒä»…ä»…åœ¨åŸºäº portlet çš„ web åº”ç”¨ä¸­æ‰æœ‰æ„ä¹‰ã€‚</li></ul><p>å¸¸ç”¨çš„æœ‰<code>Singleton</code>ã€<code>Prototype</code>ã€‚ ä»…å½“ç”¨æˆ·ä½¿ç”¨æ”¯æŒ Web çš„ ApplicationContext æ—¶ï¼Œæœ€åä¸‰ä¸ªæ‰å¯ç”¨ã€‚ </p><h4 id="spring-bean-å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ"><a href="#spring-bean-å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ" class="headerlink" title="spring bean å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ"></a>spring bean å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</h4><p>spring bean å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸæµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>Spring å®¹å™¨æ ¹æ®é…ç½®ä¸­çš„ bean å®šä¹‰ä¸­å®ä¾‹åŒ– beanã€‚</li><li>Spring ä½¿ç”¨ä¾èµ–æ³¨å…¥å¡«å……æ‰€æœ‰å±æ€§ï¼Œå¦‚ bean ä¸­æ‰€å®šä¹‰çš„é…ç½®ã€‚</li><li>å¦‚æœ bean å®ç° <code>BeanNameAware</code> æ¥å£ï¼Œåˆ™å·¥å‚é€šè¿‡ä¼ é€’ bean çš„ ID æ¥è°ƒç”¨ <code>setBeanName()</code>ã€‚</li><li>å¦‚æœ bean å®ç° <code>BeanFactoryAware</code> æ¥å£ï¼Œå·¥å‚é€šè¿‡ä¼ é€’è‡ªèº«çš„å®ä¾‹æ¥è°ƒç”¨ <code>setBeanFactory()</code>ã€‚</li><li>å¦‚æœä¸º bean æŒ‡å®šäº† <code>init</code> æ–¹æ³•ï¼ˆ<bean> çš„ <code>init-method</code> å±æ€§ï¼‰ï¼Œé‚£ä¹ˆå°†è°ƒç”¨å®ƒã€‚</li><li>å¦‚æœå­˜åœ¨ä¸ bean å…³è”çš„ä»»ä½• <code>BeanPostProcessors</code>ï¼Œåˆ™è°ƒç”¨ <code>postProcessBeforeInitialization()</code> æ–¹æ³•ã€‚</li><li>å¦‚æœå­˜åœ¨ä¸ bean å…³è”çš„ä»»ä½• <code>BeanPostProcessors</code>ï¼Œåˆ™å°†è°ƒç”¨ <code>postProcessAfterInitialization()</code> æ–¹æ³•ã€‚</li><li>å¦‚æœ bean å®ç° <code>DisposableBean</code> æ¥å£ï¼Œå½“ spring å®¹å™¨å…³é—­æ—¶ï¼Œä¼šè°ƒç”¨ <code>destory()</code>ã€‚</li><li>å¦‚æœä¸º bean æŒ‡å®šäº† <code>destroy</code> æ–¹æ³•ï¼ˆ<bean> çš„ <code>destroy-method</code> å±æ€§ï¼‰ï¼Œspring å®¹å™¨å…³é—­æ—¶ï¼Œé‚£ä¹ˆå°†è°ƒç”¨å®ƒã€‚</li></ol><h4 id="ä»€ä¹ˆæ˜¯-spring-è£…é…"><a href="#ä»€ä¹ˆæ˜¯-spring-è£…é…" class="headerlink" title="ä»€ä¹ˆæ˜¯ spring è£…é…"></a>ä»€ä¹ˆæ˜¯ spring è£…é…</h4><p>â€‹        å½“ bean åœ¨ Spring å®¹å™¨ä¸­ç»„åˆåœ¨ä¸€èµ·æ—¶ï¼Œå®ƒè¢«ç§°ä¸ºè£…é…æˆ– bean è£…é…ã€‚ Spring å®¹å™¨éœ€è¦çŸ¥é“éœ€è¦ä»€ä¹ˆ bean ä»¥åŠå®¹å™¨åº”è¯¥å¦‚ä½•ä½¿ç”¨ä¾èµ–æ³¨å…¥æ¥å°† bean ç»‘å®šåœ¨ä¸€èµ·ï¼ŒåŒæ—¶è£…é… beanã€‚</p><h4 id="è‡ªåŠ¨è£…é…æœ‰å“ªäº›æ–¹å¼ï¼Ÿ"><a href="#è‡ªåŠ¨è£…é…æœ‰å“ªäº›æ–¹å¼ï¼Ÿ" class="headerlink" title="è‡ªåŠ¨è£…é…æœ‰å“ªäº›æ–¹å¼ï¼Ÿ"></a>è‡ªåŠ¨è£…é…æœ‰å“ªäº›æ–¹å¼ï¼Ÿ</h4><p>â€‹        Spring å®¹å™¨èƒ½å¤Ÿè‡ªåŠ¨è£…é… beanã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥é€šè¿‡æ£€æŸ¥ BeanFactory çš„å†…å®¹è®© Spring è‡ªåŠ¨è§£æ bean çš„åä½œè€…ã€‚</p><p>è‡ªåŠ¨è£…é…çš„ä¸åŒæ¨¡å¼ï¼š</p><ol><li>no - è¿™æ˜¯é»˜è®¤è®¾ç½®ï¼Œè¡¨ç¤ºæ²¡æœ‰è‡ªåŠ¨è£…é…ã€‚åº”ä½¿ç”¨æ˜¾å¼ bean å¼•ç”¨è¿›è¡Œè£…é…ã€‚</li><li>byName - å®ƒæ ¹æ® bean çš„åç§°æ³¨å…¥å¯¹è±¡ä¾èµ–é¡¹ã€‚å®ƒåŒ¹é…å¹¶è£…é…å…¶å±æ€§ä¸ XML æ–‡ä»¶ä¸­ç”±ç›¸åŒåç§°å®šä¹‰çš„ beanã€‚</li><li>byType - å®ƒæ ¹æ®ç±»å‹æ³¨å…¥å¯¹è±¡ä¾èµ–é¡¹ã€‚å¦‚æœå±æ€§çš„ç±»å‹ä¸ XML æ–‡ä»¶ä¸­çš„ä¸€ä¸ª bean åç§°åŒ¹é…ï¼Œåˆ™åŒ¹é…å¹¶è£…é…å±æ€§ã€‚</li><li>æ„é€ å‡½æ•° - å®ƒé€šè¿‡è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°æ¥æ³¨å…¥ä¾èµ–é¡¹ã€‚å®ƒæœ‰å¤§é‡çš„å‚æ•°ã€‚</li><li>autodetect - é¦–å…ˆå®¹å™¨å°è¯•é€šè¿‡æ„é€ å‡½æ•°ä½¿ç”¨ autowire è£…é…ï¼Œå¦‚æœä¸èƒ½ï¼Œåˆ™å°è¯•é€šè¿‡ byType è‡ªåŠ¨è£…é…ã€‚</li></ol><h3 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h3><h4 id="ä»€ä¹ˆæ˜¯åŸºäºæ³¨è§£çš„å®¹å™¨é…ç½®"><a href="#ä»€ä¹ˆæ˜¯åŸºäºæ³¨è§£çš„å®¹å™¨é…ç½®" class="headerlink" title="ä»€ä¹ˆæ˜¯åŸºäºæ³¨è§£çš„å®¹å™¨é…ç½®"></a>ä»€ä¹ˆæ˜¯åŸºäºæ³¨è§£çš„å®¹å™¨é…ç½®</h4><p>â€‹        ä¸ä½¿ç”¨ XML æ¥æè¿° bean è£…é…ï¼Œå¼€å‘äººå‘˜é€šè¿‡åœ¨ç›¸å…³çš„ç±»ï¼Œ<strong>æ–¹æ³•æˆ–å­—æ®µ</strong>å£°æ˜ä¸Šä½¿ç”¨æ³¨è§£å°†é…ç½®ç§»åŠ¨åˆ°ç»„ä»¶ç±»æœ¬èº«ã€‚å®ƒå¯ä»¥ä½œä¸º XML è®¾ç½®çš„æ›¿ä»£æ–¹æ¡ˆã€‚ä¾‹å¦‚ï¼š</p><p>Spring çš„ Java é…ç½®æ˜¯é€šè¿‡ä½¿ç”¨ <code>@Bean</code> å’Œ <code>@Configuration</code> æ¥å®ç°ã€‚</p><ul><li><code>@Bean</code> æ³¨è§£æ‰®æ¼”ä¸ å…ƒç´ ç›¸åŒçš„è§’è‰²ã€‚</li><li><code>@Configuration</code> ç±»å…è®¸é€šè¿‡ç®€å•åœ°è°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„å…¶ä»– @Bean æ–¹æ³•æ¥å®šä¹‰ bean é—´ä¾èµ–å…³ç³»ã€‚</li></ul><p><em>å¯ä»¥è¿™ä¹ˆæ¥è¯´ï¼Œå½“ä¸€ä¸ªç±»ä½¿ç”¨ <code>@Configuration</code> æ³¨è§£æ ‡æ³¨æ—¶ï¼Œé‚£ä¹ˆè¯¥ç±»ç›¸å½“äºä¸€ä¸ª springçš„ xml é…ç½®æ–‡ä»¶</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> StudentBean <span class="title">myStudent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> StudentBean();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¦‚ä½•åœ¨-spring-ä¸­å¯åŠ¨æ³¨è§£è£…é…ï¼Ÿ"><a href="#å¦‚ä½•åœ¨-spring-ä¸­å¯åŠ¨æ³¨è§£è£…é…ï¼Ÿ" class="headerlink" title="å¦‚ä½•åœ¨ spring ä¸­å¯åŠ¨æ³¨è§£è£…é…ï¼Ÿ"></a>å¦‚ä½•åœ¨ spring ä¸­å¯åŠ¨æ³¨è§£è£…é…ï¼Ÿ</h4><p>â€‹        é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring å®¹å™¨ä¸­æœªæ‰“å¼€æ³¨è§£è£…é…ã€‚å› æ­¤ï¼Œè¦ä½¿ç”¨åŸºäºæ³¨è§£è£…é…ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡é…ç½®<code>&lt;contextï¼šannotation-config /&gt;</code> å…ƒç´ åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å¯ç”¨å®ƒã€‚</p><h4 id="Component-Controller-Repository-Service-æœ‰ä½•åŒºåˆ«ï¼Ÿ"><a href="#Component-Controller-Repository-Service-æœ‰ä½•åŒºåˆ«ï¼Ÿ" class="headerlink" title="@Component, @Controller, @Repository, @Service æœ‰ä½•åŒºåˆ«ï¼Ÿ"></a>@Component, @Controller, @Repository, @Service æœ‰ä½•åŒºåˆ«ï¼Ÿ</h4><ul><li><strong>@Component</strong>ï¼šè¿™å°† java ç±»æ ‡è®°ä¸º beanã€‚å®ƒæ˜¯ä»»ä½• Spring ç®¡ç†ç»„ä»¶çš„é€šç”¨æ„é€ å‹ã€‚spring çš„ç»„ä»¶æ‰«ææœºåˆ¶ç°åœ¨å¯ä»¥å°†å…¶æ‹¾å–å¹¶å°†å…¶æ‹‰å…¥åº”ç”¨ç¨‹åºç¯å¢ƒä¸­ã€‚</li><li><strong>@Controller</strong>ï¼šè¿™å°†ä¸€ä¸ªç±»æ ‡è®°ä¸º <code>Spring Web MVC</code> æ§åˆ¶å™¨ã€‚æ ‡æœ‰å®ƒçš„ Bean ä¼šè‡ªåŠ¨å¯¼å…¥åˆ° IoC å®¹å™¨ä¸­ã€‚</li><li><strong>@Service</strong>ï¼šæ­¤æ³¨è§£æ˜¯ç»„ä»¶æ³¨è§£çš„ç‰¹åŒ–ã€‚å®ƒä¸ä¼šå¯¹ @Component æ³¨è§£æä¾›ä»»ä½•å…¶ä»–è¡Œä¸ºã€‚æ‚¨å¯ä»¥åœ¨æœåŠ¡å±‚ç±»ä¸­ä½¿ç”¨ <code>@Service</code> è€Œä¸æ˜¯ <code>@Component</code>ï¼Œå› ä¸ºå®ƒä»¥æ›´å¥½çš„æ–¹å¼æŒ‡å®šäº†æ„å›¾ã€‚</li><li><strong>@Repository</strong>ï¼šè¿™ä¸ªæ³¨è§£æ˜¯å…·æœ‰ç±»ä¼¼ç”¨é€”å’ŒåŠŸèƒ½çš„ <code>@Component</code> æ³¨è§£çš„ç‰¹åŒ–ã€‚å®ƒä¸º DAO æä¾›äº†é¢å¤–çš„å¥½å¤„ã€‚å®ƒå°† DAO å¯¼å…¥ IoC å®¹å™¨ï¼Œå¹¶ä½¿æœªç»æ£€æŸ¥çš„å¼‚å¸¸æœ‰èµ„æ ¼è½¬æ¢ä¸º Spring DataAccessExceptionã€‚</li></ul><h4 id="Autowired-æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#Autowired-æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="@Autowired æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>@Autowired æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h4><p>@Autowired å¯ä»¥æ›´å‡†ç¡®åœ°æ§åˆ¶åº”è¯¥åœ¨ä½•å¤„ä»¥åŠå¦‚ä½•è¿›è¡Œè‡ªåŠ¨è£…é…ã€‚æ­¤æ³¨è§£ç”¨äºåœ¨ setter æ–¹æ³•ï¼Œæ„é€ å‡½æ•°ï¼Œå…·æœ‰ä»»æ„åç§°æˆ–å¤šä¸ªå‚æ•°çš„å±æ€§æˆ–æ–¹æ³•ä¸Šè‡ªåŠ¨è£…é… beanã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯<span style="background-color: yellow;color: red;">ç±»å‹é©±åŠ¨</span>çš„æ³¨å…¥ã€‚</p><h4 id="RequestMapping-æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#RequestMapping-æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="@RequestMapping æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>@RequestMapping æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h4><p><code>@RequestMapping</code> æ³¨è§£ç”¨äºå°†ç‰¹å®š HTTP è¯·æ±‚æ–¹æ³•æ˜ å°„åˆ°å°†å¤„ç†ç›¸åº”è¯·æ±‚çš„<strong>æ§åˆ¶å™¨</strong>ä¸­çš„<strong>ç‰¹å®šç±»/æ–¹æ³•</strong>ã€‚æ­¤æ³¨é‡Šå¯åº”ç”¨äºä¸¤ä¸ªçº§åˆ«ï¼š</p><ul><li>ç±»çº§åˆ«ï¼ˆæ³¨è§£æ ‡æ³¨åœ¨ç±»ä¸Šï¼‰ï¼šæ˜ å°„è¯·æ±‚çš„ URL</li><li>æ–¹æ³•çº§åˆ«ï¼ˆæ³¨è§£æ ‡æ³¨åœ¨æ–¹æ³•ä¸Šï¼‰ï¼šæ˜ å°„ URL ä»¥åŠ HTTP è¯·æ±‚æ–¹æ³•</li></ul><h3 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h3><h4 id="ä»€ä¹ˆæ˜¯-AOPï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-AOPï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ AOPï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ AOPï¼Ÿ</h4><p> AOP(Aspect-Oriented Programming), å³ <strong>é¢å‘åˆ‡é¢ç¼–ç¨‹</strong> </p><h4 id="ä»€ä¹ˆæ˜¯-Aspectï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Aspectï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Aspectï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Aspectï¼Ÿ</h4><p>â€‹        <code>aspect</code> ç”± <code>Pointcut</code> å’Œ <code>Advice</code> ç»„æˆ, å®ƒæ—¢åŒ…å«äº†æ¨ªåˆ‡é€»è¾‘çš„å®šä¹‰, ä¹ŸåŒ…æ‹¬äº†è¿æ¥ç‚¹çš„å®šä¹‰. Spring AOP å°±æ˜¯è´Ÿè´£å®æ–½åˆ‡é¢çš„æ¡†æ¶, å®ƒå°†åˆ‡é¢æ‰€å®šä¹‰çš„æ¨ªåˆ‡é€»è¾‘ç¼–ç»‡åˆ°åˆ‡é¢æ‰€æŒ‡å®šçš„è¿æ¥ç‚¹ä¸­.</p><p> <strong>å¯ä»¥ç®€å•åœ°è®¤ä¸º, ä½¿ç”¨ @Aspect æ³¨è§£çš„ç±»å°±æ˜¯ä¸€ä¸ªåˆ‡é¢.</strong> </p><h4 id="ä»€ä¹ˆæ˜¯åˆ‡ç‚¹ï¼ˆJoinPointï¼‰"><a href="#ä»€ä¹ˆæ˜¯åˆ‡ç‚¹ï¼ˆJoinPointï¼‰" class="headerlink" title="ä»€ä¹ˆæ˜¯åˆ‡ç‚¹ï¼ˆJoinPointï¼‰"></a>ä»€ä¹ˆæ˜¯åˆ‡ç‚¹ï¼ˆJoinPointï¼‰</h4><p>â€‹        ç¨‹åºè¿è¡Œä¸­çš„ä¸€äº›æ—¶é—´ç‚¹, ä¾‹å¦‚ä¸€ä¸ªæ–¹æ³•çš„æ‰§è¡Œ, æˆ–è€…æ˜¯ä¸€ä¸ªå¼‚å¸¸çš„å¤„ç†ï¼Œåœ¨ Spring AOP ä¸­, <code>join point</code> å°±æ˜¯æ–¹æ³•çš„æ‰§è¡Œç‚¹ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Ÿ</h4><p>â€‹        ç‰¹å®š <code>JoinPoint</code> å¤„çš„ <code>Aspect</code> æ‰€é‡‡å–çš„åŠ¨ä½œç§°ä¸º <code>Advice</code>ã€‚Spring AOP ä½¿ç”¨ä¸€ä¸ª <code>Advice</code> ä½œä¸ºæ‹¦æˆªå™¨ï¼Œåœ¨ <code>JoinPoint</code> â€œå‘¨å›´â€ç»´æŠ¤ä¸€ç³»åˆ—çš„æ‹¦æˆªå™¨ã€‚</p><h4 id="æœ‰å“ªäº›ç±»å‹çš„é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Ÿ"><a href="#æœ‰å“ªäº›ç±»å‹çš„é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Ÿ" class="headerlink" title="æœ‰å“ªäº›ç±»å‹çš„é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Ÿ"></a>æœ‰å“ªäº›ç±»å‹çš„é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Ÿ</h4><ul><li><strong>Before</strong> - è¿™äº›ç±»å‹çš„ <code>Advice</code> åœ¨ <code>joinpoint</code> æ–¹æ³•ä¹‹å‰æ‰§è¡Œï¼Œå¹¶ä½¿ç”¨ <code>@Before</code> æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</li><li><strong>After Returning</strong> - è¿™äº›ç±»å‹çš„ <code>Advice</code> åœ¨è¿æ¥ç‚¹æ–¹æ³•æ­£å¸¸æ‰§è¡Œåæ‰§è¡Œï¼Œå¹¶ä½¿ç”¨<code>@AfterReturning</code> æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</li><li><strong>After Throwing</strong> - è¿™äº›ç±»å‹çš„ <code>Advice</code> ä»…åœ¨ <code>joinpoint</code> æ–¹æ³•é€šè¿‡æŠ›å‡ºå¼‚å¸¸é€€å‡ºå¹¶ä½¿ç”¨ <code>@AfterThrowing</code> æ³¨è§£æ ‡è®°é…ç½®æ—¶æ‰§è¡Œã€‚</li><li><strong>After (finally)</strong> - è¿™äº›ç±»å‹çš„ <code>Advice</code> åœ¨è¿æ¥ç‚¹æ–¹æ³•ä¹‹åæ‰§è¡Œï¼Œæ— è®ºæ–¹æ³•é€€å‡ºæ˜¯æ­£å¸¸è¿˜æ˜¯å¼‚å¸¸è¿”å›ï¼Œå¹¶ä½¿ç”¨ <code>@After</code> æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</li><li><strong>Around</strong> - è¿™äº›ç±»å‹çš„ <code>Advice</code> åœ¨è¿æ¥ç‚¹ä¹‹å‰å’Œä¹‹åæ‰§è¡Œï¼Œå¹¶ä½¿ç”¨ <code>@Around</code> æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</li></ul><h4 id="AOP-æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Ÿ"><a href="#AOP-æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Ÿ" class="headerlink" title="AOP æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Ÿ"></a>AOP æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Ÿ</h4><p>å®ç° AOP çš„æŠ€æœ¯ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p><ul><li><strong>é™æ€ä»£ç†</strong> - æŒ‡ä½¿ç”¨ AOP æ¡†æ¶æä¾›çš„å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œä»è€Œåœ¨ç¼–è¯‘é˜¶æ®µå°±å¯ç”Ÿæˆ AOP ä»£ç†ç±»ï¼Œå› æ­¤ä¹Ÿç§°ä¸º<strong>ç¼–è¯‘æ—¶å¢å¼º</strong>ï¼›<ul><li>ç¼–è¯‘æ—¶ç¼–ç»‡ï¼ˆç‰¹æ®Šç¼–è¯‘å™¨å®ç°ï¼‰</li><li>ç±»åŠ è½½æ—¶ç¼–ç»‡ï¼ˆç‰¹æ®Šçš„ç±»åŠ è½½å™¨å®ç°ï¼‰ã€‚</li></ul></li><li><strong>åŠ¨æ€ä»£ç†</strong> - åœ¨è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­â€œä¸´æ—¶â€ç”Ÿæˆ AOP åŠ¨æ€ä»£ç†ç±»ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸º<strong>è¿è¡Œæ—¶å¢å¼º</strong>ã€‚<ul><li>JDK åŠ¨æ€ä»£ç†</li><li>CGLIB</li></ul></li></ul><h4 id="Spring-AOP-and-AspectJ-AOP-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#Spring-AOP-and-AspectJ-AOP-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="Spring AOP and AspectJ AOP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>Spring AOP and AspectJ AOP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4><p>Spring AOP åŸºäºåŠ¨æ€ä»£ç†æ–¹å¼å®ç°ï¼›AspectJ åŸºäºé™æ€ä»£ç†æ–¹å¼å®ç°ã€‚<br>Spring AOP ä»…æ”¯æŒæ–¹æ³•çº§åˆ«çš„ PointCutï¼›æä¾›äº†å®Œå…¨çš„ AOP æ”¯æŒï¼Œå®ƒè¿˜æ”¯æŒå±æ€§çº§åˆ«çš„ PointCutã€‚</p><h3 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h3><h4 id="Spring-MVC-æ¡†æ¶æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#Spring-MVC-æ¡†æ¶æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="Spring MVC æ¡†æ¶æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>Spring MVC æ¡†æ¶æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h4><p>â€‹        Spring Web MVC æ¡†æ¶æä¾› <strong>æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨</strong> æ¶æ„å’Œéšæ—¶å¯ç”¨çš„ç»„ä»¶ï¼Œç”¨äºå¼€å‘çµæ´»ä¸”æ¾æ•£è€¦åˆçš„ Web åº”ç”¨ç¨‹åºã€‚</p><h4 id="Spring-MVC-å·¥ä½œæµç¨‹"><a href="#Spring-MVC-å·¥ä½œæµç¨‹" class="headerlink" title="Spring MVC å·¥ä½œæµç¨‹"></a>Spring MVC å·¥ä½œæµç¨‹</h4><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1159443997.jpg" alt="1159443997"></p><p>1ã€ç”¨æˆ·å‘é€è¯·æ±‚è‡³å‰ç«¯æ§åˆ¶å™¨<code>DispatcherServlet</code>ã€‚</p><p>2ã€<code>DispatcherServlet</code>æ”¶åˆ°è¯·æ±‚è°ƒç”¨<code>HandlerMapping</code><strong>å¤„ç†å™¨æ˜ å°„å™¨ã€‚</strong></p><p>3ã€<strong>å¤„ç†å™¨æ˜ å°„å™¨</strong>æ‰¾åˆ°å…·ä½“çš„å¤„ç†å™¨(å¯ä»¥æ ¹æ®<strong>xml</strong>é…ç½®æˆ–è€…<strong>æ³¨è§£</strong>è¿›è¡ŒæŸ¥æ‰¾)ï¼Œç”Ÿæˆå¤„ç†å™¨å¯¹è±¡åŠå¤„ç†å™¨æ‹¦æˆªå™¨(å¦‚æœæœ‰åˆ™ç”Ÿæˆ)ä¸€å¹¶è¿”å›ç»™<code>DispatcherServlet</code>ã€‚</p><p>4ã€ <code>DispatcherServlet</code>è°ƒç”¨<code>HandlerAdapter</code><strong>å¤„ç†å™¨é€‚é…å™¨ã€‚</strong></p><p>5ã€<code>HandlerAdapter</code>ç»è¿‡é€‚é…è°ƒç”¨å…·ä½“çš„å¤„ç†å™¨(<code>Controller</code>ï¼Œä¹Ÿå«<strong>åç«¯æ§åˆ¶å™¨</strong>)ã€‚</p><p>6ã€<code>Controller</code>æ‰§è¡Œå®Œæˆè¿”å›<code>ModelAndView</code>ã€‚</p><p>7ã€<code>HandlerAdapter</code>å°†<code>controller</code>æ‰§è¡Œç»“æœ<code>ModelAndView</code>è¿”å›ç»™<code>DispatcherServlet</code>ã€‚</p><p>8ã€<code>DispatcherServlet</code>å°†<code>ModelAndView</code>ä¼ ç»™<code>ViewReslover</code><strong>è§†å›¾è§£æå™¨</strong>ã€‚</p><p>9ã€<code>ViewReslove</code>rè§£æåè¿”å›å…·ä½“<strong>View</strong>ã€‚</p><p>10ã€<code>DispatcherServlet</code>æ ¹æ®<strong>View</strong>è¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰ã€‚ </p><p>11ã€<code>DispatcherServlet</code>å“åº”ç”¨æˆ·ã€‚</p><h4 id="æè¿°ä¸€ä¸‹-DispatcherServlet-çš„å·¥ä½œæµç¨‹"><a href="#æè¿°ä¸€ä¸‹-DispatcherServlet-çš„å·¥ä½œæµç¨‹" class="headerlink" title="æè¿°ä¸€ä¸‹ DispatcherServlet çš„å·¥ä½œæµç¨‹"></a>æè¿°ä¸€ä¸‹ DispatcherServlet çš„å·¥ä½œæµç¨‹</h4><ol><li>å‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚ï¼Œè¯·æ±‚è¢«å‰ç«¯æ§åˆ¶å™¨ <code>DispatcherServlet</code> æ•è·ã€‚</li><li><code>DispatcherServlet</code> æ ¹æ® <code>servlet.xml</code> ä¸­çš„é…ç½®å¯¹è¯·æ±‚çš„ URL è¿›è¡Œè§£æï¼Œå¾—åˆ°è¯·æ±‚èµ„æºæ ‡è¯†ç¬¦ï¼ˆURIï¼‰ã€‚ç„¶åæ ¹æ®è¯¥ URIï¼Œè°ƒç”¨ <code>HandlerMapping</code> è·å¾—è¯¥ <code>Handler</code> é…ç½®çš„æ‰€æœ‰ç›¸å…³çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ Handler å¯¹è±¡ä»¥åŠ Handler å¯¹è±¡å¯¹åº”çš„æ‹¦æˆªå™¨ï¼‰ï¼Œæœ€åä»¥<code>HandlerExecutionChain</code> å¯¹è±¡çš„å½¢å¼è¿”å›ã€‚</li><li><code>DispatcherServlet</code> æ ¹æ®è·å¾—çš„<code>Handler</code>ï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ <code>HandlerAdapter</code>ã€‚ï¼ˆé™„æ³¨ï¼šå¦‚æœæˆåŠŸè·å¾—<code>HandlerAdapter</code>åï¼Œæ­¤æ—¶å°†å¼€å§‹æ‰§è¡Œæ‹¦æˆªå™¨çš„ <code>preHandler(...)</code>æ–¹æ³•ï¼‰ã€‚</li><li>æå–<code>Request</code>ä¸­çš„æ¨¡å‹æ•°æ®ï¼Œå¡«å……<code>Handler</code>å…¥å‚ï¼Œå¼€å§‹æ‰§è¡Œ<code>Handlerï¼ˆController)</code>ã€‚ åœ¨å¡«å……<code>Handler</code>çš„å…¥å‚è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®ä½ çš„é…ç½®ï¼Œ<code>Spring</code> å°†å¸®ä½ åšä¸€äº›é¢å¤–çš„å·¥ä½œï¼š<ol><li><code>HttpMessageConveter</code>ï¼š å°†è¯·æ±‚æ¶ˆæ¯ï¼ˆå¦‚ <code>Jsonã€xml</code> ç­‰æ•°æ®ï¼‰è½¬æ¢æˆä¸€ä¸ªå¯¹è±¡ï¼Œå°†å¯¹è±¡è½¬æ¢ä¸ºæŒ‡å®šçš„å“åº”ä¿¡æ¯ã€‚</li><li>æ•°æ®è½¬æ¢ï¼šå¯¹è¯·æ±‚æ¶ˆæ¯è¿›è¡Œæ•°æ®è½¬æ¢ã€‚å¦‚<code>String</code>è½¬æ¢æˆ<code>Integerã€Double</code>ç­‰ã€‚</li><li>æ•°æ®æ ¹å¼åŒ–ï¼šå¯¹è¯·æ±‚æ¶ˆæ¯è¿›è¡Œæ•°æ®æ ¼å¼åŒ–ã€‚ å¦‚å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ ¼å¼åŒ–æ•°å­—æˆ–æ ¼å¼åŒ–æ—¥æœŸç­‰ã€‚</li><li>æ•°æ®éªŒè¯ï¼š éªŒè¯æ•°æ®çš„æœ‰æ•ˆæ€§ï¼ˆé•¿åº¦ã€æ ¼å¼ç­‰ï¼‰ï¼ŒéªŒè¯ç»“æœå­˜å‚¨åˆ°<code>BindingResult</code>æˆ–<code>Error</code>ä¸­ã€‚</li></ol></li><li><code>Handler(Controller)</code>æ‰§è¡Œå®Œæˆåï¼Œå‘ <code>DispatcherServlet</code> è¿”å›ä¸€ä¸ª <code>ModelAndView</code> å¯¹è±¡ï¼›</li><li>æ ¹æ®è¿”å›çš„<code>ModelAndView</code>ï¼Œé€‰æ‹©ä¸€ä¸ªé€‚åˆçš„ <code>ViewResolver</code>ï¼ˆå¿…é¡»æ˜¯å·²ç»æ³¨å†Œåˆ° Spring å®¹å™¨ä¸­çš„<code>ViewResolver</code>)è¿”å›ç»™<code>DispatcherServlet</code>ã€‚</li><li><code>ViewResolver</code> ç»“åˆ<code>Model</code>å’Œ<code>View</code>ï¼Œæ¥æ¸²æŸ“è§†å›¾ã€‚</li><li>è§†å›¾è´Ÿè´£å°†æ¸²æŸ“ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li></ol><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/qq_41701956/article/details/81389067" target="_blank" rel="noopener">https://blog.csdn.net/qq_41701956/article/details/81389067</a></p><p>éƒ¨åˆ†å†…å®¹åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/floating_dreaming/article/details/89089214" target="_blank" rel="noopener">https://blog.csdn.net/floating_dreaming/article/details/89089214</a></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¿™é¦–æ­Œï¼ˆè€è¡—ï¼‰å¬äº†å››å¹´äº†ï¼Œå¯å¿˜ä¸æ‰çš„æ˜¯ä»€ä¹ˆæˆ‘è¿˜æ˜¯ä¹Ÿä¸çŸ¥é“ã€‚&lt;/p&gt;
&lt;p&gt;â€‹                                                                                                        â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="spring" scheme="penghui.club/tags/spring/"/>
    
  </entry>
  
  <entry>
    <title>NIOä¹‹ç¼“å†²åŒºçš„ä½¿ç”¨</title>
    <link href="penghui.club/2020/07/06/NIO%E4%B9%8B%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>penghui.club/2020/07/06/NIO%E4%B9%8B%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2020-07-06T08:17:56.000Z</published>
    <updated>2020-07-07T10:48:21.250Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>å¥³äººé”™è¿‡äº†å¥¹æœ€æƒ³å«çš„é‚£ä¸ªç”·äººï¼Œå°±ä¼šå˜å¾—æŒ‘å‰”ï¼›ç”·äººé”™è¿‡äº†é‚£ä¸ªä»–æœ€æƒ³å¨¶çš„å¥³äººï¼Œå°±ä¼šå˜å¾—éšæ„ é‚£æ—¶å€™é™ªä¼´æˆ‘çš„é‚£ä¸ªï¼Œè¿™é‡Œçš„æ•…äº‹ä½ æ˜¯å¦è¿˜è®°å¾— </p><p>â€‹                                                                                                       â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„</p></blockquote><h2 id="NIOä¹‹ç¼“å†²åŒºçš„ä½¿ç”¨"><a href="#NIOä¹‹ç¼“å†²åŒºçš„ä½¿ç”¨" class="headerlink" title="NIOä¹‹ç¼“å†²åŒºçš„ä½¿ç”¨"></a>NIOä¹‹ç¼“å†²åŒºçš„ä½¿ç”¨</h2><p>ä»Šå¹´å¯’å‡å‰ï¼Œåœ¨å­¦æ ¡å›¾ä¹¦é¦†é‡Œå€Ÿäº†ä¸€æœ¬å…³äºNIOçš„ä¹¦ï¼ŒèŠ±äº†å‡ å¤©æ—¶é—´çœ‹å®Œäº†ï¼Œä½†æ˜¯ç”±äºä¹‹å‰æ²¡æœ‰åˆ›å»ºä¸ªäººåšå®¢ï¼Œæ‰€ä»¥ä»Šå¤©é‡æ¸©ä¸€ä¸‹åšä¸ªç¬”è®°ğŸ˜ã€‚</p><hr><h3 id="é¦–å…ˆäº†è§£ä»€ä¹ˆæ˜¯NIOï¼Ÿ"><a href="#é¦–å…ˆäº†è§£ä»€ä¹ˆæ˜¯NIOï¼Ÿ" class="headerlink" title="é¦–å…ˆäº†è§£ä»€ä¹ˆæ˜¯NIOï¼Ÿ"></a>é¦–å…ˆäº†è§£ä»€ä¹ˆæ˜¯NIOï¼Ÿ</h3><p>â€‹        å¸¸è§„çš„ I/O ï¼ˆå¦‚InputStream å’Œ OutputStreamï¼‰å­˜åœ¨å¾ˆå¤§ç¼ºç‚¹ï¼Œå°±æ˜¯å®ƒä»¬æ˜¯é˜»å¡çš„ï¼Œè€Œ<code>NIO</code>è§£å†³çš„å°±æ˜¯å¸¸è§„ I/Oæ‰§è¡Œæ•ˆç‡ä½çš„é—®é¢˜ã€‚å³é‡‡ç”¨éé˜»å¡é«˜æ€§èƒ½è¿è¡Œçš„æ–¹å¼æ¥é¿å…å‡ºç°ä»¥å‰ â€œç¬¨æ‹™â€ çš„åŒæ­¥ I/Oå¸¦æ¥çš„ä½æ•ˆç‡é—®é¢˜ã€‚ <code>NIO</code>å¯¹å¸¸è§„çš„ I/O ä½¿ç”¨çš„ byte[] æˆ– char[] è¿›è¡Œå°è£…ï¼Œé‡‡ç”¨ ByteBuffer ç±»æ¥æ“ä½œæ•°æ®ï¼Œå†ç»“åˆé’ˆå¯¹ File æˆ– Socket æŠ€æœ¯çš„ Channel ï¼Œé‡‡ç”¨åŒæ­¥éé˜»å¡æŠ€æœ¯å®ç°é«˜æ€§èƒ½å¤„ç†ã€‚</p><p>â€‹        Buffer ç±»çš„ä¿¡æ¯å¦‚ä¸‹ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1594024381559.png" alt="1594024381559"></p><p>â€‹        å¯ä»¥å‘ç° Buffer æ˜¯ä¸ªæŠ½è±¡ç±»ï¼Œé‚£ä¹ˆå®ƒå¿…å®šæœ‰å­ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1594024436930.png" alt="1594024436930"></p><p>â€‹        NIO ä¸­Bufferæ˜¯ä¸€ä¸ªç”¨äºå­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹å€¼çš„å®¹å™¨ï¼Œå®ƒä»¥ç±»ä¼¼äºæ•°ç»„æœ‰åºçš„æ–¹å¼æ¥å­˜å‚¨å’Œç»„ç»‡æ•°æ®ã€‚æ¯ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆé™¤å» booleanï¼‰éƒ½æœ‰ä¸€ä¸ªå­ç±»ä¸ä¹‹å¯¹åº”ã€‚</p><h3 id="Buffer-ç±»çš„ä½¿ç”¨"><a href="#Buffer-ç±»çš„ä½¿ç”¨" class="headerlink" title="Buffer ç±»çš„ä½¿ç”¨"></a>Buffer ç±»çš„ä½¿ç”¨</h3><p>â€‹        è§‚å¯Ÿä¸Šå›¾ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒBuffer æ˜¯ä¸ªæŠ½è±¡ç±»ï¼Œå¹¶ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–ï¼Œä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°ï¼Œå³ä½¿å®ƒçš„å­ç±»ä¹Ÿéƒ½æ˜¯æŠ½è±¡ç±»ï¼ŒåŒæ ·ä¸å¯ä»¥ç›´æ¥å®ä¾‹åŒ–ã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•åˆ›å»ºè¿™äº›ç±»çš„å¯¹è±¡å‘¢ï¼Ÿä½¿ç”¨æ–¹å¼æ˜¯å°†ä¸Šé¢ 7 ç§æ•°æ®ç±»å‹çš„æ•°ç»„åŒ…è£…ï¼ˆwrapï¼‰è¿›ç¼“å†²åŒºï¼Œæ­¤æ—¶éœ€è¦å€ŸåŠ©é™æ€æ–¹æ³• <code>wrap()</code>è¿›è¡Œå®ç°ã€‚<code>wrap()</code>æ–¹æ³•çš„ä½œç”¨æ˜¯å°†æ•°ç»„æ”¾å…¥ç¼“å†²åŒºï¼Œæ¥æ„å»ºå­˜å‚¨ä¸åŒçš„æ•°æ®ç±»å‹ç¼“å†²åŒºã€‚ä»¥ä¸‹ä»¥ CharBuffer ä¸ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> CharBuffer <span class="title">wrap</span><span class="params">(<span class="keyword">char</span>[] array)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> wrap(array, <span class="number">0</span>, array.length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>ç¼“å†²åŒºä¸ºéçº¿ç¨‹å®‰å…¨çš„ã€‚</em></p><p>â€‹        é‚£ä¹ˆè¿™ä¸ªç¼“å†²åŒºçš„å®ä¾‹åˆ°åº•æ˜¯ç”±å“ªä¸ªç±»å®ç°çš„å‘¢ï¼Ÿæˆ‘ä»¬ç‚¹è¿›<code>wrap</code>æ–¹æ³•è¿›å»çœ‹ä¸ªç©¶ç«Ÿï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> CharBuffer <span class="title">wrap</span><span class="params">(<span class="keyword">char</span>[] array, <span class="keyword">int</span> offset, <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> HeapCharBuffer(array, offset, length);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IllegalArgumentException x) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">    </span><br><span class="line"><span class="comment">// å…·ä½“çš„å®ç°ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HeapCharBuffer</span> <span class="keyword">extends</span> <span class="title">CharBuffer</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ æ–¹æ³•</span></span><br><span class="line">HeapCharBuffer(<span class="keyword">char</span>[] buf, <span class="keyword">int</span> off, <span class="keyword">int</span> len) &#123; <span class="comment">// package-private</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">super</span>(-<span class="number">1</span>, off, off + len, buf.length, buf, <span class="number">0</span>);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        hb = buf;</span></span><br><span class="line"><span class="comment">        offset = 0;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// super(-1, off, off + len, buf.length, buf, 0); </span></span><br><span class="line">CharBuffer(<span class="keyword">int</span> mark, <span class="keyword">int</span> pos, <span class="keyword">int</span> lim, <span class="keyword">int</span> cap,   <span class="comment">// package-private</span></span><br><span class="line">                            <span class="keyword">char</span>[] hb, <span class="keyword">int</span> offset)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">super</span>(mark, pos, lim, cap);</span><br><span class="line">    <span class="keyword">this</span>.hb = hb;</span><br><span class="line">    <span class="keyword">this</span>.offset = offset;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹        <strong>åŸæ¥ï¼Œ<code>CharBuffer</code>æ˜¯ç”± <code>HeapCharBuffer</code> æ¥å…·ä½“å®ç°çš„ã€‚</strong></p><h3 id="NIOæŠ€æœ¯çš„ç¼“å†²åŒºçš„ç›¸å…³æ–¹æ³•"><a href="#NIOæŠ€æœ¯çš„ç¼“å†²åŒºçš„ç›¸å…³æ–¹æ³•" class="headerlink" title="NIOæŠ€æœ¯çš„ç¼“å†²åŒºçš„ç›¸å…³æ–¹æ³•"></a>NIOæŠ€æœ¯çš„ç¼“å†²åŒºçš„ç›¸å…³æ–¹æ³•</h3><h4 id="åŒ…è£…æ•°æ®ä¸è·å¾—å®¹é‡"><a href="#åŒ…è£…æ•°æ®ä¸è·å¾—å®¹é‡" class="headerlink" title="åŒ…è£…æ•°æ®ä¸è·å¾—å®¹é‡"></a>åŒ…è£…æ•°æ®ä¸è·å¾—å®¹é‡</h4><h5 id="capacityï¼ˆå®¹é‡ï¼‰"><a href="#capacityï¼ˆå®¹é‡ï¼‰" class="headerlink" title="capacityï¼ˆå®¹é‡ï¼‰"></a>capacityï¼ˆå®¹é‡ï¼‰</h5><p>â€‹        å®ƒä»£è¡¨åŒ…å«å…ƒç´ çš„æ•°é‡ã€‚ä¸å¯æ˜¯è´Ÿå€¼ï¼Œä¸å¯è¢«ä¿®æ”¹ã€‚</p><p><strong>ç›¸å…³æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">capacity</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[] &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>&#125;;</span><br><span class="line">CharBuffer charbuffer = CharBuffer.wrap(chars);</span><br><span class="line"><span class="keyword">int</span> cap = charbuffer.capacity();</span><br><span class="line">System.out.println(cap);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æœï¼š 3</span></span><br></pre></td></tr></table></figure><h4 id="é™åˆ¶è·å–ä¸è®¾ç½®"><a href="#é™åˆ¶è·å–ä¸è®¾ç½®" class="headerlink" title="é™åˆ¶è·å–ä¸è®¾ç½®"></a>é™åˆ¶è·å–ä¸è®¾ç½®</h4><h5 id="limitï¼ˆé™åˆ¶ï¼‰"><a href="#limitï¼ˆé™åˆ¶ï¼‰" class="headerlink" title="limitï¼ˆé™åˆ¶ï¼‰"></a>limitï¼ˆé™åˆ¶ï¼‰</h5><p>â€‹        è¿”å›æ­¤ç¼“å†²åŒºçš„é™åˆ¶ã€‚ä»€ä¹ˆæ˜¯ç¼“å†²åŒºçš„é™åˆ¶å‘¢ï¼Ÿå®ƒä»£è¡¨ç¬¬ä¸€ä¸ªä¸åº”è¯¥è¯»å–æˆ–å†™å…¥å…ƒç´ çš„ indexï¼ˆç´¢å¼•ï¼‰ã€‚ä¸å¯ä»¥æ˜¯è´Ÿå€¼ï¼Œå¹¶ä¸”å…¶å€¼ä¸èƒ½å¤§äº<code>capacity</code>ã€‚å¦‚æœ<code>position</code> å¤§äºæ–°çš„ <code>limit</code>ï¼Œåˆ™å¥–<code>position</code>è®¾ç½®ä¸ºæ–°çš„<code>limit</code>ã€‚å¦‚æœ<code>mark</code>å·²å®šä¹‰ä¸”å¤§äºæ–°çš„<code>limit</code>ï¼Œåˆ™ä¸¢å¼ƒè¯¥<code>mark</code>ã€‚<code>limit</code>çš„åº”ç”¨ç¤ºä¾‹å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1594026005008.jpg" alt="1594026005008"></p><p><strong>ç›¸å…³æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">limit</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Buffer <span class="title">limit</span><span class="params">(<span class="keyword">int</span> newLimit)</span></span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[] &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>&#125;;</span><br><span class="line">CharBuffer charbuffer = CharBuffer.wrap(chars);</span><br><span class="line"><span class="keyword">int</span> limit = charbuffer.limit();</span><br><span class="line">System.out.println(<span class="string">"ä¿®æ”¹å‰"</span> + limit);</span><br><span class="line"></span><br><span class="line">charbuffer.limit(<span class="number">3</span>);</span><br><span class="line">limit = charbuffer.limit();</span><br><span class="line">System.out.println(<span class="string">"ä¿®æ”¹å"</span> + limit);</span><br><span class="line"></span><br><span class="line"><span class="comment">// put(ç´¢å¼•ï¼Œæ•°æ®)</span></span><br><span class="line">charbuffer.put(<span class="number">3</span>, <span class="string">'q'</span>);<span class="comment">// æ­¤ä½ç½®æ˜¯ç¬¬ä¸€ä¸ªä¸å¯è¯»ä¸å¯å†™çš„ç´¢å¼•,ä¼šæŠ›å‡ºIndexOutOfBoundException</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æœï¼š </span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">Exception in thread <span class="string">"main"</span> java.lang.IndexOutOfBoundException</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><h4 id="ä½ç½®è·å–ä¸è®¾ç½®"><a href="#ä½ç½®è·å–ä¸è®¾ç½®" class="headerlink" title="ä½ç½®è·å–ä¸è®¾ç½®"></a>ä½ç½®è·å–ä¸è®¾ç½®</h4><h5 id="positionï¼ˆä½ç½®ï¼‰"><a href="#positionï¼ˆä½ç½®ï¼‰" class="headerlink" title="positionï¼ˆä½ç½®ï¼‰"></a>positionï¼ˆä½ç½®ï¼‰</h5><p>â€‹        ä»£è¡¨ â€œä¸‹ä¸€ä¸ªâ€ è¦è¯»å–æˆ–å†™å…¥å…ƒç´ çš„ç´¢å¼•ï¼Œ<code>position</code>ä¸èƒ½ä¸ºè´Ÿå€¼ï¼Œå¹¶ä¸”<code>position</code>ä¸èƒ½å¤§äºå…¶<code>limit</code>ã€‚å¦‚æœ<code>mark</code>å·²å®šä¹‰ä¸”å¤§äºæ–°çš„<code>position</code>ï¼Œåˆ™ä¸¢å¼ƒè¯¥<code>mark</code>ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1594026689661.jpg" alt="1594026689661"></p><p><strong>ç›¸å…³æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">position</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Buffer <span class="title">position</span><span class="params">(<span class="keyword">int</span> newPosition)</span></span></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[] &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>&#125;;</span><br><span class="line">CharBuffer charbuffer = CharBuffer.wrap(chars);</span><br><span class="line"></span><br><span class="line"><span class="comment">// position é»˜è®¤åˆšå¼€å§‹ä¸º 0</span></span><br><span class="line"><span class="keyword">int</span> position = charbuffer.position();</span><br><span class="line">System.out.println(<span class="string">"ä¿®æ”¹å‰: "</span> + position);</span><br><span class="line"></span><br><span class="line">charbuffer.position(<span class="number">3</span>);</span><br><span class="line">position = charbuffer.position();</span><br><span class="line">System.out.println(<span class="string">"ä¿®æ”¹å: "</span> + position);</span><br><span class="line"></span><br><span class="line">charbuffer.put(<span class="string">'q'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; chars.length; i ++) </span><br><span class="line">    System.out.print(chars[i] + <span class="string">" "</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æœï¼š </span></span><br><span class="line">ä¿®æ”¹å‰: <span class="number">0</span></span><br><span class="line">ä¿®æ”¹å: <span class="number">3</span></span><br><span class="line">a b c q e</span><br></pre></td></tr></table></figure><h4 id="å‰©ä½™ç©ºé—´å¤§å°è·å–"><a href="#å‰©ä½™ç©ºé—´å¤§å°è·å–" class="headerlink" title="å‰©ä½™ç©ºé—´å¤§å°è·å–"></a>å‰©ä½™ç©ºé—´å¤§å°è·å–</h4><h5 id="remainingï¼ˆå‰©ä½™ç©ºé—´ï¼‰"><a href="#remainingï¼ˆå‰©ä½™ç©ºé—´ï¼‰" class="headerlink" title="remainingï¼ˆå‰©ä½™ç©ºé—´ï¼‰"></a>remainingï¼ˆå‰©ä½™ç©ºé—´ï¼‰</h5><p><strong>ç›¸å…³æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">remaining</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    return limit - position</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1594027234062.jpg" alt="1594027234062"></p><p>ä¸Šå›¾ï¼šlimit - position ä¼šè¿”å› 2ã€‚</p><h4 id="è®¾ç½®æ ‡è®°ï¼š"><a href="#è®¾ç½®æ ‡è®°ï¼š" class="headerlink" title="è®¾ç½®æ ‡è®°ï¼š"></a><strong>è®¾ç½®æ ‡è®°ï¼š</strong></h4><h5 id="markï¼ˆæ ‡è®°ï¼‰"><a href="#markï¼ˆæ ‡è®°ï¼‰" class="headerlink" title="markï¼ˆæ ‡è®°ï¼‰"></a>markï¼ˆæ ‡è®°ï¼‰</h5><p>â€‹        åœ¨æ­¤ç¼“å†²åŒºçš„ä½ç½®è®¾ç½®æ ‡è®°ã€‚</p><p>â€‹        æ ‡è®°æ˜¯ä¸€ä¸ªç´¢å¼•ï¼Œå½“æˆ‘ä»¬è°ƒç”¨<code>reset()</code>æ–¹æ³•æ—¶ï¼Œä¼šå°†ç¼“å†²åŒºçš„<code>position</code>ä½ç½®é‡ç½®ä¸ºè¯¥ç´¢å¼•ã€‚æ ‡è®°å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼ŒåŒæ ·ä¸èƒ½æ˜¯è´Ÿæ•°ï¼Œå¹¶ä¸”ä¸èƒ½è®©å®ƒå¤§äº<code>position</code>ã€‚å¦‚æœå®šä¹‰<code>mark</code>ï¼Œåˆ™å†å°†<code>position</code>æˆ–<code>limit</code>è°ƒæ•´ä¸ºå°äºè¯¥<code>mark</code>çš„å€¼æ—¶ï¼Œè¯¥<code>mark</code>è¢«ä¸¢å¼ƒï¼Œä¸¢å¼ƒåå…¶å€¼ä¸º -1ã€‚å¦‚æœæœªå®šä¹‰<code>mark</code>ï¼Œé‚£ä¹ˆè°ƒç”¨<code>reset()</code>æ–¹æ³•å°†å¯¼è‡´æŠ›å‡º<code>InvalidMarkException</code>å¼‚å¸¸ã€‚</p><p><strong>ç›¸å…³æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Buffer <span class="title">mark</span><span class="params">()</span></span>&#123;</span><br><span class="line">    mark = position;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Buffer <span class="title">reset</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = mark;</span><br><span class="line">    <span class="keyword">if</span> (m &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> InvalidMarkException();</span><br><span class="line">    position = m;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¿˜åŸç¼“å†²åŒºçš„çŠ¶æ€ï¼š"><a href="#è¿˜åŸç¼“å†²åŒºçš„çŠ¶æ€ï¼š" class="headerlink" title="è¿˜åŸç¼“å†²åŒºçš„çŠ¶æ€ï¼š"></a>è¿˜åŸç¼“å†²åŒºçš„çŠ¶æ€ï¼š</h4><h5 id="clearï¼ˆæ¸…é™¤ï¼‰"><a href="#clearï¼ˆæ¸…é™¤ï¼‰" class="headerlink" title="clearï¼ˆæ¸…é™¤ï¼‰"></a>clearï¼ˆæ¸…é™¤ï¼‰</h5><p>â€‹        è¿˜åŸç¼“å†²åŒºåˆ°åˆå§‹çš„çŠ¶æ€ï¼ŒåŒ…å«å°†ä½ç½®è®¾ç½®ä¸º 0 ï¼Œå°†é™åˆ¶ï¼ˆlimitï¼‰è®¾ç½®ä¸ºå®¹é‡ï¼ˆcapacityï¼‰ï¼Œå¹¶ä¸¢å¼ƒæ ‡è®°ï¼ˆmarkï¼‰ï¼Œå³ â€œä¸€åˆ‡ä¸ºé»˜è®¤â€ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Buffer <span class="title">clear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    position = <span class="number">0</span>;</span><br><span class="line">    limit = capacity;</span><br><span class="line">    mark = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ä¸»è¦åº”ç”¨åœºæ™¯ï¼š"><a href="#ä¸»è¦åº”ç”¨åœºæ™¯ï¼š" class="headerlink" title="ä¸»è¦åº”ç”¨åœºæ™¯ï¼š"></a>ä¸»è¦åº”ç”¨åœºæ™¯ï¼š</h5><p><strong>å¯¹ç¼“å†²åŒºå­˜å‚¨æ•°æ®ä¹‹å‰è°ƒç”¨æ­¤æ–¹æ³•ã€‚</strong></p><h4 id="å¯¹ç¼“å†²åŒºè¿›è¡Œåè½¬ï¼š"><a href="#å¯¹ç¼“å†²åŒºè¿›è¡Œåè½¬ï¼š" class="headerlink" title="å¯¹ç¼“å†²åŒºè¿›è¡Œåè½¬ï¼š"></a>å¯¹ç¼“å†²åŒºè¿›è¡Œåè½¬ï¼š</h4><h5 id="flipï¼ˆåè½¬ï¼‰"><a href="#flipï¼ˆåè½¬ï¼‰" class="headerlink" title="flipï¼ˆåè½¬ï¼‰"></a>flipï¼ˆåè½¬ï¼‰</h5><p>â€‹        åè½¬æ­¤ç¼“å†²åŒºã€‚é¦–å…ˆå°†é™åˆ¶è®¾ç½®ä¸ºå½“å‰ä½ç½®ï¼Œç„¶åå°†ä½ç½®è®¾ç½®ä¸º 0 ã€‚ä¸¢å¼ƒæ ‡è®°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Buffer <span class="title">flip</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    limit = position;</span><br><span class="line">    position = <span class="number">0</span>;</span><br><span class="line">    mark = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>æ³¨æ„æ­¤æ–¹æ³•ä¼šä¿®æ”¹ limit ä¸º å½“å‰ positionçš„å€¼ã€‚</em></p><h5 id="ä¸»è¦åº”ç”¨åœºæ™¯ï¼š-1"><a href="#ä¸»è¦åº”ç”¨åœºæ™¯ï¼š-1" class="headerlink" title="ä¸»è¦åº”ç”¨åœºæ™¯ï¼š"></a>ä¸»è¦åº”ç”¨åœºæ™¯ï¼š</h5><p><strong>å½“å‘ç¼“å†²åŒºä¸­å­˜å‚¨æ•°æ®ï¼Œç„¶åå†ä»ç¼“å†²åŒºä¸­è¯»å–è¿™äº›æ•°æ®æ—¶ï¼Œå°±æ˜¯ä½¿ç”¨ flip() æ–¹æ³•çš„æœ€ä½³æ—¶æœºã€‚</strong></p><h4 id="é‡ç»•ç¼“å†²åŒº"><a href="#é‡ç»•ç¼“å†²åŒº" class="headerlink" title="é‡ç»•ç¼“å†²åŒº"></a>é‡ç»•ç¼“å†²åŒº</h4><h5 id="rewind"><a href="#rewind" class="headerlink" title="rewind"></a>rewind</h5><p>â€‹        é‡ç»•æ­¤ç¼“å†²åŒºï¼Œå°†ä½ç½®è®¾ç½®ä¸º 0 å¹¶ä¸¢å¼ƒæ ‡è®°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Buffer <span class="title">rewind</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    position = <span class="number">0</span>;</span><br><span class="line">    mark = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ä¸»è¦åº”ç”¨åœºæ™¯ï¼š-2"><a href="#ä¸»è¦åº”ç”¨åœºæ™¯ï¼š-2" class="headerlink" title="ä¸»è¦åº”ç”¨åœºæ™¯ï¼š"></a>ä¸»è¦åº”ç”¨åœºæ™¯ï¼š</h5><p><strong>â€œé‡æ–°å†™å…¥æˆ–è·å–â€ çš„æ“ä½œä¹‹å‰è°ƒç”¨æ­¤æ–¹æ³•ï¼ˆå‡å®šå·²ç»è®¾å½“è®¾ç½®äº†é™åˆ¶ï¼‰ã€‚å¸¸åœ¨é‡æ–°è¯»å–ç¼“å†²åŒºä¸­æ•°æ®æ—¶ä½¿ç”¨ã€‚</strong></p><h3 id="çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="çŸ¥è¯†ç‚¹æ€»ç»“"></a>çŸ¥è¯†ç‚¹æ€»ç»“</h3><ol><li>ç¼“å†²åŒºçš„<code>capacity</code>ã€<code>limit</code>ã€<code>position</code>éƒ½ä¸èƒ½æ˜¯è´Ÿæ•°ã€‚</li><li><code>position</code>ä¸èƒ½å¤§äº<code>limit</code>ã€‚</li><li><code>limit</code>ä¸èƒ½å¤§äºcapacityã€‚</li><li>å¦‚æœå®šä¹‰<code>mark</code>ï¼Œåœ¨å°†<code>position</code>æˆ–<code>limit</code>è°ƒæ•´ä¸ºå°äºè¯¥<code>mark</code>çš„å€¼æ—¶ï¼Œè¯¥<code>mark</code>è¢«ä¸¢å¼ƒã€‚</li><li>æœªå®šä¹‰<code>mark</code>ï¼Œè°ƒç”¨<code>reset()</code>æ–¹æ³•å°†å¯¼è‡´æŠ›å‡º<code>InvalidMarkException</code>å¼‚å¸¸ã€‚</li><li>å½“<code>limit</code>å’Œ<code>position</code>å€¼ä¸€æ ·æ—¶ï¼Œåœ¨æŒ‡å®šçš„<code>position</code>ä½ç½®å†™å…¥æ•°æ®ä¼šå‡ºç°å¼‚å¸¸ã€‚</li></ol><p>å–œæ¬¢æœ¬æ–‡çš„è¯ï¼Œ<strong>åœ¨è¯„è®ºåŒºç•™ä¸ªè¨€å§ğŸ˜˜</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
    
      <category term="NIO" scheme="penghui.club/tags/NIO/"/>
    
  </entry>
  
  <entry>
    <title>é€šé…ç¬¦åŒ¹é…</title>
    <link href="penghui.club/2020/07/05/%E9%80%9A%E9%85%8D%E7%AC%A6%E5%8C%B9%E9%85%8D/"/>
    <id>penghui.club/2020/07/05/%E9%80%9A%E9%85%8D%E7%AC%A6%E5%8C%B9%E9%85%8D/</id>
    <published>2020-07-05T06:15:53.000Z</published>
    <updated>2020-07-05T08:29:13.290Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>åˆ°äº†äºŒåå¤šå²çš„å¹´çºªï¼Œæˆ‘ç»ˆäºæ‰¿è®¤æˆ‘çœŸçš„å¾ˆå¹³åº¸ï¼Œæˆ‘ä¼šæ›´åŠ åŠªåŠ›ï¼åŠ æ²¹ï¼ï¼ï¼</p><p>â€‹                                                                                                                               â€”â€“ Halo</p></blockquote><a id="more"></a><h2 id="44-é€šé…ç¬¦åŒ¹é…"><a href="#44-é€šé…ç¬¦åŒ¹é…" class="headerlink" title="44. é€šé…ç¬¦åŒ¹é…"></a><a href="https://leetcode-cn.com/problems/wildcard-matching/" target="_blank" rel="noopener">44. é€šé…ç¬¦åŒ¹é…</a></h2><p>ä»Šå¤©æ˜¯2020å¹´7æœˆ5æ—¥ï¼Œæˆ‘ä»åœ¨åŠªåŠ›â€¦</p><p>è¿™é“é¢˜æ˜¯leetcodeæ¯æ—¥ä¸€é¢˜ï¼Œå…¸å‹çš„åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚è™½è¯´éš¾åº¦ä¸º<span style="color: red;">å›°éš¾</span>ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯å¾ˆéš¾ã€‚</p><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² (<code>s</code>) å’Œä¸€ä¸ªå­—ç¬¦æ¨¡å¼ (<code>p</code>) ï¼Œå®ç°ä¸€ä¸ªæ”¯æŒ <code>&#39;?&#39;</code> å’Œ <code>&#39;*&#39;</code> çš„é€šé…ç¬¦åŒ¹é…ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#39;?&#39; å¯ä»¥åŒ¹é…ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚</span><br><span class="line">&#39;*&#39; å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç©ºå­—ç¬¦ä¸²ï¼‰ã€‚</span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ªå­—ç¬¦ä¸²<strong>å®Œå…¨åŒ¹é…</strong>æ‰ç®—åŒ¹é…æˆåŠŸã€‚</p><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜:"></a><strong>è¯´æ˜:</strong></h3><ul><li><code>s</code> å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» <code>a-z</code> çš„å°å†™å­—æ¯ã€‚</li><li><code>p</code> å¯èƒ½ä¸ºç©ºï¼Œä¸”åªåŒ…å«ä» <code>a-z</code> çš„å°å†™å­—æ¯ï¼Œä»¥åŠå­—ç¬¦ <code>?</code> å’Œ <code>*</code>ã€‚</li></ul><h4 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1:"></a><strong>ç¤ºä¾‹ 1:</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s &#x3D; &quot;aa&quot;</span><br><span class="line">p &#x3D; &quot;a&quot;</span><br><span class="line">è¾“å‡º: false</span><br><span class="line">è§£é‡Š: &quot;a&quot; æ— æ³•åŒ¹é… &quot;aa&quot; æ•´ä¸ªå­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2:"></a><strong>ç¤ºä¾‹ 2:</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s &#x3D; &quot;aa&quot;</span><br><span class="line">p &#x3D; &quot;*&quot;</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: &#39;*&#39; å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3:"></a><strong>ç¤ºä¾‹ 3:</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s &#x3D; &quot;cb&quot;</span><br><span class="line">p &#x3D; &quot;?a&quot;</span><br><span class="line">è¾“å‡º: false</span><br><span class="line">è§£é‡Š: &#39;?&#39; å¯ä»¥åŒ¹é… &#39;c&#39;, ä½†ç¬¬äºŒä¸ª &#39;a&#39; æ— æ³•åŒ¹é… &#39;b&#39;ã€‚</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-4"><a href="#ç¤ºä¾‹-4" class="headerlink" title="ç¤ºä¾‹ 4:"></a><strong>ç¤ºä¾‹ 4:</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s &#x3D; &quot;adceb&quot;</span><br><span class="line">p &#x3D; &quot;*a*b&quot;</span><br><span class="line">è¾“å‡º: true</span><br><span class="line">è§£é‡Š: ç¬¬ä¸€ä¸ª &#39;*&#39; å¯ä»¥åŒ¹é…ç©ºå­—ç¬¦ä¸², ç¬¬äºŒä¸ª &#39;*&#39; å¯ä»¥åŒ¹é…å­—ç¬¦ä¸² &quot;dce&quot;.</span><br></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-5"><a href="#ç¤ºä¾‹-5" class="headerlink" title="ç¤ºä¾‹ 5:"></a><strong>ç¤ºä¾‹ 5:</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">s &#x3D; &quot;acdcb&quot;</span><br><span class="line">p &#x3D; &quot;a*c?b&quot;</span><br><span class="line">è¾“å‡º: false</span><br></pre></td></tr></table></figure><h3 id="æˆ‘çš„æ€è·¯ï¼š"><a href="#æˆ‘çš„æ€è·¯ï¼š" class="headerlink" title="æˆ‘çš„æ€è·¯ï¼š"></a>æˆ‘çš„æ€è·¯ï¼š</h3><p>è¿™é“é¢˜æˆ‘æœ¬æ¥æƒ³ç€å…ˆç”¨é€’å½’æ¥è§£ï¼Œé€šè¿‡åŒæŒ‡é’ˆæ³•ï¼Œä¸æ–­é€’å½’ï¼Œå¯æƒœè¶…æ—¶ã€‚ã€‚ã€‚æ€è·¯å¦‚ä¸‹ï¼š</p><p>å½“ <code>s[i] == p[j]  || p[j] == &#39;?&#39;</code>ï¼Œè¿›è¡Œ<code>helper(s, i + 1, p, j + 1);</code> </p><p>å½“ <code>p[j] == &#39;*&#39;</code>, è¿›è¡Œ <code>helper(s, i + 1, p, j) || helper(s, i + 1, p, j + 1) || helper(s, i, p, j + 1)</code>;</p><p>è‡³äºä¸ºä»€ä¹ˆè¿™æ ·åšï¼Œæ¥ä¸‹æ¥åŠ¨æ€è§„åˆ’çš„æ€è·¯ä¼šè®²è§£ã€‚è¿™é‡Œåªæä¾›å¤§æ¦‚å¾—æ€è·¯ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯å¾ˆé«˜çš„ï¼Œä¸å»ºè®®ä½¿ç”¨æ­¤æ–¹æ³•ã€‚</p><h4 id="åŠ¨æ€è§„åˆ’ï¼š"><a href="#åŠ¨æ€è§„åˆ’ï¼š" class="headerlink" title="åŠ¨æ€è§„åˆ’ï¼š"></a>åŠ¨æ€è§„åˆ’ï¼š</h4><ul><li>é¦–å…ˆå®šä¹‰<strong>dp</strong>æ•°ç»„çš„å«ä¹‰ï¼š<code>dp[i][j]</code> è¡¨ç¤ºå­—ç¬¦ä¸² <strong>s</strong> çš„å‰ i ä¸ªå­—ç¬¦å’Œå­—ç¬¦ä¸² <strong>p</strong> çš„å‰ j ä¸ªå­—ç¬¦æ˜¯å¦åŒ¹é…</li><li>æ¥ä¸‹æ¥å°±æŒ‰ç…§æƒ…å†µåˆ’åˆ†ï¼š<ul><li>1ã€p[j] å’Œs[i] ç›¸ç­‰ï¼›</li><li>2ã€p[j] = â€˜?â€™ï¼›</li><li>3ã€p[j] = â€˜*â€™ï¼›</li></ul></li><li><strong>1å’Œ2</strong>ï¼šå¯åˆä¸ºä¸€ç§ <ul><li>åªè¦<code>dp[i - 1][j - 1]</code>åŒ¹é…ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¾—å‡ºåªè¦<code>p[j]</code> å’Œ<code>s[i]</code> ç›¸ç­‰æˆ–è€…<code>[j] = &#39;?&#39;</code>ï¼›é‚£ä¹ˆ æˆ‘ä»¬å°±èƒ½ <code>dp[i][j] = dp[i - 1][j - 1]</code>; </li></ul></li><li><strong>3</strong>ï¼šå½“p[j] = â€˜*â€™ï¼Œåˆ†ä¸ºä¸‰ç§æƒ…å†µï¼Œåªè¦è¿™ä¸‰ç§æƒ…å†µä»»æ„ä¸€ä¸ªä¸ºtrueï¼Œé‚£ä¹ˆ<code>dp[i][j]</code>å°±ä¸ºtrueï¼š<ul><li>è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼š<code>dp[i][j] = dp[i - 1][j - 1]</code>;</li><li>è¡¨ç¤ºç©ºï¼š<code>dp[i][j] = dp[i][j - 1]</code>;</li><li>è¡¨ç¤ºå¤šä¸ªå­—ç¬¦ï¼š<code>dp[i][j] = dp[i - 1][j]</code>;</li></ul></li></ul><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå°æŠ€å·§ï¼Œåœ¨<strong>s å’Œ p</strong>æœ€å‰é¢æ‹¼æ¥ä¸€ä¸ªâ€œ â€å­—ç¬¦ä¸²ï¼Œæ—¢å¯ä»¥é˜²æ­¢ä¸ºç©ºï¼Œä¹Ÿå¯ä»¥ä¸ºæ¥ä¸‹æ¥çš„ä»£ç åšå‡†å¤‡ï¼š</p><h4 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">    s = <span class="string">" "</span> + s;</span><br><span class="line">    p = <span class="string">" "</span> + p;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">int</span> sLen = s.length(), pLen = p.length();</span><br><span class="line">    <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[sLen + <span class="number">1</span>][pLen + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// base case</span></span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= sLen; i ++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= pLen; j ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i - <span class="number">1</span>) == p.charAt(j - <span class="number">1</span>) || p.charAt(j - <span class="number">1</span>) == <span class="string">'?'</span>) &#123;</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>) &#123;</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] || dp[i - <span class="number">1</span>][j] || dp[i][j - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[sLen][pLen];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å†çœ‹çœ‹é€’å½’çš„åšæ³•ï¼Œæ˜¯ä¸æ˜¯æç„¶å¤§æ‚Ÿäº†å‘¢ï¼ŸğŸ˜±</strong></p>]]></content>
    
    <summary type="html">
    
      é€šé…ç¬¦åŒ¹é…
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="penghui.club/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="åŠ¨æ€è§„åˆ’" scheme="penghui.club/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>Objectè§£è¯»</title>
    <link href="penghui.club/2020/07/03/Object%E8%A7%A3%E8%AF%BB/"/>
    <id>penghui.club/2020/07/03/Object%E8%A7%A3%E8%AF%BB/</id>
    <published>2020-07-03T09:48:04.000Z</published>
    <updated>2020-07-10T12:22:14.822Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>åŠ æ²¹å§ï¼</p><p>â€‹                                                                                                                                                   â€”â€“ me   </p></blockquote><a id="more"></a><h2 id="Objectæ¦‚è¿°"><a href="#Objectæ¦‚è¿°" class="headerlink" title="Objectæ¦‚è¿°"></a>Objectæ¦‚è¿°</h2><p>Objectç±»ä½äºjava.langåŒ…ï¼Œ Javaä¸­çš„æ¯ä¸ªç±»éƒ½æ˜¯ç”±è¿™ä¸ªç±»æ‰©å±•è€Œæ¥ï¼Œæ‰€æœ‰ç±»éƒ½<strong>ç›´æ¥</strong>æˆ–è€…<strong>é—´æ¥</strong>çš„<strong>ç»§æ‰¿</strong>è‡ªObjectã€‚ æ‰€ä»¥ï¼Œæ‰€æœ‰ç±»éƒ½ç»§æ‰¿äº†Objectä¸­çš„æ–¹æ³•ã€‚é¦–å…ˆæ¥çœ‹çœ‹Objectä¸­éƒ½æœ‰é‚£äº›æ–¹æ³•å§ï¼</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1593774455032.jpg" alt="1593774455032.jpg"></p><p>éšä¾¿æŒ‘é€‰ä¸€ä¸ªç±»ï¼Œå°±ä¼šå‘ç°ä»–ä¹Ÿæœ‰è¿™äº›ä¸ªæ–¹æ³•ï¼š</p><p>è¿™æ˜¯è‡ªå·±å†™çš„ç±»</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1593770525068.jpg" alt="1593770525068"></p><p>ä»¥ä¸‹æ˜¯å®ƒçš„æ–¹æ³•ï¼š</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/1593770564796.jpg" alt="1593770564796"></p><h3 id="Objectä¸­çš„æ„é€ æ–¹æ³•"><a href="#Objectä¸­çš„æ„é€ æ–¹æ³•" class="headerlink" title="Objectä¸­çš„æ„é€ æ–¹æ³•"></a>Objectä¸­çš„æ„é€ æ–¹æ³•</h3><p>â€‹        æœ‰è¿‡javaåŸºç¡€çš„åŒå­¦éƒ½çŸ¥é“ï¼Œjavaä¸­å¦‚æœæ²¡æœ‰æœ‰å‚çš„æ„é€ æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥ç±»ä¼šé»˜è®¤æœ‰ä¸€ä¸ªæ— å‚çš„æ„é€ æ–¹æ³•ã€‚</p><p> æ‰€ä»¥Objectç±»ä¸­å…·æœ‰é»˜è®¤çš„æ— å‚æ„é€ <code>Object()</code> ã€‚ </p><h3 id="hashCode-æ–¹æ³•"><a href="#hashCode-æ–¹æ³•" class="headerlink" title="hashCode()æ–¹æ³•"></a>hashCode()æ–¹æ³•</h3><h4 id="æºç ï¼š"><a href="#æºç ï¼š" class="headerlink" title="æºç ï¼š"></a><strong>æºç ï¼š</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns a hash code value for the object. This method is</span></span><br><span class="line"><span class="comment"> * supported for the benefit of hash tables such as those provided by</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> java.util.HashMap&#125;.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>æ–¹æ³•æè¿°ç¬¬ä¸€è¡Œï¼š<strong>è¿”å›è¿™ä¸ªå¯¹è±¡çš„hashcodeï¼Œ æ”¯æŒæ­¤æ–¹æ³•æ˜¯ä¸ºäº†æé«˜å“ˆå¸Œè¡¨ï¼ˆä¾‹å¦‚ java.util.Hashtable æä¾›çš„å“ˆå¸Œè¡¨ï¼‰çš„æ€§èƒ½ã€‚</strong> </p><p>æˆ‘ä»¬æ¥è¿è¡Œä¸€ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ObjectTest obj = <span class="keyword">new</span> ObjectTest();</span><br><span class="line">        <span class="keyword">int</span> hashCode = obj.hashCode();</span><br><span class="line">        System.out.println(hashCode);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿è¡Œç»“æœï¼š21685669</span></span><br></pre></td></tr></table></figure><p>è¯¥æ–¹æ³•æŠŠå¯¹è±¡çš„åœ°å€å€¼æ¢ç®—æˆä¸€ä¸ªæ•´æ•°å€¼ï¼Œå½“ä¸¤ä¸ªå¯¹è±¡ä¸æ˜¯åŒä¸€å¯¹è±¡ï¼Œå…¶åœ°å€å€¼ä¸åŒï¼Œå“ˆå¸Œç å€¼ä¹Ÿä¸ä¸€æ ·ã€‚ </p><p><em>æ³¨æ„ï¼šä¸åŒå¯¹è±¡çš„hashcodeæœ‰å¯èƒ½ç›¸åŒï¼åŒä¸€ä¸ªå¯¹è±¡çš„hashcodeä¸€å®šç›¸åŒï¼</em></p><p>å½“ç„¶ä½ å¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ObjectTest obj = <span class="keyword">new</span> ObjectTest();</span><br><span class="line">        <span class="keyword">int</span> hashCode = obj.hashCode();</span><br><span class="line">        System.out.println(hashCode);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ— è®ºå¦‚ä½•æ‰“å°ç±»å¯¹è±¡çš„hashcodeï¼Œéƒ½æ˜¯1</span></span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><ul><li>åŒä¸€ä¸ªå¯¹è±¡(å¦‚æœè¯¥å¯¹è±¡æ²¡æœ‰è¢«ä¿®æ”¹)ï¼šé‚£ä¹ˆé‡å¤è°ƒç”¨<code>hashCode()</code>é‚£ä¹ˆè¿”å›çš„intæ˜¯ç›¸åŒçš„ï¼ </li><li><code>hashCode()</code>æ–¹æ³•é»˜è®¤æ˜¯ç”±å¯¹è±¡çš„åœ°å€è½¬æ¢è€Œæ¥çš„ </li></ul><h3 id="equals-æ–¹æ³•"><a href="#equals-æ–¹æ³•" class="headerlink" title="equals()æ–¹æ³•"></a>equals()æ–¹æ³•</h3><h4 id="æºç ï¼š-1"><a href="#æºç ï¼š-1" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Indicates whether some other object is "equal to" this one.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> (<span class="keyword">this</span> == obj);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="ä½œç”¨ï¼š"><a href="#ä½œç”¨ï¼š" class="headerlink" title="ä½œç”¨ï¼š"></a>ä½œç”¨ï¼š</h4><p>è¿”å›æŸä¸ªå¯¹è±¡æ˜¯å¦ä¸æ­¤å¯¹è±¡â€œç›¸ç­‰â€ã€‚ä¹Ÿå°±æ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„åœ°å€å€¼æ˜¯å¦ç›¸ç­‰ï¼Œæ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡ã€‚å¦‚æœç›¸ç­‰åˆ™è¿”å›trueï¼Œä¸ç›¸ç­‰åˆ™è¿”å›falseã€‚ </p><h4 id="ç¤ºä¾‹ï¼š"><a href="#ç¤ºä¾‹ï¼š" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ObjectTest obj = <span class="keyword">new</span> ObjectTest();</span><br><span class="line">        ObjectTest obj2 = <span class="keyword">new</span> ObjectTest();</span><br><span class="line">        <span class="keyword">int</span> hashCode = obj.hashCode();</span><br><span class="line">        <span class="keyword">int</span> hashCode2 = obj2.hashCode();</span><br><span class="line">        System.out.println(hashCode);</span><br><span class="line">        System.out.println(hashCode2);</span><br><span class="line">        System.out.println(<span class="string">"obj: "</span> + obj);</span><br><span class="line">        System.out.println(<span class="string">"obj2: "</span> + obj2);</span><br><span class="line">        System.out.println(obj.equals(obj2));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç»“æœï¼š</span></span><br><span class="line">hashcode:  <span class="number">21685669</span></span><br><span class="line">hashcode2: <span class="number">19997786</span></span><br><span class="line">obj:  niuke.offer.ObjectTest@<span class="number">14</span>ae5a5</span><br><span class="line">obj2: niuke.offer.ObjectTest@<span class="number">131245</span>a</span><br><span class="line">å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼š<span class="keyword">false</span></span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“ï¼š-1"><a href="#æ€»ç»“ï¼š-1" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><ul><li>åªæœ‰ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€ç›¸åŒï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå¯¹è±¡æ‰ç›¸ç­‰ã€‚å½“æˆ‘ä»¬éœ€è¦é‡å†™<code>equals()</code>æ–¹æ³•æ—¶ï¼Œ<strong>å¿…é¡»é‡å†™hashCode()</strong>æ–¹æ³•ã€‚</li><li><code>equals()</code>æ–¹æ³•é»˜è®¤æ˜¯æ¯”è¾ƒå¯¹è±¡çš„åœ°å€ï¼Œä½¿ç”¨çš„æ˜¯<code>==</code>ç­‰å€¼è¿ç®—ç¬¦ </li><li><code>equals()</code>æ–¹æ³•è¿˜æœ‰5ä¸ªé»˜è®¤çš„åŸåˆ™ï¼š<ul><li>è‡ªåæ€§ï¼šè°ƒç”¨<code>equals()</code>è¿”å›çš„æ˜¯trueï¼Œæ— è®ºè¿™ä¸¤ä¸ªå¯¹è±¡è°è°ƒç”¨<code>equals()</code>éƒ½å¥½ï¼Œè¿”å›çš„éƒ½æ˜¯true ã€‚</li><li>ä¸€è‡´æ€§ï¼šåªè¦å¯¹è±¡æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œé‚£ä¹ˆå¤šæ¬¡è°ƒç”¨è¿˜æ˜¯è¿”å›å¯¹åº”çš„ç»“æœï¼ </li><li>ä¼ é€’æ€§ï¼š<code>x.equals(y)</code>å’Œ<code>y.equals(z)</code>éƒ½è¿”å›trueï¼Œé‚£ä¹ˆå¯ä»¥å¾—å‡ºï¼š<code>x.equals(z)</code>è¿”å›true ã€‚</li><li>å¯¹ç§°æ€§ï¼š<code>x.equals(y)</code>å’Œ<code>y.equals(x)</code>ç»“æœåº”è¯¥æ˜¯ç›¸ç­‰çš„ã€‚ </li><li>ä¼ å…¥çš„å‚æ•°ä¸ºnullï¼Œè¿”å›çš„æ˜¯false </li></ul></li></ul><h4 id="æ‹“å±•ï¼š"><a href="#æ‹“å±•ï¼š" class="headerlink" title="æ‹“å±•ï¼š"></a>æ‹“å±•ï¼š</h4><p>æˆ‘ä»¬å¸¸ç”¨çš„Stringå·²ç»å®ç°äº†<code>equals</code>å’Œ<code>hashCode</code>æ–¹æ³• ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object anObject)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åœ°å€ç›¸ç­‰é‚£ä¹ˆä¸¤è€…å¯¹è±¡è‚¯å®šç›¸ç­‰</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> == anObject) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (anObject <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">        String anotherString = (String)anObject;</span><br><span class="line">        <span class="keyword">int</span> n = value.length;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­ä¸¤è€…é•¿åº¦ï¼Œç›¸ç­‰çš„è¯ç»§ç»­åˆ¤æ–­å®ƒä»¬çš„å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (n == anotherString.value.length) &#123;</span><br><span class="line">            <span class="keyword">char</span> v1[] = value;</span><br><span class="line">            <span class="keyword">char</span> v2[] = anotherString.value;</span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (n-- != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// å‘ç°ä¸¤å­—ç¬¦ä¸²å€¼ä¸ç›¸ç­‰</span></span><br><span class="line">                <span class="keyword">if</span> (v1[i] != v2[i])</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                <span class="comment">// ç»§ç»­åˆ¤æ–­</span></span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä¸¤è€…å€¼ç›¸åŒè¿”å›true</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h = hash;</span><br><span class="line">    <span class="keyword">if</span> (h == <span class="number">0</span> &amp;&amp; value.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">char</span> val[] = value;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; value.length; i++) &#123;</span><br><span class="line">            h = <span class="number">31</span> * h + val[i];</span><br><span class="line">        &#125;</span><br><span class="line">        hash = h;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> h;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="toString-æ–¹æ³•"><a href="#toString-æ–¹æ³•" class="headerlink" title="toString()æ–¹æ³•"></a>toString()æ–¹æ³•</h3><h4 id="æºç ï¼š-2"><a href="#æºç ï¼š-2" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns a string representation of the object. </span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> getClass().getName() + <span class="string">"@"</span> + Integer.toHexString(hashCode());</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="ä½œç”¨ï¼š-1"><a href="#ä½œç”¨ï¼š-1" class="headerlink" title="ä½œç”¨ï¼š"></a>ä½œç”¨ï¼š</h4><p> è¿”å›è¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚é€šå¸¸ï¼ŒtoString æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªâ€œä»¥æ–‡æœ¬æ–¹å¼è¡¨ç¤ºâ€æ­¤å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨è¾¾å¼ã€‚ </p><h4 id="ç¤ºä¾‹ï¼š-1"><a href="#ç¤ºä¾‹ï¼š-1" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ObjectTest obj = <span class="keyword">new</span> ObjectTest();</span><br><span class="line">System.out.println(obj.toString());</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼šniuke.offer.ObjectTest@14ae5a5</span></span><br><span class="line"><span class="comment">// ç±»å@å¯¹è±¡å“ˆå¸Œç çš„æ— ç¬¦å·åå…­è¿›åˆ¶</span></span><br></pre></td></tr></table></figure><p>é€šå¸¸æˆ‘ä»¬å¹¶ä¸ä¼šéœ€è¦ç”¨ç€è¿™ç§å­—ç¬¦ä¸²çš„æƒ…å†µï¼Œä¸€èˆ¬éœ€è¦é‡å†™è¯¥æ–¹æ³•æ‰“å°è¯¥å¯¹è±¡çš„ä¸€äº›å…·ä½“ä¿¡æ¯ã€‚</p><h3 id="clone-æ–¹æ³•"><a href="#clone-æ–¹æ³•" class="headerlink" title="clone()æ–¹æ³•"></a>clone()æ–¹æ³•</h3><h4 id="æºç ï¼š-3"><a href="#æºç ï¼š-3" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Creates and returns a copy of this object.  </span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * &lt;pre&gt;</span></span><br><span class="line"><span class="comment"> * æ‹·è´çš„å¯¹è±¡å’ŒåŸå¯¹è±¡çš„å¼•ç”¨ä¸€èˆ¬ä¸ç›¸åŒ</span></span><br><span class="line"><span class="comment"> * x.clone() != x&lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="comment"> * will be true, and that the expression:</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * &lt;pre&gt;</span></span><br><span class="line"><span class="comment"> * æ‹·è´å¯¹è±¡å’ŒåŸå¯¹è±¡è°ƒç”¨equalsä¸€èˆ¬ç›¸ç­‰</span></span><br><span class="line"><span class="comment"> * x.clone().equals(x)&lt;/pre&gt;&lt;/blockquote&gt;</span></span><br><span class="line"><span class="comment"> * will be &#123;<span class="doctag">@code</span> true&#125;, this is not an absolute requirement.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * By convention, the object returned by this method should be independent</span></span><br><span class="line"><span class="comment"> * of this object (which is being cloned).  </span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * å› æ­¤å¾€å¾€å…¶æˆå‘˜å˜é‡ï¼ˆå¦‚æœæ˜¯å¯å˜çš„å¼•ç”¨ï¼‰éƒ½éœ€è¦æ‹·è´ä¸€ä»½å‡ºå»ï¼ˆå®ç°å®Œå…¨ç‹¬ç«‹ï¼‰</span></span><br><span class="line"><span class="comment"> * Typically, this means</span></span><br><span class="line"><span class="comment"> * copying any mutable objects that comprise the internal "deep structure"</span></span><br><span class="line"><span class="comment"> * of the object being cloned and replacing the references to these</span></span><br><span class="line"><span class="comment"> * objects with references to the copies.  </span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * The method &#123;<span class="doctag">@code</span> clone&#125; for class &#123;<span class="doctag">@code</span> Object&#125; performs a</span></span><br><span class="line"><span class="comment"> * è¯¥å¯¹è±¡æ²¡æœ‰å®ç°Cloneableæ¥å£ä¼šæŠ›å‡ºCloneNotSupportedException</span></span><br><span class="line"><span class="comment"> * specific cloning operation. First, if the class of this object does</span></span><br><span class="line"><span class="comment"> * not implement the interface &#123;<span class="doctag">@code</span> Cloneable&#125;, then a</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> CloneNotSupportedException&#125; is thrown. </span></span><br><span class="line"><span class="comment"> * å­—æ®µæœ¬èº«ä¸å…‹éš†ç§°ä¸º`æµ…å…‹éš†`</span></span><br><span class="line"><span class="comment"> * contents of the fields are not themselves cloned. Thus, this method</span></span><br><span class="line"><span class="comment"> * performs a "shallow copy" of this object, not a "deep copy" operation.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * ç”±äºObjectæ²¡æœ‰å®ç°Cloneableæ¥å£ï¼Œå¦‚æœåœ¨Objectä¸Šè°ƒç”¨cloneæ–¹æ³•ä¸€æ ·ä¼šæŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line"><span class="comment"> * The class &#123;<span class="doctag">@code</span> Object&#125; does not itself implement the interface</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> Cloneable&#125;, so calling the &#123;<span class="doctag">@code</span> clone&#125; method on an object</span></span><br><span class="line"><span class="comment"> * whose class is &#123;<span class="doctag">@code</span> Object&#125; will result in throwing an</span></span><br><span class="line"><span class="comment"> * exception at run time.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">protected</span> <span class="keyword">native</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException</span>;</span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“ï¼š-2"><a href="#æ€»ç»“ï¼š-2" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><ul><li>cloneæ–¹æ³•ç”¨äºå¯¹è±¡çš„å…‹éš†ï¼Œä¸€èˆ¬æƒ³è¦å…‹éš†å‡ºçš„å¯¹è±¡æ˜¯<strong>ç‹¬ç«‹</strong>çš„(ä¸åŸæœ‰çš„å¯¹è±¡æ˜¯åˆ†å¼€çš„) </li><li>æ·±æ‹·è´æŒ‡çš„æ˜¯è¯¥å¯¹è±¡çš„æˆå‘˜å˜é‡(å¦‚æœæ˜¯å¯å˜å¼•ç”¨)éƒ½åº”è¯¥å…‹éš†ä¸€ä»½ï¼Œæµ…æ‹·è´æŒ‡çš„æ˜¯æˆå‘˜å˜é‡æ²¡æœ‰è¢«å…‹éš†ä¸€ä»½ </li></ul><h3 id="wait-æ–¹æ³•"><a href="#wait-æ–¹æ³•" class="headerlink" title="wait()æ–¹æ³•"></a>wait()æ–¹æ³•</h3><h4 id="æºç ï¼š-4"><a href="#æºç ï¼š-4" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è°ƒç”¨waitæ–¹æ³•ä¼šè®©çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ã€‚ç›´åˆ°è°ƒç”¨å”¤é†’æ–¹æ³•notifyæˆ–è€…æŒ‡å®šçš„æ—¶é—´å·²è¿‡</span></span><br><span class="line"><span class="comment"> * Causes the current thread to wait until either another thread invokes the</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> java.lang.Object#notify()&#125; method or the</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> java.lang.Object#notifyAll()&#125; method for this object, or a</span></span><br><span class="line"><span class="comment"> * specified amount of time has elapsed.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * The current thread must own this object's monitor.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * This method causes the current thread (call it &lt;var&gt;T&lt;/var&gt;) to</span></span><br><span class="line"><span class="comment"> * å¤„äºç­‰å¾…çŠ¶æ€ï¼Œé”ä¼šè¢«é‡Šæ”¾</span></span><br><span class="line"><span class="comment"> * place itself in the wait set for this object and then to relinquish</span></span><br><span class="line"><span class="comment"> * any and all synchronization claims on this object. Thread &lt;var&gt;T&lt;/var&gt;</span></span><br><span class="line"><span class="comment"> * becomes disabled for thread scheduling purposes and lies dormant</span></span><br><span class="line"><span class="comment"> * until one of four things happens:</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * å½“çº¿ç¨‹ç­‰å¾…æ—¶é—´ç»“æŸï¼Œä¼šå›åˆ°å°±ç»ªçŠ¶æ€ã€‚å†æ¬¡æŠ¢åˆ°cpuèµ„æºæ—¶ï¼ŒåŒæ­¥çŠ¶æ€ä¸ä¹‹å‰è°ƒç”¨waitæ–¹æ³•</span></span><br><span class="line"><span class="comment"> * æ—¶æ˜¯ä¸€è‡´çš„ï¼</span></span><br><span class="line"><span class="comment"> * The thread &lt;var&gt;T&lt;/var&gt; is then removed from the wait set for this</span></span><br><span class="line"><span class="comment"> * object and re-enabled for thread scheduling. It then competes in the</span></span><br><span class="line"><span class="comment"> * usual manner with other threads for the right to synchronize on the</span></span><br><span class="line"><span class="comment"> * object; once it has gained control of the object, all its</span></span><br><span class="line"><span class="comment"> * synchronization claims on the object are restored to the status quo</span></span><br><span class="line"><span class="comment"> * ante - that is, to the situation as of the time that the &#123;<span class="doctag">@code</span> wait&#125;</span></span><br><span class="line"><span class="comment"> * method was invoked. Thread &lt;var&gt;T&lt;/var&gt; then returns from the</span></span><br><span class="line"><span class="comment"> * invocation of the &#123;<span class="doctag">@code</span> wait&#125; method. Thus, on return from the</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> wait&#125; method, the synchronization state of the object and of</span></span><br><span class="line"><span class="comment"> * thread &#123;<span class="doctag">@code</span> T&#125; is exactly as it was when the &#123;<span class="doctag">@code</span> wait&#125; method</span></span><br><span class="line"><span class="comment"> * was invoked.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * è°ƒç”¨waitçš„çº¿ç¨‹ï¼Œå¦‚æœçº¿ç¨‹ä¸­æ–­ä¼šæŠ›å‡ºInterruptedExceptionï¼ˆç»“æŸç­‰å¾…çŠ¶æ€ï¼‰</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;If the current thread is &#123;<span class="doctag">@linkplain</span> java.lang.Thread#interrupt()</span></span><br><span class="line"><span class="comment"> * interrupted&#125; by any thread before or while it is waiting, then an</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> InterruptedException&#125; is thrown.  This exception is not</span></span><br><span class="line"><span class="comment"> * thrown until the lock status of this object has been restored as</span></span><br><span class="line"><span class="comment"> * described above.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * åªä¼šè§£é”å½“å‰è°ƒç”¨waitçš„å¯¹è±¡ï¼Œè€Œè¯¥çº¿ç¨‹çš„å…¶ä»–å¯¹è±¡æ˜¯ä¸ä¼šè§£é”çš„</span></span><br><span class="line"><span class="comment"> * Note that the &#123;<span class="doctag">@code</span> wait&#125; method, as it places the current thread</span></span><br><span class="line"><span class="comment"> * into the wait set for this object, unlocks only this object; any</span></span><br><span class="line"><span class="comment"> * other objects on which the current thread may be synchronized remain</span></span><br><span class="line"><span class="comment"> * locked while the thread waits.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">wait</span><span class="params">(<span class="keyword">long</span> timeout)</span> <span class="keyword">throws</span> InterruptedException</span>;</span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“ï¼š-3"><a href="#æ€»ç»“ï¼š-3" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><p>å¯¼è‡´<code>wait()</code>çš„çº¿ç¨‹è¢«å”¤é†’çš„æœ‰4ç§æƒ…å†µï¼š</p><ul><li>è¯¥çº¿ç¨‹å‘ç”Ÿä¸­æ–­</li><li>wait æ—¶é—´å·²åˆ°</li><li>è¢«notify å”¤é†’ï¼ˆä¸‹é¢ä¼šä»‹ç»ï¼‰</li><li>è¢«notifyAll å”¤é†’</li></ul><p>è°ƒç”¨<code>wait()</code>çš„çº¿ç¨‹ä¼šé‡Šæ”¾æ‰é”ï¼</p><h3 id="notify-æ–¹æ³•"><a href="#notify-æ–¹æ³•" class="headerlink" title="notify()æ–¹æ³•"></a>notify()æ–¹æ³•</h3><h4 id="æºç ï¼š-5"><a href="#æºç ï¼š-5" class="headerlink" title="æºç ï¼š"></a>æºç ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * `éšæœº`å”¤é†’æ­£åœ¨ç­‰å¾…çš„å¯¹è±¡ï¼ˆå¯èƒ½ä¸æ­¢ä¸€ä¸ªç­‰å¾…å¯¹è±¡ï¼‰</span></span><br><span class="line"><span class="comment"> * Wakes up a single thread that is waiting on this object's</span></span><br><span class="line"><span class="comment"> * monitor. If any threads are waiting on this object, one of them</span></span><br><span class="line"><span class="comment"> * is chosen to be awakened. The choice is arbitrary and occurs at</span></span><br><span class="line"><span class="comment"> * the discretion of the implementation. A thread waits on an object's</span></span><br><span class="line"><span class="comment"> * monitor by calling one of the &#123;<span class="doctag">@code</span> wait&#125; methods.</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> * 3ç§æ–¹å¼æ¥æˆä¸ºç›‘å¬å™¨å¯¹è±¡çš„æ‰€æœ‰è€…</span></span><br><span class="line"><span class="comment"> * a. è°ƒç”¨è¯¥å®ä¾‹çš„åŒæ­¥æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;By executing a synchronized instance method of that object.</span></span><br><span class="line"><span class="comment"> * b. æ‰§è¡Œè¯¥å¯¹è±¡çš„åŒæ­¥ä»£ç å—</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;By executing the body of a &#123;<span class="doctag">@code</span> synchronized&#125; statement</span></span><br><span class="line"><span class="comment"> *     that synchronizes on the object.</span></span><br><span class="line"><span class="comment"> * c. æ‰§è¡Œå¯¹åº”çš„é™æ€ä»£ç å—</span></span><br><span class="line"><span class="comment"> * &lt;li&gt;For objects of type &#123;<span class="doctag">@code</span> Class,&#125; by executing a</span></span><br><span class="line"><span class="comment"> *     synchronized static method of that class.</span></span><br><span class="line"><span class="comment"> * &lt;/ul&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * Only one thread at a time can own an object's monitor.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">notify</span><span class="params">()</span></span>;</span><br><span class="line">...</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å”¤é†’æ‰€æœ‰æ­£åœ¨ç­‰å¾…é˜Ÿåˆ—çš„çº¿ç¨‹</span></span><br><span class="line"><span class="comment"> * Wakes up all threads that are waiting on this object's monitor. A</span></span><br><span class="line"><span class="comment"> * thread waits on an object's monitor by calling one of the</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> wait&#125; methods.</span></span><br><span class="line"><span class="comment"> * ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">notifyAll</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><h2 id="é—®é¢˜æ€»ç»“"><a href="#é—®é¢˜æ€»ç»“" class="headerlink" title="é—®é¢˜æ€»ç»“"></a>é—®é¢˜æ€»ç»“</h2><h5 id="1ã€ä¸ºä»€ä¹ˆwaitå’Œnotifyåœ¨Objectæ–¹æ³•ä¸Šï¼Ÿ"><a href="#1ã€ä¸ºä»€ä¹ˆwaitå’Œnotifyåœ¨Objectæ–¹æ³•ä¸Šï¼Ÿ" class="headerlink" title="1ã€ä¸ºä»€ä¹ˆwaitå’Œnotifyåœ¨Objectæ–¹æ³•ä¸Šï¼Ÿ"></a>1ã€ä¸ºä»€ä¹ˆwaitå’Œnotifyåœ¨Objectæ–¹æ³•ä¸Šï¼Ÿ</h5><p> å› ä¸ºæˆ‘ä»¬çš„<strong>é”æ˜¯å¯¹è±¡é”</strong>ï¼Œ æ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥æˆä¸ºé”ã€‚<strong>è®©å½“å‰çº¿ç¨‹ç­‰å¾…æŸä¸ªå¯¹è±¡çš„é”ï¼Œå½“ç„¶åº”è¯¥é€šè¿‡è¿™ä¸ªå¯¹è±¡æ¥æ“ä½œäº†</strong>ã€‚  é”å¯¹è±¡æ˜¯<strong>ä»»æ„</strong>çš„ï¼Œæ‰€ä»¥è¿™äº›æ–¹æ³•å¿…é¡»å®šä¹‰åœ¨Objectç±»ä¸­ ã€‚</p><h5 id="2ã€sleepå’Œwaitæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#2ã€sleepå’Œwaitæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="2ã€sleepå’Œwaitæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>2ã€sleepå’Œwaitæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h5><p> <code>Thread.sleep()</code>ä¸<code>Object.wait()</code>äºŒè€…éƒ½å¯ä»¥æš‚åœå½“å‰çº¿ç¨‹ï¼Œé‡Šæ”¾CPUæ§åˆ¶æƒã€‚ ä¸»è¦çš„åŒºåˆ«åœ¨äº<code>Object.wait()</code>åœ¨é‡Šæ”¾CPUåŒæ—¶ï¼Œ<strong>é‡Šæ”¾äº†å¯¹è±¡é”çš„æ§åˆ¶</strong>ã€‚  è€Œ<code>Thread.sleep()</code>æ²¡æœ‰å¯¹é”é‡Šæ”¾ ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;åŠ æ²¹å§ï¼&lt;/p&gt;
&lt;p&gt;â€‹                                                                                                                                                   â€”â€“ me   &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="Java" scheme="penghui.club/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>TCPçš„å››æ¬¡æŒ¥æ‰‹</title>
    <link href="penghui.club/2020/07/01/TCP%E7%9A%84%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/"/>
    <id>penghui.club/2020/07/01/TCP%E7%9A%84%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/</id>
    <published>2020-07-01T08:34:02.000Z</published>
    <updated>2020-07-01T08:44:39.620Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>ç¬¬äºŒé«˜å³°æ˜¯ä¹”æˆˆé‡Œå³°ï¼Œç¬¬ä¸‰æ˜¯å¹²åŸç« å˜‰å³°ï¼Œç¬¬å››æ˜¯æ´›å­å³°ï¼Œç¬¬äº”æ˜¯é©¬å¡é²å³°ï¼Œï¼Œï¼Œï¼Œå…¶å®åªè¦å°½è‡ªå·±çš„èƒ½åŠ›ï¼Œæ— è®ºåšåˆ°ç¬¬å‡ ï¼Œéƒ½ä¼šæœ‰äººè®°ä½çš„ã€‚</p><p>â€‹                                                                                                                                                             â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„   </p></blockquote><a id="more"></a><h2 id="TCPå››æ¬¡æŒ¥æ‰‹"><a href="#TCPå››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCPå››æ¬¡æŒ¥æ‰‹"></a><strong>TCPå››æ¬¡æŒ¥æ‰‹</strong></h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/v2-c8b61ed2a249700583b11bc5d16c5711_hd.jpg" alt="v2-c8b61ed2a249700583b11bc5d16c5711_hd"></p><h3 id="ç¬¬ä¸€æ¬¡æŒ¥æ‰‹"><a href="#ç¬¬ä¸€æ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬ä¸€æ¬¡æŒ¥æ‰‹"></a><strong>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹</strong></h3><p>è‹¥Aè®¤ä¸ºæ•°æ®å‘é€å®Œæˆï¼Œåˆ™å®ƒéœ€è¦å‘Bå‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ã€‚è¯¥è¯·æ±‚åªæœ‰æŠ¥æ–‡å¤´ï¼Œå¤´ä¸­æºå¸¦çš„ä¸»è¦å‚æ•°ä¸ºï¼š<br>FIN=1ï¼Œseq=uã€‚æ­¤æ—¶ï¼ŒAå°†è¿›å…¥FIN-WAIT-1çŠ¶æ€ã€‚</p><ul><li>PS1ï¼šFIN=1è¡¨ç¤ºè¯¥æŠ¥æ–‡æ®µæ˜¯ä¸€ä¸ªè¿æ¥é‡Šæ”¾è¯·æ±‚ã€‚</li><li>PS2ï¼šseq=uï¼Œu-1æ˜¯Aå‘Bå‘é€çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚</li></ul><h3 id="ç¬¬äºŒæ¬¡æŒ¥æ‰‹"><a href="#ç¬¬äºŒæ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬äºŒæ¬¡æŒ¥æ‰‹"></a><strong>ç¬¬äºŒæ¬¡æŒ¥æ‰‹</strong></h3><p>Bæ”¶åˆ°è¿æ¥é‡Šæ”¾è¯·æ±‚åï¼Œä¼šé€šçŸ¥ç›¸åº”çš„åº”ç”¨ç¨‹åºï¼Œå‘Šè¯‰å®ƒAå‘Bè¿™ä¸ªæ–¹å‘çš„è¿æ¥å·²ç»é‡Šæ”¾ã€‚æ­¤æ—¶Bè¿›å…¥CLOSE-WAITçŠ¶æ€ï¼Œå¹¶å‘Aå‘é€è¿æ¥é‡Šæ”¾çš„åº”ç­”ï¼Œå…¶æŠ¥æ–‡å¤´åŒ…å«ï¼š<br>ACK=1ï¼Œseq=vï¼Œack=u+1ã€‚</p><ul><li>PS1ï¼šACK=1ï¼šé™¤TCPè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µä»¥å¤–ï¼ŒTCPé€šä¿¡è¿‡ç¨‹ä¸­æ‰€æœ‰æ•°æ®æŠ¥çš„ACKéƒ½ä¸º1ï¼Œè¡¨ç¤ºåº”ç­”ã€‚</li><li>PS2ï¼šseq=vï¼Œv-1æ˜¯Bå‘Aå‘é€çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚</li><li>PS3ï¼šack=u+1è¡¨ç¤ºå¸Œæœ›æ”¶åˆ°ä»ç¬¬u+1ä¸ªå­—èŠ‚å¼€å§‹çš„æŠ¥æ–‡æ®µï¼Œå¹¶ä¸”å·²ç»æˆåŠŸæ¥æ”¶äº†å‰uä¸ªå­—èŠ‚ã€‚</li></ul><p>Aæ”¶åˆ°è¯¥åº”ç­”ï¼Œè¿›å…¥FIN-WAIT-2çŠ¶æ€ï¼Œç­‰å¾…Bå‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ã€‚</p><p>ç¬¬äºŒæ¬¡æŒ¥æ‰‹å®Œæˆåï¼ŒAåˆ°Bæ–¹å‘çš„è¿æ¥å·²ç»é‡Šæ”¾ï¼ŒBä¸ä¼šå†æ¥æ”¶æ•°æ®ï¼ŒAä¹Ÿä¸ä¼šå†å‘é€æ•°æ®ã€‚ä½†Båˆ°Aæ–¹å‘çš„è¿æ¥ä»ç„¶å­˜åœ¨ï¼ŒBå¯ä»¥ç»§ç»­å‘Aå‘é€æ•°æ®ã€‚</p><h3 id="ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹"><a href="#ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹"></a><strong>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹</strong></h3><p>å½“Bå‘Aå‘å®Œæ‰€æœ‰æ•°æ®åï¼Œå‘Aå‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ï¼Œè¯·æ±‚å¤´ï¼šFIN=1ï¼ŒACK=1ï¼Œseq=wï¼Œack=u+1ã€‚Bä¾¿è¿›å…¥LAST-ACKçŠ¶æ€ã€‚</p><h3 id="ç¬¬å››æ¬¡æŒ¥æ‰‹"><a href="#ç¬¬å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬å››æ¬¡æŒ¥æ‰‹"></a><strong>ç¬¬å››æ¬¡æŒ¥æ‰‹</strong></h3><p>Aæ”¶åˆ°é‡Šæ”¾è¯·æ±‚åï¼Œå‘Bå‘é€ç¡®è®¤åº”ç­”ï¼Œæ­¤æ—¶Aè¿›å…¥TIME-WAITçŠ¶æ€ã€‚è¯¥çŠ¶æ€ä¼šæŒç»­2MSLæ—¶é—´ï¼Œè‹¥è¯¥æ—¶é—´æ®µå†…æ²¡æœ‰Bçš„é‡å‘è¯·æ±‚çš„è¯ï¼Œå°±è¿›å…¥CLOSEDçŠ¶æ€ï¼Œæ’¤é”€TCBã€‚å½“Bæ”¶åˆ°ç¡®è®¤åº”ç­”åï¼Œä¹Ÿä¾¿è¿›å…¥CLOSEDçŠ¶æ€ï¼Œæ’¤é”€TCBã€‚</p><h3 id="ä¸ºä»€ä¹ˆAè¦å…ˆè¿›å…¥TIME-WAITçŠ¶æ€ï¼Œç­‰å¾…2MSLæ—¶é—´åæ‰è¿›å…¥CLOSEDçŠ¶æ€ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆAè¦å…ˆè¿›å…¥TIME-WAITçŠ¶æ€ï¼Œç­‰å¾…2MSLæ—¶é—´åæ‰è¿›å…¥CLOSEDçŠ¶æ€ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆAè¦å…ˆè¿›å…¥TIME-WAITçŠ¶æ€ï¼Œç­‰å¾…2MSLæ—¶é—´åæ‰è¿›å…¥CLOSEDçŠ¶æ€ï¼Ÿ"></a><strong>ä¸ºä»€ä¹ˆAè¦å…ˆè¿›å…¥TIME-WAITçŠ¶æ€ï¼Œç­‰å¾…2MSLæ—¶é—´åæ‰è¿›å…¥CLOSEDçŠ¶æ€ï¼Ÿ</strong></h3><p>ä¸ºäº†ä¿è¯Bèƒ½æ”¶åˆ°Açš„ç¡®è®¤åº”ç­”ã€‚<br>è‹¥Aå‘å®Œç¡®è®¤åº”ç­”åç›´æ¥è¿›å…¥CLOSEDçŠ¶æ€ï¼Œé‚£ä¹ˆå¦‚æœè¯¥åº”ç­”ä¸¢å¤±ï¼ŒBç­‰å¾…è¶…æ—¶åå°±ä¼šé‡æ–°å‘é€è¿æ¥é‡Šæ”¾è¯·æ±‚ï¼Œä½†æ­¤æ—¶Aå·²ç»å…³é—­äº†ï¼Œä¸ä¼šä½œå‡ºä»»ä½•å“åº”ï¼Œå› æ­¤Bæ°¸è¿œæ— æ³•æ­£å¸¸å…³é—­</p><p>è½¬è½½ï¼š <a href="https://www.zhihu.com/question/24853633/answer/254224088" target="_blank" rel="noopener">https://www.zhihu.com/question/24853633/answer/254224088</a> </p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ç¬¬äºŒé«˜å³°æ˜¯ä¹”æˆˆé‡Œå³°ï¼Œç¬¬ä¸‰æ˜¯å¹²åŸç« å˜‰å³°ï¼Œç¬¬å››æ˜¯æ´›å­å³°ï¼Œç¬¬äº”æ˜¯é©¬å¡é²å³°ï¼Œï¼Œï¼Œï¼Œå…¶å®åªè¦å°½è‡ªå·±çš„èƒ½åŠ›ï¼Œæ— è®ºåšåˆ°ç¬¬å‡ ï¼Œéƒ½ä¼šæœ‰äººè®°ä½çš„ã€‚&lt;/p&gt;
&lt;p&gt;â€‹                                                                                                                                                             â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„   &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="penghui.club/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>TCPä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹</title>
    <link href="penghui.club/2020/07/01/TCP%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B/"/>
    <id>penghui.club/2020/07/01/TCP%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B/</id>
    <published>2020-07-01T08:10:45.000Z</published>
    <updated>2020-07-01T08:44:05.172Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><blockquote><p>ä¸–ç•Œä¸Šæœ€å­¤ç‹¬çš„é²¸é±¼ å‘å‡ºçš„é¢‘ç‡æ˜¯52èµ«å…¹ è€Œæ­£å¸¸é²¸é±¼æ˜¯15è‡³25èµ«å…¹ ä¸–ä¸Šæ²¡ä»»ä½•é²¸é±¼èƒ½å¬æ‡‚å®ƒ å®ƒæ²¡æœ‰é±¼ç¾¤ æ²¡æœ‰åŒç±» ä½†å®ƒæ²¡æ”¾å¼ƒå¤§æµ· ä»åƒé‡Œå¤–çš„å¤ªå¹³æ´‹æ¸¸åˆ°å¤§è¥¿æ´‹ çºµç„¶å‘å–ŠäºŒåäº”å¹´æ²¡äººåº”ç­” ä½†å¤§æµ·æœ‰å¤šæµ©ç€šå®ƒæ¯”åˆ«çš„é²¸é±¼éƒ½æ¸…æ¥šã€‚</p><p>â€‹                                                                                                                                                             â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„   </p></blockquote><a id="more"></a><h2 id="TCPä¸‰æ¬¡æ¡æ‰‹"><a href="#TCPä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="TCPä¸‰æ¬¡æ¡æ‰‹"></a><strong>TCPä¸‰æ¬¡æ¡æ‰‹</strong></h2><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/jisuanjiwangluo.jpg" alt="jisuanjiwangluo"></p><p>èµ·åˆï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½ä¸ºCLOSEDçŠ¶æ€ã€‚åœ¨é€šä¿¡å¼€å§‹å‰ï¼ŒåŒæ–¹éƒ½å¾—åˆ›å»ºå„è‡ªçš„ä¼ è¾“æ§åˆ¶å—ï¼ˆTCBï¼‰ã€‚<br>æœåŠ¡å™¨åˆ›å»ºå®ŒTCBåéè¿›å…¥LISTENçŠ¶æ€ï¼Œæ­¤æ—¶å‡†å¤‡æ¥æ”¶å®¢æˆ·ç«¯å‘æ¥çš„è¿æ¥è¯·æ±‚ã€‚</p><h3 id="ç¬¬ä¸€æ¬¡æ¡æ‰‹"><a href="#ç¬¬ä¸€æ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬ä¸€æ¬¡æ¡æ‰‹"></a><strong>ç¬¬ä¸€æ¬¡æ¡æ‰‹</strong></h3><p>å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚è¯¥æŠ¥æ–‡æ®µçš„å¤´éƒ¨ä¸­SYN=1ï¼ŒACK=0ï¼Œseq=xã€‚è¯·æ±‚å‘é€åï¼Œå®¢æˆ·ç«¯ä¾¿è¿›å…¥SYN-SENTçŠ¶æ€ã€‚</p><ul><li>PS1ï¼šSYN=1ï¼ŒACK=0è¡¨ç¤ºè¯¥æŠ¥æ–‡æ®µä¸ºè¿æ¥è¯·æ±‚æŠ¥æ–‡ã€‚</li><li>PS2ï¼šxä¸ºæœ¬æ¬¡TCPé€šä¿¡çš„å­—èŠ‚æµçš„åˆå§‹åºå·ã€‚<br>TCPè§„å®šï¼šSYN=1çš„æŠ¥æ–‡æ®µä¸èƒ½æœ‰æ•°æ®éƒ¨åˆ†ï¼Œä½†è¦æ¶ˆè€—æ‰ä¸€ä¸ªåºå·ã€‚</li></ul><h3 id="ç¬¬äºŒæ¬¡æ¡æ‰‹"><a href="#ç¬¬äºŒæ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬äºŒæ¬¡æ¡æ‰‹"></a><strong>ç¬¬äºŒæ¬¡æ¡æ‰‹</strong></h3><p>æœåŠ¡ç«¯æ”¶åˆ°è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå¦‚æœåŒæ„è¿æ¥ï¼Œåˆ™ä¼šå‘é€ä¸€ä¸ªåº”ç­”ï¼šSYN=1ï¼ŒACK=1ï¼Œseq=yï¼Œack=x+1ã€‚<br>è¯¥åº”ç­”å‘é€å®Œæˆåä¾¿è¿›å…¥SYN-RCVDçŠ¶æ€ã€‚</p><ul><li>PS1ï¼šSYN=1ï¼ŒACK=1è¡¨ç¤ºè¯¥æŠ¥æ–‡æ®µä¸ºè¿æ¥åŒæ„çš„åº”ç­”æŠ¥æ–‡ã€‚</li><li>PS2ï¼šseq=yè¡¨ç¤ºæœåŠ¡ç«¯ä½œä¸ºå‘é€è€…æ—¶ï¼Œå‘é€å­—èŠ‚æµçš„åˆå§‹åºå·ã€‚</li><li>PS3ï¼šack=x+1è¡¨ç¤ºæœåŠ¡ç«¯å¸Œæœ›ä¸‹ä¸€ä¸ªæ•°æ®æŠ¥å‘é€åºå·ä»x+1å¼€å§‹çš„å­—èŠ‚ã€‚</li></ul><h3 id="ç¬¬ä¸‰æ¬¡æ¡æ‰‹"><a href="#ç¬¬ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬ä¸‰æ¬¡æ¡æ‰‹"></a><strong>ç¬¬ä¸‰æ¬¡æ¡æ‰‹</strong></h3><p>å½“å®¢æˆ·ç«¯æ”¶åˆ°è¿æ¥åŒæ„çš„åº”ç­”åï¼Œè¿˜è¦å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªç¡®è®¤æŠ¥æ–‡æ®µï¼Œè¡¨ç¤ºï¼šæœåŠ¡ç«¯å‘æ¥çš„è¿æ¥åŒæ„åº”ç­”å·²ç»æˆåŠŸæ”¶åˆ°ã€‚<br>è¯¥æŠ¥æ–‡æ®µçš„å¤´éƒ¨ä¸ºï¼šACK=1ï¼Œseq=x+1ï¼Œack=y+1ã€‚<br>å®¢æˆ·ç«¯å‘å®Œè¿™ä¸ªæŠ¥æ–‡æ®µåä¾¿è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¿™ä¸ªåº”ç­”åä¹Ÿè¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œæ­¤æ—¶è¿æ¥çš„å»ºç«‹å®Œæˆï¼</p><h3 id="ä¸ºä»€ä¹ˆè¿æ¥å»ºç«‹éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¿æ¥å»ºç«‹éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¿æ¥å»ºç«‹éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Ÿ"></a><strong>ä¸ºä»€ä¹ˆè¿æ¥å»ºç«‹éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Ÿ</strong></h3><p>é˜²æ­¢å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µè¢«æœåŠ¡ç«¯æ¥æ”¶ï¼Œä»è€Œäº§ç”Ÿé”™è¯¯ã€‚</p><p>PSï¼šå¤±æ•ˆçš„è¿æ¥è¯·æ±‚ï¼šè‹¥å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€çš„è¿æ¥è¯·æ±‚ä¸¢å¤±ï¼Œå®¢æˆ·ç«¯ç­‰å¾…åº”ç­”è¶…æ—¶åå°±ä¼šå†æ¬¡å‘é€è¿æ¥è¯·æ±‚ï¼Œæ­¤æ—¶ï¼Œä¸Šä¸€ä¸ªè¿æ¥è¯·æ±‚å°±æ˜¯ã€å¤±æ•ˆçš„ã€ã€‚</p><p><span style="background-color: yellow; color:red;">è‹¥å»ºç«‹è¿æ¥åªéœ€ä¸¤æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å¹¶æ²¡æœ‰å¤ªå¤§çš„å˜åŒ–ï¼Œä»ç„¶éœ€è¦è·å¾—æœåŠ¡ç«¯çš„åº”ç­”åæ‰è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œè€ŒæœåŠ¡ç«¯åœ¨æ”¶åˆ°è¿æ¥è¯·æ±‚åå°±è¿›å…¥ESTABLISHEDçŠ¶æ€ã€‚æ­¤æ—¶å¦‚æœç½‘ç»œæ‹¥å¡ï¼Œå®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚è¿Ÿè¿Ÿåˆ°ä¸äº†æœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯ä¾¿è¶…æ—¶é‡å‘è¯·æ±‚ï¼Œå¦‚æœæœåŠ¡ç«¯æ­£ç¡®æ¥æ”¶å¹¶ç¡®è®¤åº”ç­”ï¼ŒåŒæ–¹ä¾¿å¼€å§‹é€šä¿¡ï¼Œé€šä¿¡ç»“æŸåé‡Šæ”¾è¿æ¥ã€‚æ­¤æ—¶ï¼Œå¦‚æœé‚£ä¸ªå¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠµè¾¾äº†æœåŠ¡ç«¯ï¼Œç”±äºåªæœ‰ä¸¤æ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚å°±ä¼šè¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œç­‰å¾…å‘é€æ•°æ®æˆ–ä¸»åŠ¨å‘é€æ•°æ®ã€‚ä½†æ­¤æ—¶çš„å®¢æˆ·ç«¯æ—©å·²è¿›å…¥CLOSEDçŠ¶æ€ï¼ŒæœåŠ¡ç«¯å°†ä¼šä¸€ç›´ç­‰å¾…ä¸‹å»ï¼Œè¿™æ ·æµªè´¹æœåŠ¡ç«¯è¿æ¥èµ„æºã€‚</span></p><p>è½¬è½½ï¼š<a href="https://www.zhihu.com/question/24853633/answer/254224088" target="_blank" rel="noopener">https://www.zhihu.com/question/24853633/answer/254224088</a></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä¸–ç•Œä¸Šæœ€å­¤ç‹¬çš„é²¸é±¼ å‘å‡ºçš„é¢‘ç‡æ˜¯52èµ«å…¹ è€Œæ­£å¸¸é²¸é±¼æ˜¯15è‡³25èµ«å…¹ ä¸–ä¸Šæ²¡ä»»ä½•é²¸é±¼èƒ½å¬æ‡‚å®ƒ å®ƒæ²¡æœ‰é±¼ç¾¤ æ²¡æœ‰åŒç±» ä½†å®ƒæ²¡æ”¾å¼ƒå¤§æµ· ä»åƒé‡Œå¤–çš„å¤ªå¹³æ´‹æ¸¸åˆ°å¤§è¥¿æ´‹ çºµç„¶å‘å–ŠäºŒåäº”å¹´æ²¡äººåº”ç­” ä½†å¤§æµ·æœ‰å¤šæµ©ç€šå®ƒæ¯”åˆ«çš„é²¸é±¼éƒ½æ¸…æ¥šã€‚&lt;/p&gt;
&lt;p&gt;â€‹                                                                                                                                                             â€”â€“ ç½‘æ˜“äº‘çƒ­è¯„   &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="è®¡ç®—æœºç½‘ç»œ" scheme="penghui.club/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®åº“äº‹åŠ¡æ¦‚å¿µç†è§£</title>
    <link href="penghui.club/2020/06/25/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1%E6%A6%82%E5%BF%B5%E7%90%86%E8%A7%A3/"/>
    <id>penghui.club/2020/06/25/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1%E6%A6%82%E5%BF%B5%E7%90%86%E8%A7%A3/</id>
    <published>2020-06-25T11:26:44.000Z</published>
    <updated>2020-06-25T12:53:21.149Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><pre><code>æœ‰çš„äººåªè¦è·‹å±±æ¶‰æ°´å°±å¯ä»¥è§é¢ã€‚ åªæœ‰å°‘æ•°äººï¼Œéœ€è¦æ—¶å…‰æœºæ‰èƒ½è§é¢ã€‚ æˆ‘åœ¨ç­‰ä¸€åœºæ„å¤–çš„æ­»äº¡ ç„¶åç¬‘ç€å»è§å­Ÿå©†                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</code></pre><a id="more"></a><h2 id="1ã€äº‹åŠ¡ç®€ä»‹"><a href="#1ã€äº‹åŠ¡ç®€ä»‹" class="headerlink" title="1ã€äº‹åŠ¡ç®€ä»‹"></a>1ã€äº‹åŠ¡ç®€ä»‹</h2><p><strong style="background-color: yellow; color: red;">äº‹åŠ¡ï¼Œç®€çŸ­çš„è¯´å°±æ˜¯ä¸€ç»„æ“ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸åšï¼Œç»ä¸å…è®¸åªåšå…¶ä¸­çš„ä¸€éƒ¨åˆ†æ“ä½œã€‚</strong ><br>æ¯”å¦‚é“¶è¡Œè½¬è´¦ï¼ŒAè´¦å·è½¬ç»™Bè´¦å·1000å…ƒï¼Œå…¶ä¸­åŒ…æ‹¬ä¸¤ä¸ªæ“ä½œA-1000ã€B+1000ï¼Œè¦ä¹ˆè¿™ä¸¤ä¸ªæ“ä½œå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸åšï¼Œå†³ä¸å…è®¸åªæ‰§è¡Œå…¶ä¸­ä¸€ä¸ªæ“ä½œï¼ˆä½ å¯ä»¥æƒ³æƒ³æƒ³å¦‚æœA-1000ï¼Œä½†æ˜¯Bæ²¡æœ‰+1000ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿ/æ–œçœ¼ç¬‘/æ–œçœ¼ç¬‘ï¼‰ã€‚</p><h3 id="äº‹åŠ¡å›æ»š"><a href="#äº‹åŠ¡å›æ»š" class="headerlink" title="äº‹åŠ¡å›æ»š:"></a><strong>äº‹åŠ¡å›æ»š</strong>:</h3><p>å½“ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿäº†å¼‚å¸¸ã€é”™è¯¯ï¼Œåˆ™é‡æ–°å›åˆ°æœ€å…ˆæœªå¼€å§‹æ‰§è¡Œçš„è¿‡ç¨‹ã€‚æ¯”å¦‚ä¸Šé¢é‚£ä¸ªé“¶è¡Œè½¬è´¦è¿‡ç¨‹ï¼Œå‡è®¾A-1000æ“ä½œå·²ç»å®Œæˆï¼Œä½†æ˜¯åœ¨æ‰§è¡ŒB+1000æ“ä½œæ—¶ï¼Œç³»ç»Ÿå‘ç”Ÿä½ç½®é”™è¯¯ï¼Œè¿™æ—¶éœ€è¦å›åˆ°æœªæ‰§è¡Œè¯¥è½¬è´¦æ“ä½œä¹‹å‰çš„çŠ¶æ€ï¼Œå³Aã€BåŸæ¥å¤šå°‘é’±è¿˜æ˜¯å¤šå°‘é’±ï¼Œä¸€åˆ†ä¸èƒ½å°‘ã€‚</p><h3 id="äº‹åŠ¡æäº¤"><a href="#äº‹åŠ¡æäº¤" class="headerlink" title="äº‹åŠ¡æäº¤:"></a>äº‹åŠ¡æäº¤:</h3><p>å½“ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹æ²¡æœ‰å‘ç”Ÿä»»ä½•å¼‚å¸¸ã€é”™è¯¯ï¼Œè¿™æ—¶æˆ‘ä»¬è¦ä¿å­˜è¿™ä¸ªäº‹åŠ¡çš„ä¿®æ”¹ã€‚æ¯”å¦‚ä¸Šé¢çš„é“¶è¡Œè½¬è´¦è¿‡ç¨‹ï¼Œå‡è®¾A-1000ã€B+1000æ“ä½œå…¨éƒ¨å®Œæˆï¼Œæ²¡æœ‰å‡ºç°ä»»ä½•å¼‚å¸¸ã€é”™è¯¯ï¼Œè¿™æ—¶éœ€è¦ä¿å­˜äº‹åŠ¡æ‰§è¡ŒçŠ¶æ€ä¿®æ”¹ï¼ˆAå‡å°‘äº†1000å…ƒï¼ŒBå¢åŠ äº†1000å…ƒï¼‰ï¼Œå³äº‹åŠ¡æäº¤ã€‚</p><h2 id="2ã€äº‹åŠ¡çš„ç‰¹æ€§-ACID"><a href="#2ã€äº‹åŠ¡çš„ç‰¹æ€§-ACID" class="headerlink" title="2ã€äº‹åŠ¡çš„ç‰¹æ€§(ACID)"></a>2ã€äº‹åŠ¡çš„ç‰¹æ€§(ACID)</h2><p>äº‹åŠ¡å…·æœ‰<strong>å››å¤§ç‰¹æ€§</strong>ï¼Œå¦‚ä¸‹ï¼š</p><p><strong>â‘ ã€åŸå­æ€§(Atomicity)</strong>ï¼šæ•´ä½“ ã€åŸå­æ€§æ˜¯æŒ‡äº‹åŠ¡åŒ…å«çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‘<br><strong>â‘¡ã€ä¸€è‡´æ€§(Consistency)</strong>ï¼šæ•°æ® ã€äº‹åŠ¡æäº¤åçš„çŠ¶æ€åˆé›†ç§°ä¸ºä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯æ•°æ®åº“åªåŒ…å«äº‹åŠ¡æäº¤çš„çŠ¶æ€ã€‘<br><strong>â‘¢ã€éš”ç¦»æ€§(Isolation)</strong>ï¼šå¹¶å‘ ã€å¯¹äºä»»æ„ä¸¤ä¸ªå¹¶å‘çš„äº‹åŠ¡Aå’ŒBï¼Œåœ¨äº‹åŠ¡Açœ‹æ¥ï¼ŒBè¦ä¹ˆåœ¨Aå¼€å§‹ä¹‹å‰å°±å·²ç»ç»“æŸï¼Œè¦ä¹ˆåœ¨Aç»“æŸä¹‹åæ‰å¼€å§‹ï¼Œè¿™æ ·æ¯ä¸ªäº‹åŠ¡éƒ½æ„Ÿè§‰ä¸åˆ°æœ‰å…¶ä»–äº‹åŠ¡åœ¨å¹¶å‘åœ°æ‰§è¡Œã€‚ã€‘<br><strong>â‘£ã€æŒä¹…æ€§(Durability)</strong>ï¼šç»“æœ ã€æŒä¹…æ€§æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤äº†ï¼Œå°±ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…æ€§çš„ã€‘</p><h2 id="3ã€äº‹åŠ¡éš”ç¦»é—®é¢˜"><a href="#3ã€äº‹åŠ¡éš”ç¦»é—®é¢˜" class="headerlink" title="3ã€äº‹åŠ¡éš”ç¦»é—®é¢˜"></a>3ã€äº‹åŠ¡éš”ç¦»é—®é¢˜</h2><p>ç”±äºäº‹åŠ¡å¯åŒ…å«å¤šä¸ªæ“ä½œï¼Œåœ¨å¤šä¸ªå®¢æˆ·ç«¯å¹¶å‘è®¿é—®è¿‡ç¨‹ï¼Œå¯èƒ½ä¼šå‘ç”Ÿä¸€ä¸ªäº‹åŠ¡åªåšäº†ä¸€éƒ¨åˆ†æ“ä½œï¼Œæ­¤æ—¶å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¹Ÿå¼€å§‹æ‰§è¡Œï¼Œé‚£ä¹ˆå‰ä¸€ä¸ªäº‹åŠ¡çš„åªæ‰§è¡Œéƒ¨åˆ†æ“ä½œçš„ä¸­é—´çŠ¶æ€ä¼šç»™ç¬¬äºŒä¸ªäº‹åŠ¡é€ æˆå½±å“ã€‚</p><p>å†ä¸¾ä¸ªè½¬è´¦çš„ä¾‹å­ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªäº‹åŠ¡åŒ…å«A-100000ï¼ŒB+100000ä¸¤ä¸ªæ“ä½œï¼Œå½“å®ƒæŠŠä¸¤ä¸ªæ“ä½œæ‰§è¡Œå®Œåï¼Œæ­£å‡†å¤‡æäº¤ï¼Œæ°åœ¨æ­¤æ—¶å¦å¤–ä¸€ä¸ªå®¢æˆ·ç«¯Bå¼€å¯äº†ç¬¬äºŒä¸ªäº‹åŠ¡æ£€æŸ¥å®ƒçš„ä½™é¢ï¼Œæ­¤æ—¶å·²ç»åˆ°è´¦äº†100000å…ƒã€‚ä½†æ˜¯ç¬¬ä¸€ä¸ªäº‹åŠ¡å¯¹åº”çš„å“ªä¸ªé¡¾å®¢å‘ç°è½¬é”™äººäº†ï¼Œæ‰€ä»¥æ‰§è¡Œäº†äº‹åŠ¡å›æ»šï¼Œé‚£ä¹ˆAã€BåŸæ¥å¤šå°‘é’±è¿˜æ˜¯å¤šå°‘é’±ï¼Œæ­¤æ—¶Bå®¢æˆ·çš„äº‹åŠ¡å†æŸ¥å®ƒçš„ä½™é¢å‘ç°ä¹‹å‰çš„100000å…ƒåˆä¸è§äº†ï¼</p><h3 id="â‘ ã€è¯»æœªæäº¤è¯»-Read-Uncommitted-ï¼Œä¹Ÿç§°è„è¯»"><a href="#â‘ ã€è¯»æœªæäº¤è¯»-Read-Uncommitted-ï¼Œä¹Ÿç§°è„è¯»" class="headerlink" title="â‘ ã€è¯»æœªæäº¤è¯»(Read Uncommitted)ï¼Œä¹Ÿç§°è„è¯»:"></a><strong>â‘ ã€è¯»æœªæäº¤è¯»(Read Uncommitted)ï¼Œä¹Ÿç§°è„è¯»</strong>:</h3><p>ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„å†…å®¹äº‹åŠ¡Bè¯»çœ‹åˆ°äº‹åŠ¡Aæ²¡æœ‰æäº¤çš„å†…å®¹ï¼Œæ¯”å¦‚å¯¹Aã€Bè´¦æˆ·çš„ä¿®æ”¹ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20191204113244757.jpg" alt="20191204113244757"></p><h3 id="â‘¡ã€ä¸å¯é‡å¤è¯»-Read-Committed"><a href="#â‘¡ã€ä¸å¯é‡å¤è¯»-Read-Committed" class="headerlink" title="â‘¡ã€ä¸å¯é‡å¤è¯»(Read Committed):"></a><strong>â‘¡ã€ä¸å¯é‡å¤è¯»(Read Committed)</strong>:</h3><p>ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°å¦ä¸€ä¸ªäº‹åŠ¡å·²æäº¤çš„å†…å®¹ï¼ˆä¸»è¦æ˜¯æ•°æ®æ›´æ–°ï¼‰æ­¤çº§åˆ«è§£å†³äº†è¯»æœªæäº¤è¯»çš„é—®é¢˜ï¼Œå³å…¶å®ƒäº‹åŠ¡æ²¡æœ‰æäº¤çš„å†…å®¹å¯¹æœ¬äº‹åŠ¡ä¸å¯è§ã€‚<br>ä½†æ˜¯äº‹åŠ¡Bèƒ½è¯»åˆ°äº‹åŠ¡Aæäº¤çš„æ•°æ®æ›´æ–°å†…å®¹ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20191204113555818.jpg" alt="20191204113555818"></p><h3 id="â‘¢ã€å¯é‡å¤è¯»-Repeatable-Read-ï¼Œè™šè¯»ï¼ˆå¹»è¯»ï¼‰ï¼š"><a href="#â‘¢ã€å¯é‡å¤è¯»-Repeatable-Read-ï¼Œè™šè¯»ï¼ˆå¹»è¯»ï¼‰ï¼š" class="headerlink" title="â‘¢ã€å¯é‡å¤è¯»(Repeatable Read)ï¼Œè™šè¯»ï¼ˆå¹»è¯»ï¼‰ï¼š"></a><strong>â‘¢ã€å¯é‡å¤è¯»(Repeatable Read)ï¼Œè™šè¯»ï¼ˆå¹»è¯»ï¼‰</strong>ï¼š</h3><p>ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°å¦ä¸€ä¸ªäº‹åŠ¡å·²æäº¤çš„å†…å®¹ï¼ˆä¸»è¦æ˜¯æ•°æ®æ’å…¥ï¼‰æ­¤çº§åˆ«è§£å†³äº†è¯»æœªæäº¤è¯»ã€ä¸å¯é‡å¤è¯»çš„é—®é¢˜ï¼Œäº‹åŠ¡Bèƒ½è¯»åˆ°äº‹åŠ¡Aæäº¤çš„æ•°æ®æ’å…¥å†…å®¹ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20191204114519339.jpg" alt="20191204114519339"></p><h3 id="â‘£ã€å¯ä¸²è¡ŒåŒ–-Serializable-ï¼š"><a href="#â‘£ã€å¯ä¸²è¡ŒåŒ–-Serializable-ï¼š" class="headerlink" title="â‘£ã€å¯ä¸²è¡ŒåŒ–(Serializable)ï¼š"></a><strong>â‘£ã€å¯ä¸²è¡ŒåŒ–(Serializable)</strong>ï¼š</h3><p>æœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œé€šè¿‡å¼ºåˆ¶äº‹åŠ¡æ’åºï¼Œä½¿ä¹‹ä¸å¯èƒ½ç›¸äº’å†²çªï¼Œä»è€Œè§£å†³å¹»è¯»é—®é¢˜ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20191204120121806.jpg" alt="20191204120121806"></p><h2 id="4ã€äº‹åŠ¡é”"><a href="#4ã€äº‹åŠ¡é”" class="headerlink" title="4ã€äº‹åŠ¡é”"></a>4ã€äº‹åŠ¡é”</h2><p>ä¸ºäº†è§£å†³äº‹åŠ¡éš”ç¦»æ€§é—®é¢˜ï¼Œå¼•å…¥é”çš„æ¦‚å¿µï¼Œåªæœ‰æ‹¿åˆ°é”çš„äº‹åŠ¡æ‰å¯å¯¹æ•°æ®åº“è¿›è¡Œè¯»å†™æ“ä½œ\color{red}åªæœ‰æ‹¿åˆ°é”çš„äº‹åŠ¡æ‰å¯å¯¹æ•°æ®åº“è¿›è¡Œè¯»å†™æ“ä½œåªæœ‰æ‹¿åˆ°é”çš„äº‹åŠ¡æ‰å¯å¯¹æ•°æ®åº“è¿›è¡Œè¯»å†™æ“ä½œã€‚äº‹åŠ¡æœ‰ä¸¤ç§é”ï¼Œå¹¶ä¸”æœ‰ç›¸åº”çš„æƒé™ã€‚</p><h3 id="â‘ ã€è¯»é”ï¼Œä¹Ÿç§°ä¸ºå…±äº«é”ã€‚"><a href="#â‘ ã€è¯»é”ï¼Œä¹Ÿç§°ä¸ºå…±äº«é”ã€‚" class="headerlink" title="â‘ ã€è¯»é”ï¼Œä¹Ÿç§°ä¸ºå…±äº«é”ã€‚"></a>â‘ ã€è¯»é”ï¼Œä¹Ÿç§°ä¸ºå…±äº«é”ã€‚</h3><p>æŸä¸ªäº‹åŠ¡Aæ‹¿åˆ°è¯¥é”æ—¶ï¼Œäº‹åŠ¡Aåªèƒ½è¿›è¡Œè¯»æ“ä½œï¼Œæ­¤æ—¶å…¶ä»–äº‹åŠ¡ä¹Ÿå¯ä»¥æ‹¿åˆ°è¿™æŠŠé”ï¼ˆå…±äº«ï¼‰ã€‚</p><h3 id="â‘¡ã€å†™é”ï¼Œä¹Ÿç§°ä¸ºæ’å®ƒé”ã€‚"><a href="#â‘¡ã€å†™é”ï¼Œä¹Ÿç§°ä¸ºæ’å®ƒé”ã€‚" class="headerlink" title="â‘¡ã€å†™é”ï¼Œä¹Ÿç§°ä¸ºæ’å®ƒé”ã€‚"></a>â‘¡ã€å†™é”ï¼Œä¹Ÿç§°ä¸ºæ’å®ƒé”ã€‚</h3><p>æŸä¸ªäº‹åŠ¡Aæ‹¿åˆ°è¯¥é”æ—¶ï¼Œäº‹åŠ¡Aèƒ½è¿›è¡Œè¯»ã€å†™æ“ä½œï¼Œæ­¤æ—¶å…¶ä»–äº‹åŠ¡ä¸èƒ½æ‹¿åˆ°è¿™æŠŠé”ï¼ˆæ’å®ƒï¼‰ã€‚<br>å¦‚æœæŸä¸ªäº‹åŠ¡Aæ‹¿åˆ°äº†è¯»é”ï¼Œå…¶å®ƒäº‹åŠ¡å¯ä»¥æ‹¿åˆ°è¯»é”ï¼ˆå…±äº«ï¼‰ï¼Œä½†æ˜¯æ— æ³•è·å–å†™é”ã€‚<br>å¦‚æœæŸä¸ªäº‹åŠ¡Aæ‹¿åˆ°äº†å†™é”ï¼Œå…¶ä»–äº‹åŠ¡æ—¢ä¸èƒ½æ‹¿åˆ°å†™é”ï¼Œä¹Ÿæ‹¿ä¸åˆ°è¯»é”ï¼</p><h3 id="â‘¢ã€é”çš„ç²’åº¦"><a href="#â‘¢ã€é”çš„ç²’åº¦" class="headerlink" title="â‘¢ã€é”çš„ç²’åº¦"></a>â‘¢ã€é”çš„ç²’åº¦</h3><p>æ‰€è°“é”çš„ç²’åº¦ï¼Œå°±æ˜¯é”çš„èŒƒå›´ï¼Œæ¯”å¦‚å¦‚æœé”çš„èŒƒå›´æ˜¯ä¸€å¼ è¡¨ï¼Œåˆ™äº‹åŠ¡Aè·å–å†™é”åï¼Œåªèƒ½äº‹åŠ¡Aè¿›è¡Œè¯»ã€å†™ï¼Œå…¶ä»–äº‹åŠ¡å…¨éƒ¨è¦é è¾¹ç«™ã€‚<br>å¦‚æœé”çš„ç²’åº¦æ˜¯äº‹åŠ¡Aéœ€è¦æ“ä½œçš„æŸå‡ è¡Œè®°å½•ï¼Œå…¶å®ƒè®°å½•å¦‚æœå…¶ä»–äº‹åŠ¡æ‹¿åˆ°é”ä»ç„¶å¯ä»¥è¯»ã€å†™ã€‚</p><p><strong>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé”çš„ç²’åº¦è¶Šå°ï¼ˆé”çš„èŒƒå›´å°ï¼‰ï¼Œåˆ™å¹¶å‘é—®é¢˜è§£å†³è¶Šå¥½ï¼ˆäº‹åŠ¡éƒ½æ˜¯å¹¶å‘æ‰§è¡Œï¼‰ï¼Œä½†æ˜¯æ•ˆç‡è¶Šä½ï¼Œå› ä¸ºéœ€è¦å¤§é‡çš„èµ„æºæ¥ç¡®ä¿å„ä¸ªäº‹åŠ¡çš„é”çš„ç²’åº¦æ²¡æœ‰äº¤é›†ã€å†²çªã€‚</strong></p><p><strong>é”çš„ç²’åº¦è¶Šå¤§ï¼ˆé”çš„èŒƒå›´å¤§ï¼‰ï¼Œåˆ™å¹¶å‘é—®é¢˜è§£å†³è¶Šå·®ï¼ˆå…¶ä»–äº‹åŠ¡éƒ½åœ¨ç­‰å¾…ï¼‰ï¼Œä½†æ˜¯æ•ˆç‡è¾ƒé«˜ï¼Œå› ä¸ºä¸è¦èµ„æºæ¥æ§åˆ¶å„ä¸ªäº‹åŠ¡çš„é”ç²’åº¦äº¤é›†é—®é¢˜ã€‚</strong></p><h2 id="5ã€è¿ç”¨é”è§£å†³éš”ç¦»æ€§é—®é¢˜"><a href="#5ã€è¿ç”¨é”è§£å†³éš”ç¦»æ€§é—®é¢˜" class="headerlink" title="5ã€è¿ç”¨é”è§£å†³éš”ç¦»æ€§é—®é¢˜"></a>5ã€è¿ç”¨é”è§£å†³éš”ç¦»æ€§é—®é¢˜</h2><p>è¿™é‡Œæ¼”ç¤ºä¸€ä¸‹ä½¿ç”¨å†™é”è§£å†³è¯»æœªæäº¤è¯»çš„é—®é¢˜ï¼Œå…¶å®ƒå¹¶å‘é—®é¢˜éƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼çš„æ–¹æ³•è§£å†³ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20191204124729517.jpg" alt="20191204124729517"></p><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://blog.csdn.net/qq_41855420/article/details/103382189" target="_blank" rel="noopener">https://blog.csdn.net/qq_41855420/article/details/103382189</a></p>]]></content>
    
    <summary type="html">
    
      æ•°æ®åº“äº‹åŠ¡æ¦‚å¿µ
    
    </summary>
    
    
    
      <category term="æ•°æ®åº“" scheme="penghui.club/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®ç»“æ„ä¹‹äºŒå‰æœç´¢æ ‘è¯¦è§£(é™„C++ä»£ç å®ç°æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤æ“ä½œ)</title>
    <link href="penghui.club/2020/06/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E8%AF%A6%E8%A7%A3-%E9%99%84C-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%9F%A5%E6%89%BE%E3%80%81%E6%8F%92%E5%85%A5%E3%80%81%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C/"/>
    <id>penghui.club/2020/06/24/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E8%AF%A6%E8%A7%A3-%E9%99%84C-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E6%9F%A5%E6%89%BE%E3%80%81%E6%8F%92%E5%85%A5%E3%80%81%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C/</id>
    <published>2020-06-24T09:43:19.000Z</published>
    <updated>2020-06-25T12:53:39.016Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤šå¹´ä»¥åçš„æŸä¸ªæ·±å¤œã€‚ä½ ä¼šä¸ä¼šçªç„¶æƒ³èµ·æˆ‘ ç„¶åæ³ªå¦‚æ³‰æ¶Œ ã€‚æ‰å‘ç°ä½ æ›¾äºæ¬ æˆ‘å¤ªå¤šã€‚ä½ é™ªæˆ‘ä¸€ç¨‹ã€‚å¯æˆ‘ä¼šæƒ¦è®°ä½ ä¸€ç”Ÿã€‚</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="äºŒå‰æœç´¢æ ‘è¯¦è§£"><a href="#äºŒå‰æœç´¢æ ‘è¯¦è§£" class="headerlink" title="äºŒå‰æœç´¢æ ‘è¯¦è§£"></a>äºŒå‰æœç´¢æ ‘è¯¦è§£</h2><h3 id="ä¸€ã€äºŒå‰æœç´¢æ ‘ç®€è¿°"><a href="#ä¸€ã€äºŒå‰æœç´¢æ ‘ç®€è¿°" class="headerlink" title="ä¸€ã€äºŒå‰æœç´¢æ ‘ç®€è¿°"></a>ä¸€ã€<code>äºŒå‰æœç´¢æ ‘</code>ç®€è¿°</h3><p>â€ƒâ€ƒäºŒå‰æœç´¢æ ‘å¤§è‡´å®šä¹‰ä¸ºäºŒå‰æ ‘çš„å·¦å­æ ‘ä»»æ„èŠ‚ç‚¹çš„å€¼å°äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå³å­æ ‘ä»»æ„èŠ‚ç‚¹çš„å€¼å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå¹¶ä¸”å·¦å­æ ‘ã€å³å­æ ‘åŒæ ·ä¹Ÿç¬¦åˆäºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚ä¸­åºéå†é¡ºåºä¸ºå·¦æ ¹å³ï¼Œæ‰€ä»¥äºŒå‰æœç´¢æ ‘çš„å…¸å‹ç‰¹å¾æ˜¯ä¸­åºéå†åºåˆ—æœ‰åºã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/2020041722005953.jpg" alt="2020041722005953"></p><h3 id="äºŒã€äºŒå‰æœç´¢æ ‘ç›¸å…³æ“ä½œ"><a href="#äºŒã€äºŒå‰æœç´¢æ ‘ç›¸å…³æ“ä½œ" class="headerlink" title="äºŒã€äºŒå‰æœç´¢æ ‘ç›¸å…³æ“ä½œ"></a>äºŒã€äºŒå‰æœç´¢æ ‘ç›¸å…³æ“ä½œ</h3><p>â€ƒâ€ƒä¸ºäº†èƒ½è®©å¤§å®¶æ›´å¥½çš„ç†è§£äºŒå‰æœç´¢æ ‘ï¼Œå°†æä¾›C++çš„ç¼–ç å®ç°ã€‚ä¸‹é¢æ˜¯TreeNodeç»“æ„ä½“å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿™é‡Œé¢å¤–æ·»åŠ äº†parentæŒ‡é’ˆï¼Œä¸»è¦æ˜¯ä¸ºäº†è®¿é—®çˆ¶èŠ‚ç‚¹æ–¹ä¾¿</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="comment">// ä¸‰ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘çˆ¶èŠ‚ç‚¹ã€å·¦å­æ ‘æ ¹èŠ‚ç‚¹ã€å³å­æ ‘æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    TreeNode *parent;</span><br><span class="line">    TreeNode *left;</span><br><span class="line">    TreeNode *right;</span><br><span class="line">    TreeNode(<span class="keyword">int</span> value) : value(value), parent(<span class="literal">NULL</span>), left(<span class="literal">NULL</span>), right(<span class="literal">NULL</span>) &#123;&#125;</span><br><span class="line">    TreeNode(<span class="keyword">int</span> value, TreeNode *parent, TreeNode *left, TreeNode *right) &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;value = value;</span><br><span class="line">        <span class="keyword">this</span>-&gt;parent = parent;</span><br><span class="line">        <span class="keyword">this</span>-&gt;left = left;</span><br><span class="line">        <span class="keyword">this</span>-&gt;right =right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><span style="color: red;">æ¸©é¦¨æç¤ºï¼š</span>æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤èŠ‚ç‚¹ä¸‰ä¸ªæ“ä½œçš„å¤æ‚åº¦ä¾æ¬¡å¢åŠ ï¼Œå¦‚æœè§‰å¾—æœ‰ç‚¹å‹åŠ›ï¼Œè¯·æŒ‰ç…§é¡ºåºä¾æ¬¡é˜…è¯»ï¼Œç¨³æ‰ç¨³æ‰“ã€‚</p><h4 id="1ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æŸ¥æ‰¾"><a href="#1ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æŸ¥æ‰¾" class="headerlink" title="1ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æŸ¥æ‰¾"></a>1ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æŸ¥æ‰¾</h4><p>â€ƒâ€ƒäºŒå‰æœç´¢æ ‘è®¾è®¡æˆå·¦ &lt; æ ¹ &lt; å³ï¼ˆä¸­åºéå†æœ‰åºï¼‰ï¼Œä¸€ä¸ªå¾ˆé‡è¦çš„åŠ¨æœºå°±æ˜¯å¿«é€ŸæŸ¥æ‰¾ã€‚æœ‰è¿‡ä¸€ç‚¹ç®—æ³•åŸºç¡€çš„åº”è¯¥èƒ½æƒ³åˆ°æœ‰ä¸€ç§æœç´¢ç­–ç•¥éå¸¸ç›¸ä¼¼ï¼Œæ²¡é”™å°±æ˜¯äºŒåˆ†æœç´¢ï¼Œæ¯æ¬¡å°†targetä¸æœç´¢åŒºé—´ï¼ˆé€’å¢æœ‰åºï¼‰çš„ä¸­é—´å€¼midæ¯”è¾ƒï¼Œå¦‚æœtarget &lt; midåˆ™ç¼©å°æœç´¢åŒºé—´ä¸º[left, mid - 1],å¦‚æœtarget &gt; midåˆ™ç¼©å°æœç´¢åŒºé—´ä¸º[mid + 1, right],å¦åˆ™target == midã€‚è¾£ä¹ˆå†æ¥çœ‹çœ‹äºŒå‰æœç´¢æ ‘ä¸­æŸ¥æ‰¾çš„ä¼ªä»£ç ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">root æŒ‡å‘äºŒå‰æœç´¢æ ‘çš„æ ¹ï¼Œtargetä¸ºéœ€è¦æœç´¢çš„å€¼</span><br><span class="line"><span class="keyword">while</span> (root != <span class="literal">NULL</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> root-&gt;value == target</span><br><span class="line">        æˆåŠŸæœç´¢åˆ°äº† <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> root-&gt;value &gt; target</span><br><span class="line">        <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šrootçš„å³å­æ ‘æ¯”root-&gt;valueéƒ½å¤§ï¼Œrootçš„å·¦å­æ ‘æ¯”root-&gt;valueéƒ½å°</span></span><br><span class="line">        <span class="comment">// æ—¢ç„¶root-&gt;value &gt; targetï¼Œé‚£ä¹ˆåªå¯èƒ½å‡ºç°åœ¨å·¦å­æ ‘ï¼Œè½¬ç§»rootåˆ°å·¦å­æ ‘</span></span><br><span class="line">        root = root-&gt;left</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="comment">// å¦åˆ™root-&gt;value &lt; target</span></span><br><span class="line">        <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šrootçš„å³å­æ ‘æ¯”root-&gt;valueéƒ½å¤§ï¼Œrootçš„å·¦å­æ ‘æ¯”root-&gt;valueéƒ½å°</span></span><br><span class="line">        <span class="comment">// æ—¢ç„¶root-&gt;value &lt; targetï¼Œé‚£ä¹ˆåªå¯èƒ½å‡ºç°åœ¨å³å­æ ‘ï¼Œè½¬ç§»rootåˆ°å³å­æ ‘</span></span><br><span class="line">        root = root-&gt;right</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// root == NULLï¼ŒäºŒå‰æœç´¢æ ‘ä¸­æ²¡æœ‰target</span></span><br></pre></td></tr></table></figure><h5 id="C-ä»£ç å®ç°ï¼š"><a href="#C-ä»£ç å®ç°ï¼š" class="headerlink" title="C++ä»£ç å®ç°ï¼š"></a>C++ä»£ç å®ç°ï¼š</h5><p>// åœ¨äºŒå‰æœç´¢æ ‘ä¸­æŸ¥æ‰¾targetï¼Œå­˜åœ¨è¿”å›å¯¹åº”çš„æŒ‡é’ˆï¼Œå¦åˆ™è¿”NULL</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">TreeNode *<span class="title">searchNode</span><span class="params">(TreeNode *root, <span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (root != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;value == target) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;value &gt; target) &#123;</span><br><span class="line">            <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šrootçš„å³å­æ ‘æ¯”root-&gt;valueéƒ½å¤§ï¼Œrootçš„å·¦å­æ ‘æ¯”root-&gt;valueéƒ½å°</span></span><br><span class="line">            <span class="comment">// æ—¢ç„¶root-&gt;value &gt; targetï¼Œé‚£ä¹ˆåªå¯èƒ½å‡ºç°åœ¨å·¦å­æ ‘ï¼Œè½¬ç§»rootåˆ°å·¦å­æ ‘</span></span><br><span class="line">            root = root-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦åˆ™root-&gt;value &lt; target</span></span><br><span class="line">            <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šrootçš„å³å­æ ‘æ¯”root-&gt;valueéƒ½å¤§ï¼Œrootçš„å·¦å­æ ‘æ¯”root-&gt;valueéƒ½å°</span></span><br><span class="line">            <span class="comment">// æ—¢ç„¶root-&gt;value &lt; targetï¼Œé‚£ä¹ˆåªå¯èƒ½å‡ºç°åœ¨å³å­æ ‘ï¼Œè½¬ç§»rootåˆ°å³å­æ ‘</span></span><br><span class="line">            root = root-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æ’å…¥"><a href="#2ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æ’å…¥" class="headerlink" title="2ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æ’å…¥"></a>2ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„æ’å…¥</h4><p>â€ƒâ€ƒäºŒå‰æœç´¢æ ‘ä¸­æŸ¥æ‰¾å……åˆ†åˆ©ç”¨å·¦ &lt; æ ¹ &lt; å³ç‰¹æ€§ï¼Œè¾£ä¹ˆæ’å…¥ä¹Ÿèƒ½ç”¨ä¸Šè¿™ä¸ªç‰¹æ€§ä¹ˆï¼Ÿç­”æ¡ˆæ˜¯æ˜¾ç„¶çš„ã€‚<br>â€ƒâ€ƒé¦–å…ˆæ€è€ƒä¸€ä¸‹ï¼Œæˆ‘ä»¬æ’å…¥èŠ‚ç‚¹åæ˜¯ä¸æ˜¯è¿˜éœ€è¦ç»´æŒäºŒå‰æ ‘ä»ç„¶æ»¡è¶³äºŒå‰æœç´¢æ ‘ç‰¹æ€§ï¼Œè¿™æ˜¯å¿…é¡»çš„ï¼Œè¦ä¸èƒ½ä½ çš„äºŒå‰æœç´¢æ ‘å°±å˜æˆä¸€æ¬¡æ€§çš„äº†ã€‚è¾£ä¹ˆæˆ‘ä»¬å°±å…ˆè¦æ‰¾åˆ°å®ƒçœŸå®åº”è¯¥æ’å…¥çš„ä½ç½®ï¼Œä¿è¯ä¸­åºéå†ä¸ºé€’å¢æœ‰åºã€‚ä¸‹é¢æ˜¯åˆ é™¤çš„ä¼ªä»£ç .</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">root æŒ‡å‘äºŒå‰æœç´¢æ ‘çš„æ ¹ï¼Œvalueä¸ºéœ€è¦æ’å…¥çš„å€¼</span><br><span class="line"><span class="keyword">if</span> root == <span class="literal">NULL</span></span><br><span class="line">    <span class="comment">// äºŒå‰æœç´¢æ ‘ä¸ºç©ºï¼Œæ’å…¥çš„èŠ‚ç‚¹å³æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    root = <span class="keyword">new</span> TreeNode(value)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment">// æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ’å…¥çš„ä½ç½®</span></span><br><span class="line">    TreeNode *ptr = root;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ptr-&gt;value == value</span><br><span class="line">            <span class="comment">// æ ‘ä¸­å·²ç»å­˜åœ¨è¿™ä¸ªvalueï¼Œä¸è¿›è¡Œæ’å…¥ï¼ˆè¿™é‡Œç®€åŒ–é€»è¾‘ï¼‰</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ptr-&gt;value &gt; value</span><br><span class="line">            <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šptrçš„å³å­æ ‘æ¯”ptr-&gt;valueéƒ½å¤§ï¼Œptrçš„å·¦å­æ ‘æ¯”ptr-&gt;valueéƒ½å°</span></span><br><span class="line">            <span class="comment">// æ—¢ç„¶ptr-&gt;value &gt; valueï¼Œvalueåªèƒ½æ’å…¥ptrå·¦å­æ ‘</span></span><br><span class="line">            <span class="keyword">if</span> ptr-&gt;left == <span class="literal">NULL</span></span><br><span class="line">                <span class="comment">// å¦‚æœptrå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™æ’å…¥çš„èŠ‚ç‚¹æ­£å¥½åšå·¦å­æ ‘çš„æ ¹</span></span><br><span class="line">                ptr-&gt;left = <span class="keyword">new</span> TreeNode(value)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="comment">// å¦åˆ™è½¬ç§»åˆ°å·¦å­æ ‘ï¼Œç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                ptr = ptr-&gt;left</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šptrçš„å³å­æ ‘æ¯”ptr-&gt;valueéƒ½å¤§ï¼Œptrçš„å·¦å­æ ‘æ¯”ptr-&gt;valueéƒ½å°</span></span><br><span class="line">            <span class="comment">// æ—¢ç„¶ptr-&gt;value &lt; valueï¼Œvalueåªèƒ½æ’å…¥ptrå³å­æ ‘</span></span><br><span class="line">            <span class="keyword">if</span> ptr-&gt;right == <span class="literal">NULL</span></span><br><span class="line">                <span class="comment">// å¦‚æœptrå³å­æ ‘ä¸ºç©ºï¼Œåˆ™æ’å…¥çš„èŠ‚ç‚¹æ­£å¥½åšå³å­æ ‘çš„æ ¹</span></span><br><span class="line">                ptr-&gt;right = <span class="keyword">new</span> TreeNode(value)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="comment">// å¦åˆ™è½¬ç§»åˆ°å³å­æ ‘ï¼Œç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                ptr = ptr-&gt;right</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> root</span><br></pre></td></tr></table></figure><p>C++ä»£ç å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨äºŒå‰æœç´¢æ ‘ä¸­æ’å…¥valueï¼Œå¦‚æœäºŒå‰æ ‘ä¸­å·²ç»å­˜åœ¨åˆ™ä¸è¿›è¡Œæ’å…¥ï¼ˆç®€åŒ–å¤„ç†é€»è¾‘ï¼‰</span></span><br><span class="line"><span class="function">TreeNode *<span class="title">searchNode</span><span class="params">(TreeNode *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="comment">// äºŒå‰æœç´¢æ ‘ä¸ºç©ºï¼Œæ’å…¥çš„èŠ‚ç‚¹å³æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        root = <span class="keyword">new</span> TreeNode(value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ’å…¥çš„ä½ç½®</span></span><br><span class="line">        TreeNode *ptr = root;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ptr-&gt;value == value) &#123;</span><br><span class="line">                <span class="comment">// æ ‘ä¸­å·²ç»å­˜åœ¨è¿™ä¸ªvalueï¼Œä¸è¿›è¡Œæ’å…¥ï¼ˆè¿™é‡Œç®€åŒ–é€»è¾‘ï¼‰</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (ptr-&gt;value &gt; value) &#123;</span><br><span class="line">                <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šptrçš„å³å­æ ‘æ¯”ptr-&gt;valueéƒ½å¤§ï¼Œptrçš„å·¦å­æ ‘æ¯”ptr-&gt;valueéƒ½å°</span></span><br><span class="line">                <span class="comment">// æ—¢ç„¶ptr-&gt;value &gt; valueï¼Œvalueåªèƒ½æ’å…¥ptrå·¦å­æ ‘</span></span><br><span class="line">                <span class="keyword">if</span> (ptr-&gt;left == <span class="literal">NULL</span>) &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœptrå·¦å­æ ‘ä¸ºç©ºï¼Œåˆ™æ’å…¥çš„èŠ‚ç‚¹æ­£å¥½åšå·¦å­æ ‘çš„æ ¹</span></span><br><span class="line">                    ptr-&gt;left = <span class="keyword">new</span> TreeNode(value);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// å¦åˆ™è½¬ç§»åˆ°å·¦å­æ ‘ï¼Œç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                    ptr = ptr-&gt;left;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// æ³¨æ„äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾ï¼šptrçš„å³å­æ ‘æ¯”ptr-&gt;valueéƒ½å¤§ï¼Œptrçš„å·¦å­æ ‘æ¯”ptr-&gt;valueéƒ½å°</span></span><br><span class="line">                <span class="comment">// æ—¢ç„¶ptr-&gt;value &lt; valueï¼Œvalueåªèƒ½æ’å…¥ptrå³å­æ ‘</span></span><br><span class="line">                <span class="keyword">if</span> (ptr-&gt;right == <span class="literal">NULL</span>) &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœptrå³å­æ ‘ä¸ºç©ºï¼Œåˆ™æ’å…¥çš„èŠ‚ç‚¹æ­£å¥½åšå³å­æ ‘çš„æ ¹</span></span><br><span class="line">                    ptr-&gt;right = <span class="keyword">new</span> TreeNode(value);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// å¦åˆ™è½¬ç§»åˆ°å³å­æ ‘ï¼Œç»§ç»­æŸ¥æ‰¾</span></span><br><span class="line">                    ptr = ptr-&gt;right;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„åˆ é™¤"><a href="#3ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„åˆ é™¤" class="headerlink" title="3ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„åˆ é™¤"></a>3ã€äºŒå‰æœç´¢æ ‘ä¸­èŠ‚ç‚¹çš„åˆ é™¤</h4><p>â€ƒâ€ƒåœ¨äºŒå‰æœç´¢æ ‘åˆ é™¤èŠ‚ç‚¹ï¼Œé¦–å…ˆæˆ‘ä»¬åº”è¯¥åœ¨æ ‘ä¸­æŸ¥æ‰¾åˆ°è¿™ä¸ªèŠ‚ç‚¹çš„ä½ç½®å§ï¼Œç„¶åå°†å…¶ç§»é™¤ï¼Œå¹¶ä¸”ç§»é™¤åæˆ‘ä»¬éœ€è¦è¿›è¡Œè°ƒæ•´ï¼Œä½¿å…¶ä»»ç„¶æ»¡è¶³äºŒå‰æœç´¢æ ‘ã€‚è¿™ä¸ªåˆ é™¤æ“ä½œå¯ä»¥åˆ†æˆå¥½å‡ ç§æƒ…å†µï¼Œéœ€è¦åˆ†åˆ«è®¨è®ºã€‚</p><h5 id="â‘ ã€åˆ é™¤å¶èŠ‚ç‚¹"><a href="#â‘ ã€åˆ é™¤å¶èŠ‚ç‚¹" class="headerlink" title="â‘ ã€åˆ é™¤å¶èŠ‚ç‚¹"></a>â‘ ã€åˆ é™¤å¶èŠ‚ç‚¹</h5><p>â€ƒâ€ƒåˆ é™¤å¶èŠ‚ç‚¹ï¼Œåªè¦å°†å…¶ç§»é™¤å³å¯ï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•è°ƒæ•´æ“ä½œã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/2020041808272493.jpg" alt="2020041808272493"></p><h5 id="â‘¡ã€åˆ é™¤éå¶èŠ‚ç‚¹"><a href="#â‘¡ã€åˆ é™¤éå¶èŠ‚ç‚¹" class="headerlink" title="â‘¡ã€åˆ é™¤éå¶èŠ‚ç‚¹"></a>â‘¡ã€åˆ é™¤éå¶èŠ‚ç‚¹</h5><p>â€ƒâ€ƒåˆ é™¤éå¶èŠ‚ç‚¹å¯ä»¥ç»†åˆ†ä¸ºä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯åˆ é™¤æœ‰å³å­æ ‘çš„èŠ‚ç‚¹ï¼Œåˆ é™¤èŠ‚ç‚¹åéœ€è¦å°†å³å­æ ‘ä¸­åºéå†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¡«å……åˆ°åˆ é™¤èŠ‚ç‚¹Aä½ç½®ï¼ˆä¸ºä»€ä¹ˆé€‰å³å­æ ‘ä¸­åºéå†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Ÿå› ä¸ºæ•´æ£µæ ‘çš„ä¸­åºéå†åºåˆ—ä¸­ï¼ŒèŠ‚ç‚¹Açš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯å…¶å³å­æ ‘ä¸­åºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ã€‚<br>â€ƒâ€ƒå³å­æ ‘ä¸­åºéå†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºæŸä¸ªèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼Œç›´æ¥å°†æœ€å·¦çš„å·¦å­èŠ‚ç‚¹å¡«è¡¥åˆ°å·²åˆ é™¤èŠ‚ç‚¹çš„ä½ç½®ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/2020041808351744.jpg" alt="2020041808351744"></p><h5 id="aã€åˆ é™¤èŠ‚ç‚¹æœ‰å³å­æ ‘"><a href="#aã€åˆ é™¤èŠ‚ç‚¹æœ‰å³å­æ ‘" class="headerlink" title="aã€åˆ é™¤èŠ‚ç‚¹æœ‰å³å­æ ‘"></a>aã€åˆ é™¤èŠ‚ç‚¹æœ‰å³å­æ ‘</h5><p>â€ƒâ€ƒå³å­æ ‘ä¸­åºéå†åºåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºæŸä¸ªæ²¡æœ‰å·¦å­èŠ‚ç‚¹çš„èŠ‚ç‚¹Bã€‚å°†èŠ‚ç‚¹Bå¡«å…¥å·²åˆ é™¤èŠ‚ç‚¹çš„ä½ç½®ï¼Œå¹¶ä¸”å°†èŠ‚ç‚¹Bçš„å³å­æ ‘ç½®äºèŠ‚ç‚¹Bçš„ä½ç½®ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200418084409899.jpg" alt="20200418084409899"></p><h5 id="bã€åˆ é™¤èŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘"><a href="#bã€åˆ é™¤èŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘" class="headerlink" title="bã€åˆ é™¤èŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘"></a>bã€åˆ é™¤èŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘</h5><p>â€ƒâ€ƒç¬¬äºŒç§æ˜¯åˆ é™¤æ²¡æœ‰å³å­æ ‘çš„èŠ‚ç‚¹Aï¼Œæ­¤æ—¶å¯»æ‰¾æ•´é¢—äºŒå‰æ ‘ä¸­åºéå†ä¸­èŠ‚ç‚¹Açš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œéœ€è¦åˆ©ç”¨parentæŒ‡é’ˆã€‚æ‰¾åˆ°è¿œç¥–çˆ¶èŠ‚ç‚¹Bï¼Œå¹¶ä¸”ä½¿å¾—èŠ‚ç‚¹Aåœ¨è¿œç¥–çˆ¶èŠ‚ç‚¹Bçš„å·¦å­æ ‘ä¸­ï¼è¿œç¥–çˆ¶èŠ‚ç‚¹B.valueæ›¿æ¢åˆ°èŠ‚ç‚¹A.valueåï¼Œå®ƒè‡ªå·±ä¹Ÿéœ€è¦å®ƒçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ¥å¡«å……ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200418090738723.jpg" alt="20200418090738723"><br>â€ƒâ€ƒ<span style="color: red">å¤‡æ³¨ï¼š</span>å…¶å®æ ¹æœ¬ä¸éœ€è¦è¿›è¡Œåˆ é™¤æ“ä½œï¼Œåªè¦å¯»æ‰¾åˆ°è¿™ä¸ªèŠ‚ç‚¹ä¸­åºéå†åºåˆ—çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åç›´æ¥æ›¿æ¢å³å¯ã€‚<br>C++ä»£ç å®ç°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨äºŒå‰æœç´¢æ ‘ä¸­æ’å…¥valueï¼Œå¦‚æœäºŒå‰æ ‘ä¸­å·²ç»å­˜åœ¨åˆ™ä¸è¿›è¡Œæ’å…¥ï¼ˆç®€åŒ–å¤„ç†é€»è¾‘ï¼‰</span></span><br><span class="line"><span class="function">TreeNode *<span class="title">deleteNode</span><span class="params">(TreeNode *root, TreeNode *targetPtr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (targetPtr == <span class="literal">NULL</span> || root == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root == targetPtr &amp;&amp; root-&gt;right == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="comment">// ä¸€ã€åˆ é™¤çš„æ˜¯æ ¹èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ ¹èŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘</span></span><br><span class="line">        <span class="comment">// å¤„ç†ï¼šåˆ‡æ–­targetPträ¸å·¦å­æ ‘çš„å…³è”ï¼Œè¿”å›å·¦å­æ ‘ï¼Œé‡Šæ”¾targetPtr</span></span><br><span class="line">        root = root-&gt;left;</span><br><span class="line">        <span class="keyword">if</span> (root != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            root-&gt;parent = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        targetPtr-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">delete</span> targetPtr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (targetPtr-&gt;left == targetPtr-&gt;right) &#123;</span><br><span class="line">        <span class="comment">// äºŒã€åˆ é™¤çš„å¶èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// targetPtr-&gt;left == targetPtr-&gt;right,åªèƒ½æ˜¯åŒæ—¶ä¸ºNULL</span></span><br><span class="line">        <span class="comment">// æ“ä½œï¼šåˆ‡æ–­parentä¸targetPtrçš„å…³è”ï¼Œè¿”å›rootï¼Œé‡Šæ”¾targetPtr</span></span><br><span class="line">        <span class="keyword">if</span> (targetPtr-&gt;parent-&gt;left == targetPtr) &#123;</span><br><span class="line">            targetPtr-&gt;parent-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            targetPtr-&gt;parent-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ‡æ–­targetPtr ä¸targetPtr-&gt;parentçš„å…³è”</span></span><br><span class="line">        targetPtr-&gt;parent = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">delete</span> targetPtr;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (targetPtr-&gt;right == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="comment">// ä¸‰ã€åˆ é™¤èŠ‚ç‚¹å³å­æ ‘ä¸ºç©º      éœ€è¦æ‰¾åˆ°è¿œç¥–çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">        TreeNode *pParent = targetPtr;</span><br><span class="line">        <span class="comment">// ç¥–çˆ¶èŠ‚ç‚¹Bï¼Œå¹¶ä¸”ä½¿å¾—èŠ‚ç‚¹targetPtråœ¨è¿œç¥–çˆ¶èŠ‚ç‚¹Bçš„å·¦å­æ ‘</span></span><br><span class="line">        <span class="keyword">while</span> (pParent-&gt;parent != <span class="literal">NULL</span> &amp;&amp; pParent-&gt;parent-&gt;right == pParent) &#123;</span><br><span class="line">            pParent = pParent-&gt;parent;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pParent-&gt;parent == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœtargetPträ¸å­˜åœ¨ä¸€ä¸ªè¿œç¥–çˆ¶èŠ‚ç‚¹Bï¼Œä½¿å¾—leftPtråœ¨è¿œç¥–çˆ¶Bçš„å·¦å­æ ‘</span></span><br><span class="line">            <span class="comment">// æ“ä½œï¼šåªèƒ½åˆ é™¤è¿™ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”æŠŠå·¦å­æ ‘æ”¾åˆ°å½“å‰èŠ‚ç‚¹çš„ä½ç½®</span></span><br><span class="line">            targetPtr-&gt;parent-&gt;right = targetPtr-&gt;left;</span><br><span class="line">            targetPtr-&gt;left-&gt;parent = targetPtr-&gt;parent;</span><br><span class="line">            <span class="comment">// åˆ‡æ–­targetPträ¸parentã€leftçš„å…³ç³»</span></span><br><span class="line">            targetPtr-&gt;parent = <span class="literal">NULL</span>;</span><br><span class="line">            targetPtr-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="keyword">delete</span> targetPtr;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦åˆ™pParent-&gt;parent-&gt;valueæ›¿æ¢targetPtr-&gt;valueï¼Œå†åˆ é™¤pParent-&gt;parentï¼ˆé€’å½’ï¼‰</span></span><br><span class="line">            targetPtr-&gt;value = pParent-&gt;parent-&gt;value;</span><br><span class="line">            root = deleteNode(root, pParent-&gt;parent);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// å››ã€åˆ é™¤èŠ‚ç‚¹å­˜åœ¨å³å­æ ‘ï¼Œç›´æ¥åœ¨å³å­æ ‘å¯»æ‰¾ä¸­åºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        TreeNode * leftPtr = targetPtr-&gt;right;</span><br><span class="line">        <span class="comment">// ä¸€ç›´å¾€leftå¯»æ‰¾</span></span><br><span class="line">        <span class="keyword">while</span> (leftPtr-&gt;left != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            leftPtr = leftPtr-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†leftPtr-&gt;valueæ›¿æ¢åˆ°targetPtr-&gt;value</span></span><br><span class="line">        targetPtr-&gt;value = leftPtr-&gt;value;</span><br><span class="line">        <span class="comment">// targetPtr-&gt;rightå°±æ˜¯leftPtr</span></span><br><span class="line">        <span class="keyword">if</span> (targetPtr-&gt;right == leftPtr) &#123;</span><br><span class="line">            <span class="comment">// å°†targetPtr-&gt;rightæŒ‡å‘leftPtrå³å­æ ‘</span></span><br><span class="line">            targetPtr-&gt;right = leftPtr-&gt;right;</span><br><span class="line">            <span class="comment">// å¦‚æœtargetPtr-&gt;right ï¼= NULLï¼Œè¿˜éœ€è¦è®¾ç½®parent</span></span><br><span class="line">            <span class="keyword">if</span> (leftPtr-&gt;right != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                leftPtr-&gt;right-&gt;parent = targetPtr;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦åˆ™leftPtr-&gt;parentä¸leftPtråˆ‡æ–­å…³ç³»</span></span><br><span class="line">            leftPtr-&gt;parent-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†leftPträºå…¶parentåˆ‡æ–­å…³ç³»å¹¶é‡Šæ”¾</span></span><br><span class="line">        leftPtr-&gt;parent = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">delete</span> leftPtr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">TreeNode *<span class="title">deleteNodeByValue</span><span class="params">(TreeNode *root, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é¦–å…ˆæŸ¥æ‰¾valueæ‰€åœ¨çš„ä½ç½®</span></span><br><span class="line">    TreeNode *targetPtr = searchNode(root, value);</span><br><span class="line">    <span class="keyword">if</span> (targetPtr == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="comment">// valueéƒ½æ²¡æ‰¾åˆ°è¿˜åˆ é™¤å•¥...</span></span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> deleteNode(root, targetPtr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸‰ã€æ€è€ƒä¸æ€»ç»“"><a href="#ä¸‰ã€æ€è€ƒä¸æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€è€ƒä¸æ€»ç»“"></a>ä¸‰ã€æ€è€ƒä¸æ€»ç»“</h3><p>â€ƒâ€ƒå¯ä»¥çœ‹å‡ºäºŒå‰æœç´¢æ ‘çš„æŸ¥æ‰¾ã€æ’å…¥è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œåˆ é™¤ç¨å¾®å¤æ‚ä¸€ç‚¹ã€‚ä¸è¿‡äºŒå‰æœç´¢æ ‘å¯èƒ½å­˜åœ¨é€€åŒ–æˆé“¾è¡¨çš„ç¼ºé™·ï¼Œæ¯”å¦‚ç»™ä½ ä¸€ä¸ªæœ¬æ¥é€’å¢æœ‰åºçš„åºåˆ—è®©ä½ æ’å…¥åˆ°ä¸€é¢—ç©ºäºŒå‰æœç´¢æ ‘ä¸­ï¼Œè¿™æ—¶å°±é€€åŒ–æˆé“¾è¡¨äº†ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200418111144946.jpg" alt="20200418111144946"><br>â€ƒâ€ƒå› æ­¤æˆ‘ä»¬éœ€è¦å°†äºŒå‰æœç´¢æ ‘å¢åŠ å¹³è¡¡çš„ç‰¹æ€§ï¼Œå³AVLæ ‘æˆ–çº¢é»‘æ ‘ã€‚<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://hestyle.blog.csdn.net/article/details/105595528" target="_blank" rel="noopener">https://hestyle.blog.csdn.net/article/details/105595528</a></p>]]></content>
    
    <summary type="html">
    
      æ•°æ®ç»“æ„ä¹‹äºŒå‰æœç´¢æ ‘
    
    </summary>
    
    
    
      <category term="æ•°æ®ç»“æ„" scheme="penghui.club/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
      <category term="æ ‘" scheme="penghui.club/tags/%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€AVLæ ‘ã€çº¢é»‘æ ‘ã€Trieæ ‘ã€Bæ ‘ã€B+æ ‘ã€B*æ ‘æµ…æ</title>
    <link href="penghui.club/2020/06/23/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E4%BA%8C%E5%8F%89%E6%A0%91%E3%80%81AVL%E6%A0%91%E3%80%81%E7%BA%A2%E9%BB%91%E6%A0%91%E3%80%81Trie%E6%A0%91%E3%80%81B%E6%A0%91%E3%80%81B-%E6%A0%91%E3%80%81B-%E6%A0%91%E6%B5%85%E6%9E%90/"/>
    <id>penghui.club/2020/06/23/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E4%BA%8C%E5%8F%89%E6%A0%91%E3%80%81AVL%E6%A0%91%E3%80%81%E7%BA%A2%E9%BB%91%E6%A0%91%E3%80%81Trie%E6%A0%91%E3%80%81B%E6%A0%91%E3%80%81B-%E6%A0%91%E3%80%81B-%E6%A0%91%E6%B5%85%E6%9E%90/</id>
    <published>2020-06-23T10:31:53.000Z</published>
    <updated>2020-06-24T06:24:27.444Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤å¤©è¿Ÿæš®çš„éœå…‰ï¼Œæ­£å¦‚çš†æ˜¯ç¬‘æ„çš„ä½ ã€‚</span><br><span class="line"></span><br><span class="line">                                                                        ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€AVLæ ‘ã€çº¢é»‘æ ‘ã€Trieæ ‘ã€Bæ ‘ã€B-æ ‘ã€B-æ ‘æµ…æ"><a href="#æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€AVLæ ‘ã€çº¢é»‘æ ‘ã€Trieæ ‘ã€Bæ ‘ã€B-æ ‘ã€B-æ ‘æµ…æ" class="headerlink" title="æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€AVLæ ‘ã€çº¢é»‘æ ‘ã€Trieæ ‘ã€Bæ ‘ã€B+æ ‘ã€B*æ ‘æµ…æ"></a>æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€AVLæ ‘ã€çº¢é»‘æ ‘ã€Trieæ ‘ã€Bæ ‘ã€B+æ ‘ã€B*æ ‘æµ…æ</h2><p>æ ‘ï¼Œä½œä¸ºäº”å¤§ç»å…¸æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œæœ‰è®¸å¤šè¿ç”¨åœºæ™¯ï¼Œæ¯”å¦‚MySQLæ•°æ®åº“çš„B+æ ‘ï¼ˆæ•°æ®ç»“æ„çš„é‡è¦æ€§ä¸ç”¨å¼ºè°ƒäº†å§ï¼‰ã€‚ä¸‹é¢å°†å¯¹äºŒå‰æ ‘ã€çº¢é»‘æ ‘ã€Bæ ‘ã€B+æ ‘ç­‰æ ‘ç»“æ„è¿›è¡Œä¸€äº›æ¦‚å¿µåŒºåˆ†ä¸æ€»ç»“ï¼Œæ­¤ç¯‡åšå®¢é€‚åˆæ–°æ‰‹ã€æœ‰ä¸€å®šæ•°æ®ç»“æ„åŸºç¡€çš„å°ä¼™ä¼´ã€‚</p><h3 id="ä¸€ã€æ ‘çš„åˆ’åˆ†"><a href="#ä¸€ã€æ ‘çš„åˆ’åˆ†" class="headerlink" title="ä¸€ã€æ ‘çš„åˆ’åˆ†"></a>ä¸€ã€æ ‘çš„åˆ’åˆ†</h3><p>â€ƒâ€ƒæ ¹æ®å­èŠ‚ç‚¹çš„ä¸ªæ•°å¯ä»¥åˆ’åˆ†æˆNå‰æ ‘ï¼ˆä¸€èˆ¬N â‰¥ 2ï¼‰ï¼ŒNå‰æ ‘æ‹¥æœ‰çš„ç‰¹å¾æ˜¯æ¯ä¸ªèŠ‚ç‚¹è‡³å¤šæœ‰Nä¸ªå­èŠ‚ç‚¹ã€‚</p><p>æ¯”å¦‚ï¼ŒN = 2æ—¶ï¼Œç§°ä¸ºäºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡³å¤šåªæœ‰2ä¸ªèŠ‚ç‚¹ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407082832601.jpg" alt="20200407082832601"><br>æ¯”å¦‚ï¼ŒN = 3æ—¶ï¼Œç§°ä¸ºä¸‰å‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡³å¤šåªæœ‰3ä¸ªèŠ‚ç‚¹ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407083131618.jpg" alt="20200407083131618"><br><span style="color: red;">æ³¨æ„ï¼š</span>ç‰¹åˆ«çš„å½“N = 1æ—¶ï¼Œæ­¤æ—¶æ˜¯â€ä¸€å‰æ ‘â€ï¼ˆä¸€èˆ¬æ²¡æœ‰è¿™ä¸ªæ¦‚å¿µï¼Œè¿™åªæ˜¯æˆ‘ä¸ªäººè¿™ä¹ˆå«ï¼‰ï¼Œå…¶å®â€ä¸€å‰æ ‘â€å°±æ˜¯é“¾è¡¨ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407083801385.jpg" alt="20200407083801385"><br>è¿˜æœ‰ä¸€ç‚¹ï¼Œæ ‘çš„å®šä¹‰å¹¶ä¸æ˜¯å¾ˆä¸¥è°¨ï¼Œå› ä¸ºå®ƒå¼ºè°ƒçš„æ˜¯æ¯ä¸ªèŠ‚ç‚¹è‡³å¤šæœ‰Nä¸ªå­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆï¼Œå¦‚æœæŸNå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½è‡³å¤šåªæœ‰N - 1ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆå®ƒä¹Ÿå¯ä»¥ç§°ä¸ºN - 1å‰æ ‘ï¼Œåè¿‡æ¥ï¼Œå®ƒä¹Ÿå¯ä»¥ç§°ä¸ºKå‰æ ‘ï¼ˆK â‰¥ Nï¼‰ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407084732264.jpg" alt="20200407084732264"></p><h3 id="äºŒã€äºŒå‰æ ‘ï¼ˆé‡ç‚¹ï¼‰"><a href="#äºŒã€äºŒå‰æ ‘ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="äºŒã€äºŒå‰æ ‘ï¼ˆé‡ç‚¹ï¼‰"></a>äºŒã€äºŒå‰æ ‘ï¼ˆé‡ç‚¹ï¼‰</h3><p>â€ƒâ€ƒç”±ä¸Šé¢çš„æ¦‚å¿µå¯çŸ¥ï¼Œå½“N = 2æ—¶ï¼Œç§°ä¸ºäºŒå‰æ ‘ã€‚åœ¨äºŒå‰æ ‘è¿˜æœ‰å·¦å­æ ‘ã€å³å­æ ‘ã€å·¦å­©å­ã€å³å­©å­çš„æ¦‚å¿µã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407085832323.jpg" alt="20200407085832323"></p><h4 id="1ã€äºŒå‰æ ‘çš„éå†æ–¹å¼"><a href="#1ã€äºŒå‰æ ‘çš„éå†æ–¹å¼" class="headerlink" title="1ã€äºŒå‰æ ‘çš„éå†æ–¹å¼"></a>1ã€äºŒå‰æ ‘çš„éå†æ–¹å¼</h4><p>â€ƒâ€ƒç”±äºŒå‰æ ‘çš„ç»“æ„å¯çŸ¥ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç”±å·¦å­èŠ‚ç‚¹ã€å³å­èŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹æ„æˆï¼ˆæœ‰äº›èŠ‚ç‚¹çš„å·¦æˆ–å³å­èŠ‚ç‚¹ä¸ºç©ºï¼Œä½†ä¸èƒ½è¯´å®ƒæ²¡æœ‰å·¦æˆ–å³å­èŠ‚ç‚¹ï¼‰ã€‚æ ¹æ®èŠ‚ç‚¹çš„è®¿é—®é¡ºåºå¯æ’åˆ—å‡º å·¦çˆ¶å³ã€å·¦å³çˆ¶ã€çˆ¶å·¦å³ã€å³çˆ¶å·¦ã€å³å·¦çˆ¶ã€çˆ¶å³å·¦6ç§æƒ…å†µï¼Œä½†æ˜¯ä¸€èˆ¬è¦æ±‚å·¦å­èŠ‚ç‚¹æ¯”å³å­èŠ‚ç‚¹å…ˆè®¿é—®ï¼Œå› æ­¤å‰©ä¸‹ å·¦çˆ¶å³ã€å·¦å³çˆ¶ã€çˆ¶å·¦å³ä¸‰ç§æƒ…å†µã€‚</p><h5 id="â‘ ã€ä¸­åºéå†ï¼ˆå·¦çˆ¶å³ï¼‰"><a href="#â‘ ã€ä¸­åºéå†ï¼ˆå·¦çˆ¶å³ï¼‰" class="headerlink" title="â‘ ã€ä¸­åºéå†ï¼ˆå·¦çˆ¶å³ï¼‰"></a>â‘ ã€ä¸­åºéå†ï¼ˆå·¦çˆ¶å³ï¼‰</h5><p>â€ƒâ€ƒå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå…ˆè®¿é—®å®ƒçš„å·¦å­æ ‘ï¼Œå†è®¿é—®æœ¬èŠ‚ç‚¹ï¼Œæœ€åè®¿é—®å®ƒçš„å³å­æ ‘ï¼Œå¯¹äºå·¦å­æ ‘ã€å³å­æ ‘ä¹Ÿç¬¦åˆè¿™ä¸ªè§„å®šï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407091405102.jpg" alt="20200407091405102"></p><h5 id="â‘¡ã€ååºéå†ï¼ˆå·¦å³çˆ¶ï¼‰"><a href="#â‘¡ã€ååºéå†ï¼ˆå·¦å³çˆ¶ï¼‰" class="headerlink" title="â‘¡ã€ååºéå†ï¼ˆå·¦å³çˆ¶ï¼‰"></a>â‘¡ã€ååºéå†ï¼ˆå·¦å³çˆ¶ï¼‰</h5><p>â€ƒâ€ƒå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå…ˆè®¿é—®å®ƒçš„å·¦å­æ ‘ï¼Œå†è®¿é—®å®ƒçš„å³å­æ ‘ï¼Œæœ€åè®¿é—®æœ¬èŠ‚ç‚¹ï¼Œå¯¹äºå·¦å­æ ‘ã€å³å­æ ‘ä¹Ÿç¬¦åˆè¿™ä¸ªè§„å®šï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407093217486.jpg" alt="20200407093217486"></p><h5 id="â‘¢ã€å‰åºéå†ï¼ˆçˆ¶å·¦å³ï¼‰"><a href="#â‘¢ã€å‰åºéå†ï¼ˆçˆ¶å·¦å³ï¼‰" class="headerlink" title="â‘¢ã€å‰åºéå†ï¼ˆçˆ¶å·¦å³ï¼‰"></a>â‘¢ã€å‰åºéå†ï¼ˆçˆ¶å·¦å³ï¼‰</h5><p>â€ƒâ€ƒå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå…ˆè®¿é—®æœ¬èŠ‚ç‚¹ï¼Œå†è®¿é—®å®ƒçš„å·¦å­æ ‘ï¼Œæœ€åè®¿é—®å®ƒçš„å³å­æ ‘ï¼Œå¯¹äºå·¦å­æ ‘ã€å³å­æ ‘ä¹Ÿç¬¦åˆè¿™ä¸ªè§„å®šï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚</p><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/2020040709330051.jpg" alt="2020040709330051"><br><span style="color: red;">æ³¨ï¼š</span>å…¶å®è¿˜æœ‰ä¸€ç§éå†æ–¹å¼ï¼Œå±‚æ¬¡éå†ï¼Œå³æŒ‰å±‚è®¿é—®äºŒå‰æ ‘ã€‚</p><h4 id="2ã€äºŒå‰æ ‘çš„ç‰¹ä¾‹"><a href="#2ã€äºŒå‰æ ‘çš„ç‰¹ä¾‹" class="headerlink" title="2ã€äºŒå‰æ ‘çš„ç‰¹ä¾‹"></a>2ã€äºŒå‰æ ‘çš„ç‰¹ä¾‹</h4><h5 id="â‘ ã€äºŒå‰æœç´¢æ ‘"><a href="#â‘ ã€äºŒå‰æœç´¢æ ‘" class="headerlink" title="â‘ ã€äºŒå‰æœç´¢æ ‘"></a>â‘ ã€äºŒå‰æœç´¢æ ‘</h5><p>â€ƒâ€ƒäºŒå‰æœç´¢æ ‘çš„å®šä¹‰æ˜¯å¯¹äºæŸäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹bï¼Œå®ƒçš„å·¦å­æ ‘Açš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½å°äºèŠ‚ç‚¹bçš„å€¼ï¼Œå®ƒçš„å³å­æ ‘Bçš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½å¤§äºèŠ‚ç‚¹bçš„å€¼ï¼Œå¹¶ä¸”å·¦å­æ ‘Aã€å³å­æ ‘BåŒæ ·ç¬¦åˆè¿™ä¸ªå®šä¹‰ï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407152634442.jpg" alt="20200407152634442"></p><p>å¯¹äºå€¼ä¸º10çš„èŠ‚ç‚¹ï¼Œå·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ &lt; 10ï¼Œå³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ &gt; 10ï¼Œå¹¶ä¸”å·¦å­æ ‘ã€å³å­æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹åŒæ · å·¦ &lt; çˆ¶ &lt; å³ çš„å®šä¹‰ã€‚</p><p><span style="color: red;">è¡¨ç°ç‰¹å¾ï¼š</span>äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ç®€åŒ–ä¸€ä¸‹å°±æ˜¯å·¦ &lt; çˆ¶ &lt; å³è§„åˆ™ï¼Œè¿˜è®°å…ˆå‰ä»‹ç»çš„ä¸­åºéå†ä¹ˆï¼Œæ˜¯ä¸æ˜¯å‘ç°äº†ä»€ä¹ˆï¼Œä¸­åºéå†é¡ºåºä¸ä¹Ÿæ˜¯å¦‚æ­¤ä¹ˆã€‚å…¶å®äºŒå‰æœç´¢æ ‘çš„å˜ç°ç‰¹å¾å°±æ˜¯ä¸­åºéå†å¾—åˆ°çš„åºåˆ—é€’å¢ã€‚ï¼ˆå¯èƒ½ä¼šæœ‰å°ä¼™ä¼´é—®ï¼Œä¸ºä»€ä¹ˆè¦å¼•å…¥è¿™ä¸ªç‰¹æ€§å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æŸ¥æ‰¾æ–¹ä¾¿ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ä½ åœ¨äºŒå‰æ ‘ä¸­æŸ¥target = 7è¿™ä¸ªå€¼æ˜¯å¦å­˜åœ¨ï¼Œä»æ ¹èŠ‚ç‚¹å…¥æ‰‹ï¼Œå¦‚æœtarget = rootï¼ŒæŸ¥æ‰¾æˆåŠŸï¼Œåœæ­¢æŸ¥æ‰¾ï¼›è‹¥target &lt; rootï¼Œè½¬åˆ°å·¦å­æ ‘ï¼Œå¦åˆ™target &gt; rootï¼Œè½¬åˆ°å³å­æ ‘ã€‚ï¼‰</p><h5 id="â‘¡ã€å¹³è¡¡äºŒå‰æ ‘"><a href="#â‘¡ã€å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="â‘¡ã€å¹³è¡¡äºŒå‰æ ‘"></a>â‘¡ã€å¹³è¡¡äºŒå‰æ ‘</h5><p>â€ƒâ€ƒå¹³è¡¡äºŒå‰æ ‘å®šä¹‰æ˜¯æŸäºŒå‰æ ‘çš„å·¦ã€å³ä¸¤ä¸ªå­æ ‘çš„ é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼Œå¹¶ä¸”å·¦ã€å³ä¸¤ä¸ªå­æ ‘ä¹Ÿéƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ï¼ˆé€’å½’å®šä¹‰ï¼‰ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/2020040715495833.jpg" alt="2020040715495833"></p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºå•¥åˆè¦å¼•å…¥å¹³è¡¡è¿™ä¸ªæ¦‚å¿µå‘¢ï¼Ÿ<br>å¯ä»¥çœ‹å‡ºå¹³è¡¡ä¸»è¦æ˜¯é™åˆ¶æ ‘çš„æ•´ä½“é«˜åº¦ï¼Œå°†å·¦ã€å³å­æ ‘çš„é«˜åº¦å·®ç¼©å‡åˆ°1ä¹‹å†…ã€‚</p><h5 id="â‘¢ã€å¹³è¡¡äºŒå‰æœç´¢æ ‘-AVLæ ‘ã€çº¢é»‘æ ‘"><a href="#â‘¢ã€å¹³è¡¡äºŒå‰æœç´¢æ ‘-AVLæ ‘ã€çº¢é»‘æ ‘" class="headerlink" title="â‘¢ã€å¹³è¡¡äºŒå‰æœç´¢æ ‘(AVLæ ‘ã€çº¢é»‘æ ‘)"></a>â‘¢ã€å¹³è¡¡äºŒå‰æœç´¢æ ‘(AVLæ ‘ã€çº¢é»‘æ ‘)</h5><p>â€ƒâ€ƒå¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯äºŒå‰æ ‘åŒæ—¶æ»¡è¶³å¹³è¡¡äºŒå‰æ ‘ä»¥åŠäºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼Œå³äºŒå‰æ ‘ä¸ä½†ä¸­åºéå†ä¸ºé€’å¢åºåˆ—ï¼Œå¹¶ä¸”æ ‘è¿˜å¹³è¡¡ã€‚</p><p>é—®é¢˜åˆæ¥äº†ï¼Œå¼•å…¥å¹³è¡¡äºŒå‰æœç´¢æ ‘åˆæ˜¯ä¸ºå•¥ç›®çš„æï¼Ÿçœ‹å®Œä¸‹å›¾ä½ å°±æ˜ç™½äº†ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407191645970.jpg" alt="20200407191645970"></p><p>ä¸Šå›¾å·¦è¾¹çš„æ ‘æ˜¯å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œå³è¾¹æ˜¯ä¸€é¢—éå¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ã€‚å¦‚æœç»™ä½ è¿™ä¸¤é¢—æ ‘ï¼Œè®©ä½ æœç´¢target = 15ï¼Œä½ ä¼šé€‰æ‹©é‚£ä¸€é¢—ï¼Ÿä½ è‚¯å®šä¼šé€‰æ‹©å·¦è¾¹çš„å§ï¼Œå› ä¸ºå®ƒçœ‹èµ·æ¥æ›´çŸ®ä¸€äº›ï¼Œæ ¹æ®ä¸Šé¢ä»‹ç»çš„äºŒå‰æœç´¢æ ‘çš„æŸ¥æ‰¾è§„åˆ™ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½å¤§æ¦‚èƒ½æ’é™¤æ‰å‰©ä½™èŠ‚ç‚¹ä¸­çš„ä¸€åŠï¼ˆæœ€ä¼˜çš„æƒ…å†µä¸‹ï¼Œæœç´¢å¤æ‚åº¦ä¸ºlog2nï¼‰ã€‚</p><h4 id="AVLæ ‘"><a href="#AVLæ ‘" class="headerlink" title="AVLæ ‘"></a>AVLæ ‘</h4><p>å¾—åäºå®ƒçš„å‘æ˜è€…G. M. Adelson-Velskyå’ŒE. M. Landisï¼Œå…¶å®å®ƒå°±æ˜¯ä¸Šé¢ä»‹ç»çš„å¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚</p><h4 id="çº¢é»‘æ ‘"><a href="#çº¢é»‘æ ‘" class="headerlink" title="çº¢é»‘æ ‘"></a>çº¢é»‘æ ‘</h4><p>ç”±äºå¹³è¡¡äºŒå‰æœç´¢æ ‘çš„å®šä¹‰æ¯”è¾ƒè‹›åˆ»ï¼Œå®é™…è¿‡ç¨‹ä¸­ç”Ÿæˆå¹¶ç»´æŒä¸€é¢—å¹³è¡¡äºŒå‰æœç´¢æ ‘æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œè€Œçº¢é»‘æ ‘æ”¾å®½äº†å¹³è¡¡æ¡ä»¶çš„é™åˆ¶ï¼Œå¼•å…¥å¼±å¹³è¡¡çš„æ¦‚å¿µã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">çº¢é»‘æ ‘çš„å®šä¹‰ï¼š</span><br><span class="line">1.èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²ã€‚</span><br><span class="line">2.æ ¹æ˜¯é»‘è‰²ã€‚</span><br><span class="line">3.æ‰€æœ‰å¶å­éƒ½æ˜¯é»‘è‰²ï¼ˆå¶å­æ˜¯NILèŠ‚ç‚¹ï¼‰ã€‚</span><br><span class="line">4.æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹å¿…é¡»æœ‰ä¸¤ä¸ªé»‘è‰²çš„å­èŠ‚ç‚¹ã€‚ï¼ˆä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ã€‚ï¼‰</span><br><span class="line">5.ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰ç®€å•è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ï¼ˆç®€ç§°é»‘é«˜ï¼‰ã€‚</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200425164845697.jpg" alt="20200425164845697"></p><h3 id="ä¸‰ã€å¤šå‰æ ‘"><a href="#ä¸‰ã€å¤šå‰æ ‘" class="headerlink" title="ä¸‰ã€å¤šå‰æ ‘"></a>ä¸‰ã€å¤šå‰æ ‘</h3><p>â€ƒâ€ƒæ ¹æ®å…ˆå‰æ ‘çš„åˆ’åˆ†ï¼Œå¯¹äºå¤šå‰æ ‘ä¹Ÿæœ‰çˆ¶èŠ‚ç‚¹ã€å­èŠ‚ç‚¹ã€å…„å¼ŸèŠ‚ç‚¹çš„æ¦‚å¿µã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407164449689.jpg" alt="20200407164449689"></p><h4 id="1ã€Trieæ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰"><a href="#1ã€Trieæ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰" class="headerlink" title="1ã€Trieæ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰"></a>1ã€Trieæ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰</h4><p>â€ƒâ€ƒTrieæ ‘å…¶å®å°±æ˜¯å‰ç¼€æ ‘ï¼Œè¿ç”¨äºå¤§é‡å­—ç¬¦ä¸²çš„å­˜æ”¾ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407165308310.jpg" alt="20200407165308310"></p><p>å…¶å®Trieæ ‘çš„å…³é”®å°±æ˜¯æŠŠæ¯ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€è¿›è¡Œåˆå¹¶ï¼Œä¹Ÿç§°å‰ç¼€æ ‘ã€‚</p><p><span style="color: red;">æ³¨æ„ï¼š</span>åœ¨Trieæ ‘ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹å¯èƒ½æœ‰26ä¸ªï¼Œå› ä¸ºå¯¹äºæ¯ä¸ªå­—ç¬¦ä¸²çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¯èƒ½æ˜¯a ~ zä¸­çš„ä»»æ„å­—æ¯ã€‚å¹¶ä¸”26ä¸ªå­èŠ‚ç‚¹éœ€è¦ä¿æŒæœ‰åºã€‚</p><h4 id="2ã€Bæ ‘"><a href="#2ã€Bæ ‘" class="headerlink" title="2ã€Bæ ‘"></a>2ã€Bæ ‘</h4><p>â€ƒâ€ƒBæ ‘æ˜¯å¤šè·¯æœç´¢æ ‘ï¼Œå¯¹äºæ ‘ä¸­çš„éå¶å­èŠ‚ç‚¹ï¼Œå¦‚æœæ”¾äº†mä¸ªå…³é”®å­—ï¼Œå°±åŒæ—¶éœ€è¦æ”¾m+1ä¸ªæŒ‡å‘å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œæ ¹èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°ä¸º[2, N]ï¼Œå…¶ä»–èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°ä¸º[N/2,N]ã€‚å¹¶ä¸”æ‰€æœ‰å…³é”®å­—åœ¨æ•´é¢—æ ‘ä¸­åªå‡ºç°ä¸€æ¬¡ï¼Œéå¶å­ç»“ç‚¹å¯ä»¥å‘½ä¸­æ‰€æœ‰å¶å­ç»“ç‚¹ä½äºåŒä¸€å±‚ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407170643924.jpg" alt="20200407170643924"></p><h4 id="3ã€B-æ ‘"><a href="#3ã€B-æ ‘" class="headerlink" title="3ã€B+æ ‘"></a>3ã€B+æ ‘</h4><p>â€ƒâ€ƒB+æ ‘æ˜¯åœ¨Bæ ‘ä¸Šè¿›è¡Œæ”¹é€ å‡çº§ï¼ŒæŠŠå¶å­èŠ‚ç‚¹å±‚ä¸²æˆä¸€ä¸ªé“¾è¡¨ï¼Œå¹¶ä¸”çˆ¶èŠ‚ç‚¹ä¿®æ”¹ä¸ºæ¯ä¸ªå­èŠ‚ç‚¹å…³é”®å­—åºåˆ—çš„æœ€å¤§å€¼ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407191943282.jpg" alt="20200407191943282"></p><p>MySQLæ•°æ®åº“çš„è¡¨ç»“æ„åº•å±‚æ•°æ®å­˜å‚¨ç”¨çš„å°±æ˜¯B+æ ‘ã€‚</p><h4 id="4ã€B-æ ‘"><a href="#4ã€B-æ ‘" class="headerlink" title="4ã€B*æ ‘"></a>4ã€B*æ ‘</h4><p>â€ƒâ€ƒB*æ ‘æ˜¯åœ¨B+æ ‘çš„åŸºç¡€ä¸Šå†æ¬¡è¿›è¡Œå‡çº§ï¼ŒæŠŠéå¶å­èŠ‚ç‚¹å±‚ä¹Ÿç”¨ä¸²æˆé“¾è¡¨ã€‚<br><img src= "/img/loading.gif" data-src="https://cdn.jsdelivr.net/gh/18WantTobeSinger/PictureBed/20200407192112176.jpg" alt="20200407192112176"></p><p>ä¸ªäººæ€»ç»“ï¼šAVLæ ‘ã€çº¢é»‘æ ‘éƒ½æ˜¯äºŒå‰æ ‘ï¼Œå¹¶ä¸”æ˜¯å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ŒTrieæ ‘ã€Bæ ‘ã€B+æ ‘ã€B*æ ‘éƒ½æ˜¯å¤šå‰æ ‘ï¼Œå¹¶ä¸”æ˜¯å¤šå‰æœç´¢æ ‘ã€‚ä¸€èˆ¬ç¼–ç¨‹ç®—æ³•é¢˜ä¸­ï¼ŒäºŒå‰æ ‘ä½¿ç”¨çš„è¾ƒå¤šã€‚å¯¹äºå¤šå‰æ ‘ï¼Œé™¤éæ˜¯ä¸“ä¸šçš„æ•°æ®ç»“æ„è®¾è®¡äººå‘˜ï¼Œç”¨çš„æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œä½†æ˜¯è¿™å¹¶ä¸è¯´æ˜å¤šå‰æ ‘æ²¡æœ‰ç”¨æ­¦ä¹‹åœ°ï¼Œæ–‡ç« ä¸­å¤šæ¬¡æåŠMySQLæ•°æ®åº“ä¸­çš„è¡¨ä¸­çš„æ•°æ®å°±æ˜¯ç”¨B+æ ‘å­˜å‚¨ã€‚ï¼ˆæœ¬åšå®¢å¤šå‰æ ‘ç”¨çš„ç¯‡å¹…å¾ˆå°‘ï¼Œä½†æ˜¯Bæ ‘ã€B+æ ‘ç­‰å¤šå‰æ ‘çš„æ’å…¥ã€åˆ é™¤èŠ‚ç‚¹æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¯èƒ½ä¼šæ¶‰åŠåˆ°èŠ‚ç‚¹çš„æ‹†åˆ†ã€åˆå¹¶ï¼Œä½†æ˜¯åšä¸»èƒ½åŠ›æœ‰é™å•Šï¼‰</p><p>ä»¥ä¸Šå°±æ˜¯æ•°æ®ç»“æ„ä¹‹äºŒå‰æ ‘ã€çº¢é»‘æ ‘ã€Bæ ‘ã€B+æ ‘ã€Trieæ ‘æµ…æçš„ä¸»è¦å†…å®¹ã€‚</p>]]></content>
    
    <summary type="html">
    
      æ•°æ®ç»“æ„ä¹‹æ ‘
    
    </summary>
    
    
    
      <category term="æ•°æ®ç»“æ„" scheme="penghui.club/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
      <category term="æ ‘" scheme="penghui.club/tags/%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>åŸºæœ¬è®¡ç®—å™¨</title>
    <link href="penghui.club/2020/06/21/%E5%9F%BA%E6%9C%AC%E8%AE%A1%E7%AE%97%E5%99%A8/"/>
    <id>penghui.club/2020/06/21/%E5%9F%BA%E6%9C%AC%E8%AE%A1%E7%AE%97%E5%99%A8/</id>
    <published>2020-06-21T12:34:22.000Z</published>
    <updated>2020-06-22T00:00:20.181Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘çœŸçš„æ¥å—ä¸äº†æœ‰å¾ˆå¤šç”·é—ºèœœçš„å¥³å­©å­ã€‚</span><br><span class="line"></span><br><span class="line">                                                                    ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="åŸºæœ¬è®¡ç®—å™¨"><a href="#åŸºæœ¬è®¡ç®—å™¨" class="headerlink" title="åŸºæœ¬è®¡ç®—å™¨"></a>åŸºæœ¬è®¡ç®—å™¨</h2><p>æœ¬æ–‡è¦ä½¿ç”¨æ ˆç»“æ„æ¥å®ç°ä¸€ä¸ªå¯ä»¥ <code>+</code>ã€<code>-</code>ã€<code>*</code>ã€<code>/</code>ä»¥åŠåŒ…å«<code>()</code>çš„è¿ç®—ã€‚æ‰€ç»™çš„è¡¨è¾¾å¼éƒ½æ˜¯æœ‰æ•ˆçš„ï¼ˆæœ¬æ–‡ä»£ç å¹¶æœªå®ç°éªŒè¯è¡¨è¾¾å¼æ˜¯å¦åˆæ³•ï¼‰ï¼Œè¡¨è¾¾å¼ä¸­çš„æ•°éƒ½æ˜¯<strong>éè´Ÿæ•°</strong>ï¼Œå¯åŒ…å«<strong>ç©ºæ ¼</strong>ã€‚</p><h3 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹ 1:"></a>ç¤ºä¾‹ 1:</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: "1 + 1"</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="headerlink" title="ç¤ºä¾‹ 2:"></a>ç¤ºä¾‹ 2:</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: " 2-1 + 2 "</span><br><span class="line">è¾“å‡º: 3</span><br></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹-3"><a href="#ç¤ºä¾‹-3" class="headerlink" title="ç¤ºä¾‹ 3:"></a>ç¤ºä¾‹ 3:</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: "(3+2)*2"</span><br><span class="line">è¾“å‡º: 10</span><br></pre></td></tr></table></figure><h3 id="ä»¥ä¸‹ä»£ç å¯è§£å†³LeetCodeé¢˜ç›®ï¼š"><a href="#ä»¥ä¸‹ä»£ç å¯è§£å†³LeetCodeé¢˜ç›®ï¼š" class="headerlink" title="ä»¥ä¸‹ä»£ç å¯è§£å†³LeetCodeé¢˜ç›®ï¼š"></a>ä»¥ä¸‹ä»£ç å¯è§£å†³LeetCodeé¢˜ç›®ï¼š</h3><ul><li><p><a href="https://leetcode-cn.com/problems/basic-calculator/" target="_blank" rel="noopener">224. åŸºæœ¬è®¡ç®—å™¨</a></p></li><li><p><a href="https://leetcode-cn.com/problems/basic-calculator-ii/" target="_blank" rel="noopener">227. åŸºæœ¬è®¡ç®—å™¨ II</a></p></li></ul><h3 id="æ•´ä½“ä»£ç æ€è·¯ï¼š"><a href="#æ•´ä½“ä»£ç æ€è·¯ï¼š" class="headerlink" title="æ•´ä½“ä»£ç æ€è·¯ï¼š"></a>æ•´ä½“ä»£ç æ€è·¯ï¼š</h3><p>ä»¥ï¼š<code>2 * (10 - 3) / 5</code>ä¸ºä¾‹: </p><p>1ã€å…ˆç»™ç¬¬ä¸€ä¸ªæ•°å­—åŠ ä¸€ä¸ªé»˜è®¤ç¬¦å·<code>+</code>ï¼Œå˜æˆ<code>+ 2 * (10 - 3) / 5</code>ã€‚ </p><p>2ã€æŠŠä¸€ä¸ªè¿ç®—ç¬¦å’Œæ•°å­—ç»„åˆæˆä¸€å¯¹å„¿ï¼Œä¹Ÿå°±æ˜¯ä¸‰å¯¹å„¿<code>+2</code>ï¼Œ<code>(10 - 3)</code>, <code>5</code>ï¼ŒæŠŠå®ƒä»¬è½¬åŒ–æˆæ•°å­—ï¼Œç„¶åæ”¾åˆ°ä¸€ä¸ªæ ˆä¸­ã€‚ </p><p>3ã€å½“é‡åˆ°<code>*</code>, <code>/</code>ç¬¦å·æ—¶, å–å‡ºæ ˆä¸­çš„æ•°å­—å’Œå½“å‰çš„æ•°å­—ï¼Œè®¡ç®—ç»“æœå†å­˜å…¥æ ˆä¸­ã€‚</p><p>4ã€å½“é‡åˆ°<code>(</code>ï¼Œå°†<code>(</code>åé¢çš„éƒ¨åˆ†è¿ç”¨é€’å½’è°ƒç”¨æœ¬å‡½æ•°ï¼Œé‡åˆ°<code>)</code>å°±è·³å‡ºå¾ªç¯ï¼Œå¹¶å°†<code>(...)</code>ä¸­çš„ç»“æœå­˜å…¥æ ˆä¸­ï¼Œè®¡ç®—ç»“æœè¿”å›ã€‚</p><p>5ã€ å°†æ ˆä¸­æ‰€æœ‰çš„æ•°å­—æ±‚å’Œï¼Œå°±æ˜¯åŸç®—å¼çš„ç»“æœã€‚ </p><h3 id="ç¤ºä¾‹ä»£ç ï¼š"><a href="#ç¤ºä¾‹ä»£ç ï¼š" class="headerlink" title="ç¤ºä¾‹ä»£ç ï¼š"></a>ç¤ºä¾‹ä»£ç ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> sign = <span class="string">'+'</span>;</span><br><span class="line">    <span class="keyword">int</span> length = s.length();</span><br><span class="line">    <span class="keyword">while</span> ( i &lt; length ) &#123;</span><br><span class="line">        <span class="keyword">char</span> ch = s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (Character.isDigit(ch)) &#123;</span><br><span class="line">            num = num * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'('</span>) &#123;</span><br><span class="line">            i ++;</span><br><span class="line">            num = calculate(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((!Character.isDigit(ch) &amp;&amp; ch != <span class="string">' '</span>) || i == length - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> pre;</span><br><span class="line">            <span class="keyword">switch</span> (sign) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'+'</span>:</span><br><span class="line">                    stack.add(num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line">                    stack.add(-num); <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">// åªè¦æ‹¿å‡ºå‰ä¸€ä¸ªæ•°å­—åšå¯¹åº”è¿ç®—å³å¯</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">'*'</span>:</span><br><span class="line">                    pre = stack.pop();</span><br><span class="line">                    stack.add(pre * num);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'/'</span>:</span><br><span class="line">                    pre = stack.pop();</span><br><span class="line">                    stack.add(pre / num);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sign = ch;</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">')'</span>) <span class="keyword">break</span>;</span><br><span class="line">        i ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> n: stack) &#123;</span><br><span class="line">        res += n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠ æ²¹ï¼ï¼ï¼ğŸ§"><a href="#åŠ æ²¹ï¼ï¼ï¼ğŸ§" class="headerlink" title="åŠ æ²¹ï¼ï¼ï¼ğŸ§"></a>åŠ æ²¹ï¼ï¼ï¼ğŸ§</h3>]]></content>
    
    <summary type="html">
    
      ä½¿ç”¨Javaè¯­è¨€è®¾è®¡ä¸€ä¸ªè®¡ç®—å™¨ç®—æ³•
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="penghui.club/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="æ ˆ" scheme="penghui.club/tags/%E6%A0%88/"/>
    
  </entry>
  
  <entry>
    <title>å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²</title>
    <link href="penghui.club/2020/06/21/hello-world/"/>
    <id>penghui.club/2020/06/21/hello-world/</id>
    <published>2020-06-21T03:34:10.000Z</published>
    <updated>2020-06-21T04:32:48.364Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">"å§‘å¨˜æœ‰å¿ƒäº‹ï¼Ÿ"ä¹¦ç”ŸæŠ¿å˜´å“èŒ¶é—®åˆ°ã€‚ </span><br><span class="line">å°‘å¥³ï¼š"å…¬å­ä¸ç‹å…¬å­å¯æ˜¯ç†Ÿè¯†ï¼Ÿ" </span><br><span class="line">ä¹¦ç”Ÿï¼š"ä¸–äº¤ã€‚" </span><br><span class="line">å°‘å¥³ï¼š"é‚£ä¸‹æ¬¡ä½ ä¸ä»–ä¸€èµ·æ¥å§ã€‚" </span><br><span class="line">ä¹¦ç”Ÿï¼š"ä»–ä¸å–œå“èŒ¶ã€‚" </span><br><span class="line">å°‘å¥³ï¼š"æ²¡å…³ç³»ï¼Œé‚£ä»–å–œæ¬¢ä»€ä¹ˆï¼Œæˆ‘å¯ä»¥æ…¢æ…¢å­¦ã€‚" </span><br><span class="line">ä¹¦ç”Ÿï¼š"ä»–å–œæ¬¢æˆ‘ã€‚"</span><br><span class="line"></span><br><span class="line">                                                                    ----- ç½‘æ˜“äº‘çƒ­è¯„</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²"><a href="#å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²" class="headerlink" title="å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²"></a>å€’æ•°ç¬¬Nä¸ªå­—ç¬¦ä¸²</h2><h3 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h3><p>ç»™å®šä¸€ä¸ªå®Œå…¨ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ç­‰å·®é€’å¢åºåˆ—ï¼Œè¯¥åºåˆ—ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦å›ºå®šä¸º Lï¼Œä» L ä¸ª a å¼€å§‹ï¼Œä»¥ 1 ä¸ºæ­¥é•¿é€’å¢ã€‚ä¾‹å¦‚å½“ L ä¸º 3 æ—¶ï¼Œåºåˆ—ä¸º { aaa, aab, aac, â€¦, aaz, aba, abb, â€¦, abz, â€¦, zzz }ã€‚è¿™ä¸ªåºåˆ—çš„å€’æ•°ç¬¬27ä¸ªå­—ç¬¦ä¸²å°±æ˜¯ zyzã€‚å¯¹äºä»»æ„ç»™å®šçš„ Lï¼Œæœ¬é¢˜è¦æ±‚ä½ ç»™å‡ºå¯¹åº”åºåˆ—å€’æ•°ç¬¬ N ä¸ªå­—ç¬¦ä¸²ã€‚</p><h3 id="è¾“å…¥æ ¼å¼ï¼š"><a href="#è¾“å…¥æ ¼å¼ï¼š" class="headerlink" title="è¾“å…¥æ ¼å¼ï¼š"></a>è¾“å…¥æ ¼å¼ï¼š</h3><p>è¾“å…¥åœ¨ä¸€è¡Œä¸­ç»™å‡ºä¸¤ä¸ªæ­£æ•´æ•° Lï¼ˆ2 â‰¤ L â‰¤ 6ï¼‰å’Œ Nï¼ˆâ‰¤105ï¼‰ã€‚</p><h3 id="è¾“å‡ºæ ¼å¼ï¼š"><a href="#è¾“å‡ºæ ¼å¼ï¼š" class="headerlink" title="è¾“å‡ºæ ¼å¼ï¼š"></a>è¾“å‡ºæ ¼å¼ï¼š</h3><p>åœ¨ä¸€è¡Œä¸­è¾“å‡ºå¯¹åº”åºåˆ—å€’æ•°ç¬¬ N ä¸ªå­—ç¬¦ä¸²ã€‚é¢˜ç›®ä¿è¯è¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å­˜åœ¨çš„ã€‚</p><h3 id="è¾“å…¥æ ·ä¾‹ï¼š"><a href="#è¾“å…¥æ ·ä¾‹ï¼š" class="headerlink" title="è¾“å…¥æ ·ä¾‹ï¼š"></a>è¾“å…¥æ ·ä¾‹ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 7417</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºæ ·ä¾‹ï¼š"><a href="#è¾“å‡ºæ ·ä¾‹ï¼š" class="headerlink" title="è¾“å‡ºæ ·ä¾‹ï¼š"></a>è¾“å‡ºæ ·ä¾‹ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pat</span><br></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹ä»£ç ï¼š"><a href="#ç¤ºä¾‹ä»£ç ï¼š" class="headerlink" title="ç¤ºä¾‹ä»£ç ï¼š"></a>ç¤ºä¾‹ä»£ç ï¼š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> L, N;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;L, &amp;N);</span><br><span class="line">    <span class="keyword">int</span> n = <span class="built_in">pow</span>(<span class="number">26</span>, L) - N;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> num[L];</span><br><span class="line">    <span class="keyword">int</span> ind = L;</span><br><span class="line">    <span class="keyword">while</span> (L -- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        num[L] = n % <span class="number">26</span>;</span><br><span class="line">        n = n / <span class="number">26</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ind; i ++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c"</span>, num[i] + <span class="string">'a'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»§ç»­åŠ æ²¹å§ğŸ¤ª"><a href="#ç»§ç»­åŠ æ²¹å§ğŸ¤ª" class="headerlink" title="ç»§ç»­åŠ æ²¹å§ğŸ¤ª"></a>ç»§ç»­åŠ æ²¹å§ğŸ¤ª</h3>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&quot;å§‘å¨˜æœ‰å¿ƒäº‹ï¼Ÿ&quot;ä¹¦ç”ŸæŠ¿å˜´å“èŒ¶é—®åˆ°ã€‚ &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å°‘å¥³ï¼š&quot;å…¬å­ä¸ç‹å…¬å­å¯æ˜¯ç†Ÿè¯†ï¼Ÿ&quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ä¹¦ç”Ÿï¼š&quot;ä¸–äº¤ã€‚&quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å°‘å¥³ï¼š&quot;é‚£ä¸‹æ¬¡ä½ ä¸ä»–ä¸€èµ·æ¥å§ã€‚&quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ä¹¦ç”Ÿï¼š&quot;ä»–ä¸å–œå“èŒ¶ã€‚&quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;å°‘å¥³ï¼š&quot;æ²¡å…³ç³»ï¼Œé‚£ä»–å–œæ¬¢ä»€ä¹ˆï¼Œæˆ‘å¯ä»¥æ…¢æ…¢å­¦ã€‚&quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ä¹¦ç”Ÿï¼š&quot;ä»–å–œæ¬¢æˆ‘ã€‚&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                                                                    ----- ç½‘æ˜“äº‘çƒ­è¯„&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="ç®—æ³•" scheme="penghui.club/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
</feed>
